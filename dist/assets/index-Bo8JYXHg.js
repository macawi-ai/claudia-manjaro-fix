var od=Object.defineProperty;var ld=(t,s,n)=>s in t?od(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n;var Gr=(t,s,n)=>ld(t,typeof s!="symbol"?s+"":s,n);import{r as h,j as e,S as To,a as Ao,P as cd,C as Eo,I as Po,b as _o,c as Fo,d as Ro,L as Do,e as Lo,f as dd,T as ud,R as Nt,g as Io,h as md,i as Vo,k as Oo,l as hd,m as zo,V as xd,n as $o,o as Bo,p as pd,q as fd,s as Uo,t as gd,u as yd,O as Ho,v as jd,w as Wo,x as vd,y as qo,D as Go,z as Nd,A as Ko,B as wd,E as bd,F as kd,G as Jo}from"./ui-vendor-DX8dMwEd.js";import{a as Cd,g as Sd}from"./react-vendor-CWc6w16D.js";import{_ as Md,h as zt}from"./syntax-vendor-ChrS0SUu.js";import{i as G,o as za,a as $a,l as Qe,s as Td,c as Ad,g as Ed}from"./tauri-q-KBTfjL.js";import{c as Yo,t as Pd,f as _d}from"./utils-C7WoKIg-.js";import{E as Ba,u as Fd,r as Rd,b as Dd,V as Ld,c as Id,v as Vd,t as Od,d as Kn,e as Kr}from"./editor-vendor-Duz2AUOW.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();var gn={},Jr;function zd(){if(Jr)return gn;Jr=1;var t=Cd();return gn.createRoot=t.createRoot,gn.hydrateRoot=t.hydrateRoot,gn}var $d=zd();const Bd=Sd($d),Ua=h.createContext({});function Ha(t){const s=h.useRef(null);return s.current===null&&(s.current=t()),s.current}const Wa=typeof window<"u",Xo=Wa?h.useLayoutEffect:h.useEffect,zn=h.createContext(null);function qa(t,s){t.indexOf(s)===-1&&t.push(s)}function Ga(t,s){const n=t.indexOf(s);n>-1&&t.splice(n,1)}const $t=(t,s,n)=>n>s?s:n<t?t:n;let Ka=()=>{};const Bt={},Zo=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Qo(t){return typeof t=="object"&&t!==null}const el=t=>/^0[^.\s]+$/u.test(t);function Ja(t){let s;return()=>(s===void 0&&(s=t()),s)}const jt=t=>t,Ud=(t,s)=>n=>s(t(n)),cn=(...t)=>t.reduce(Ud),Ys=(t,s,n)=>{const a=s-t;return a===0?1:(n-t)/a};class Ya{constructor(){this.subscriptions=[]}add(s){return qa(this.subscriptions,s),()=>Ga(this.subscriptions,s)}notify(s,n,a){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](s,n,a);else for(let o=0;o<r;o++){const i=this.subscriptions[o];i&&i(s,n,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Pt=t=>t*1e3,_t=t=>t/1e3;function tl(t,s){return s?t*(1e3/s):0}const sl=(t,s,n)=>(((1-3*n+3*s)*t+(3*n-6*s))*t+3*s)*t,Hd=1e-7,Wd=12;function qd(t,s,n,a,r){let o,i,l=0;do i=s+(n-s)/2,o=sl(i,a,r)-t,o>0?n=i:s=i;while(Math.abs(o)>Hd&&++l<Wd);return i}function dn(t,s,n,a){if(t===s&&n===a)return jt;const r=o=>qd(o,0,1,t,n);return o=>o===0||o===1?o:sl(r(o),s,a)}const nl=t=>s=>s<=.5?t(2*s)/2:(2-t(2*(1-s)))/2,al=t=>s=>1-t(1-s),rl=dn(.33,1.53,.69,.99),Xa=al(rl),il=nl(Xa),ol=t=>(t*=2)<1?.5*Xa(t):.5*(2-Math.pow(2,-10*(t-1))),Za=t=>1-Math.sin(Math.acos(t)),ll=al(Za),cl=nl(Za),Gd=dn(.42,0,1,1),Kd=dn(0,0,.58,1),dl=dn(.42,0,.58,1),Jd=t=>Array.isArray(t)&&typeof t[0]!="number",ul=t=>Array.isArray(t)&&typeof t[0]=="number",Yd={linear:jt,easeIn:Gd,easeInOut:dl,easeOut:Kd,circIn:Za,circInOut:cl,circOut:ll,backIn:Xa,backInOut:il,backOut:rl,anticipate:ol},Xd=t=>typeof t=="string",Yr=t=>{if(ul(t)){Ka(t.length===4);const[s,n,a,r]=t;return dn(s,n,a,r)}else if(Xd(t))return Yd[t];return t},yn=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Xr={value:null};function Zd(t,s){let n=new Set,a=new Set,r=!1,o=!1;const i=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},d=0;function c(m){i.has(m)&&(u.schedule(m),t()),d++,m(l)}const u={schedule:(m,x=!1,p=!1)=>{const y=p&&r?n:a;return x&&i.add(m),y.has(m)||y.add(m),m},cancel:m=>{a.delete(m),i.delete(m)},process:m=>{if(l=m,r){o=!0;return}r=!0,[n,a]=[a,n],n.forEach(c),s&&Xr.value&&Xr.value.frameloop[s].push(d),d=0,n.clear(),r=!1,o&&(o=!1,u.process(m))}};return u}const Qd=40;function ml(t,s){let n=!1,a=!0;const r={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,i=yn.reduce((v,M)=>(v[M]=Zd(o,s?M:void 0),v),{}),{setup:l,read:d,resolveKeyframes:c,preUpdate:u,update:m,preRender:x,render:p,postRender:g}=i,y=()=>{const v=Bt.useManualTiming?r.timestamp:performance.now();n=!1,Bt.useManualTiming||(r.delta=a?1e3/60:Math.max(Math.min(v-r.timestamp,Qd),1)),r.timestamp=v,r.isProcessing=!0,l.process(r),d.process(r),c.process(r),u.process(r),m.process(r),x.process(r),p.process(r),g.process(r),r.isProcessing=!1,n&&s&&(a=!1,t(y))},j=()=>{n=!0,a=!0,r.isProcessing||t(y)};return{schedule:yn.reduce((v,M)=>{const f=i[M];return v[M]=(w,S=!1,E=!1)=>(n||j(),f.schedule(w,S,E)),v},{}),cancel:v=>{for(let M=0;M<yn.length;M++)i[yn[M]].cancel(v)},state:r,steps:i}}const{schedule:Ie,cancel:Yt,state:Ze,steps:Jn}=ml(typeof requestAnimationFrame<"u"?requestAnimationFrame:jt,!0);let bn;function eu(){bn=void 0}const ct={now:()=>(bn===void 0&&ct.set(Ze.isProcessing||Bt.useManualTiming?Ze.timestamp:performance.now()),bn),set:t=>{bn=t,queueMicrotask(eu)}},hl=t=>s=>typeof s=="string"&&s.startsWith(t),Qa=hl("--"),tu=hl("var(--"),er=t=>tu(t)?su.test(t.split("/*")[0].trim()):!1,su=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Fs={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Xs={...Fs,transform:t=>$t(0,1,t)},jn={...Fs,default:1},Bs=t=>Math.round(t*1e5)/1e5,tr=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nu(t){return t==null}const au=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sr=(t,s)=>n=>!!(typeof n=="string"&&au.test(n)&&n.startsWith(t)||s&&!nu(n)&&Object.prototype.hasOwnProperty.call(n,s)),xl=(t,s,n)=>a=>{if(typeof a!="string")return a;const[r,o,i,l]=a.match(tr);return{[t]:parseFloat(r),[s]:parseFloat(o),[n]:parseFloat(i),alpha:l!==void 0?parseFloat(l):1}},ru=t=>$t(0,255,t),Yn={...Fs,transform:t=>Math.round(ru(t))},rs={test:sr("rgb","red"),parse:xl("red","green","blue"),transform:({red:t,green:s,blue:n,alpha:a=1})=>"rgba("+Yn.transform(t)+", "+Yn.transform(s)+", "+Yn.transform(n)+", "+Bs(Xs.transform(a))+")"};function iu(t){let s="",n="",a="",r="";return t.length>5?(s=t.substring(1,3),n=t.substring(3,5),a=t.substring(5,7),r=t.substring(7,9)):(s=t.substring(1,2),n=t.substring(2,3),a=t.substring(3,4),r=t.substring(4,5),s+=s,n+=n,a+=a,r+=r),{red:parseInt(s,16),green:parseInt(n,16),blue:parseInt(a,16),alpha:r?parseInt(r,16)/255:1}}const ha={test:sr("#"),parse:iu,transform:rs.transform},un=t=>({test:s=>typeof s=="string"&&s.endsWith(t)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${t}`}),Kt=un("deg"),Ft=un("%"),me=un("px"),ou=un("vh"),lu=un("vw"),Zr={...Ft,parse:t=>Ft.parse(t)/100,transform:t=>Ft.transform(t*100)},js={test:sr("hsl","hue"),parse:xl("hue","saturation","lightness"),transform:({hue:t,saturation:s,lightness:n,alpha:a=1})=>"hsla("+Math.round(t)+", "+Ft.transform(Bs(s))+", "+Ft.transform(Bs(n))+", "+Bs(Xs.transform(a))+")"},We={test:t=>rs.test(t)||ha.test(t)||js.test(t),parse:t=>rs.test(t)?rs.parse(t):js.test(t)?js.parse(t):ha.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?rs.transform(t):js.transform(t),getAnimatableNone:t=>{const s=We.parse(t);return s.alpha=0,We.transform(s)}},cu=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function du(t){var s,n;return isNaN(t)&&typeof t=="string"&&(((s=t.match(tr))==null?void 0:s.length)||0)+(((n=t.match(cu))==null?void 0:n.length)||0)>0}const pl="number",fl="color",uu="var",mu="var(",Qr="${}",hu=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Zs(t){const s=t.toString(),n=[],a={color:[],number:[],var:[]},r=[];let o=0;const l=s.replace(hu,d=>(We.test(d)?(a.color.push(o),r.push(fl),n.push(We.parse(d))):d.startsWith(mu)?(a.var.push(o),r.push(uu),n.push(d)):(a.number.push(o),r.push(pl),n.push(parseFloat(d))),++o,Qr)).split(Qr);return{values:n,split:l,indexes:a,types:r}}function gl(t){return Zs(t).values}function yl(t){const{split:s,types:n}=Zs(t),a=s.length;return r=>{let o="";for(let i=0;i<a;i++)if(o+=s[i],r[i]!==void 0){const l=n[i];l===pl?o+=Bs(r[i]):l===fl?o+=We.transform(r[i]):o+=r[i]}return o}}const xu=t=>typeof t=="number"?0:We.test(t)?We.getAnimatableNone(t):t;function pu(t){const s=gl(t);return yl(t)(s.map(xu))}const Xt={test:du,parse:gl,createTransformer:yl,getAnimatableNone:pu};function Xn(t,s,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(s-t)*6*n:n<1/2?s:n<2/3?t+(s-t)*(2/3-n)*6:t}function fu({hue:t,saturation:s,lightness:n,alpha:a}){t/=360,s/=100,n/=100;let r=0,o=0,i=0;if(!s)r=o=i=n;else{const l=n<.5?n*(1+s):n+s-n*s,d=2*n-l;r=Xn(d,l,t+1/3),o=Xn(d,l,t),i=Xn(d,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(o*255),blue:Math.round(i*255),alpha:a}}function Tn(t,s){return n=>n>0?s:t}const Le=(t,s,n)=>t+(s-t)*n,Zn=(t,s,n)=>{const a=t*t,r=n*(s*s-a)+a;return r<0?0:Math.sqrt(r)},gu=[ha,rs,js],yu=t=>gu.find(s=>s.test(t));function ei(t){const s=yu(t);if(!s)return!1;let n=s.parse(t);return s===js&&(n=fu(n)),n}const ti=(t,s)=>{const n=ei(t),a=ei(s);if(!n||!a)return Tn(t,s);const r={...n};return o=>(r.red=Zn(n.red,a.red,o),r.green=Zn(n.green,a.green,o),r.blue=Zn(n.blue,a.blue,o),r.alpha=Le(n.alpha,a.alpha,o),rs.transform(r))},xa=new Set(["none","hidden"]);function ju(t,s){return xa.has(t)?n=>n<=0?t:s:n=>n>=1?s:t}function vu(t,s){return n=>Le(t,s,n)}function nr(t){return typeof t=="number"?vu:typeof t=="string"?er(t)?Tn:We.test(t)?ti:bu:Array.isArray(t)?jl:typeof t=="object"?We.test(t)?ti:Nu:Tn}function jl(t,s){const n=[...t],a=n.length,r=t.map((o,i)=>nr(o)(o,s[i]));return o=>{for(let i=0;i<a;i++)n[i]=r[i](o);return n}}function Nu(t,s){const n={...t,...s},a={};for(const r in n)t[r]!==void 0&&s[r]!==void 0&&(a[r]=nr(t[r])(t[r],s[r]));return r=>{for(const o in a)n[o]=a[o](r);return n}}function wu(t,s){const n=[],a={color:0,var:0,number:0};for(let r=0;r<s.values.length;r++){const o=s.types[r],i=t.indexes[o][a[o]],l=t.values[i]??0;n[r]=l,a[o]++}return n}const bu=(t,s)=>{const n=Xt.createTransformer(s),a=Zs(t),r=Zs(s);return a.indexes.var.length===r.indexes.var.length&&a.indexes.color.length===r.indexes.color.length&&a.indexes.number.length>=r.indexes.number.length?xa.has(t)&&!r.values.length||xa.has(s)&&!a.values.length?ju(t,s):cn(jl(wu(a,r),r.values),n):Tn(t,s)};function vl(t,s,n){return typeof t=="number"&&typeof s=="number"&&typeof n=="number"?Le(t,s,n):nr(t)(t,s)}const ku=t=>{const s=({timestamp:n})=>t(n);return{start:(n=!0)=>Ie.update(s,n),stop:()=>Yt(s),now:()=>Ze.isProcessing?Ze.timestamp:ct.now()}},Nl=(t,s,n=10)=>{let a="";const r=Math.max(Math.round(s/n),2);for(let o=0;o<r;o++)a+=Math.round(t(o/(r-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},An=2e4;function ar(t){let s=0;const n=50;let a=t.next(s);for(;!a.done&&s<An;)s+=n,a=t.next(s);return s>=An?1/0:s}function Cu(t,s=100,n){const a=n({...t,keyframes:[0,s]}),r=Math.min(ar(a),An);return{type:"keyframes",ease:o=>a.next(r*o).value/s,duration:_t(r)}}const Su=5;function wl(t,s,n){const a=Math.max(s-Su,0);return tl(n-t(a),s-a)}const Ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Qn=.001;function Mu({duration:t=Ve.duration,bounce:s=Ve.bounce,velocity:n=Ve.velocity,mass:a=Ve.mass}){let r,o,i=1-s;i=$t(Ve.minDamping,Ve.maxDamping,i),t=$t(Ve.minDuration,Ve.maxDuration,_t(t)),i<1?(r=c=>{const u=c*i,m=u*t,x=u-n,p=pa(c,i),g=Math.exp(-m);return Qn-x/p*g},o=c=>{const m=c*i*t,x=m*n+n,p=Math.pow(i,2)*Math.pow(c,2)*t,g=Math.exp(-m),y=pa(Math.pow(c,2),i);return(-r(c)+Qn>0?-1:1)*((x-p)*g)/y}):(r=c=>{const u=Math.exp(-c*t),m=(c-n)*t+1;return-Qn+u*m},o=c=>{const u=Math.exp(-c*t),m=(n-c)*(t*t);return u*m});const l=5/t,d=Au(r,o,l);if(t=Pt(t),isNaN(d))return{stiffness:Ve.stiffness,damping:Ve.damping,duration:t};{const c=Math.pow(d,2)*a;return{stiffness:c,damping:i*2*Math.sqrt(a*c),duration:t}}}const Tu=12;function Au(t,s,n){let a=n;for(let r=1;r<Tu;r++)a=a-t(a)/s(a);return a}function pa(t,s){return t*Math.sqrt(1-s*s)}const Eu=["duration","bounce"],Pu=["stiffness","damping","mass"];function si(t,s){return s.some(n=>t[n]!==void 0)}function _u(t){let s={velocity:Ve.velocity,stiffness:Ve.stiffness,damping:Ve.damping,mass:Ve.mass,isResolvedFromDuration:!1,...t};if(!si(t,Pu)&&si(t,Eu))if(t.visualDuration){const n=t.visualDuration,a=2*Math.PI/(n*1.2),r=a*a,o=2*$t(.05,1,1-(t.bounce||0))*Math.sqrt(r);s={...s,mass:Ve.mass,stiffness:r,damping:o}}else{const n=Mu(t);s={...s,...n,mass:Ve.mass},s.isResolvedFromDuration=!0}return s}function En(t=Ve.visualDuration,s=Ve.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:s}:t;let{restSpeed:a,restDelta:r}=n;const o=n.keyframes[0],i=n.keyframes[n.keyframes.length-1],l={done:!1,value:o},{stiffness:d,damping:c,mass:u,duration:m,velocity:x,isResolvedFromDuration:p}=_u({...n,velocity:-_t(n.velocity||0)}),g=x||0,y=c/(2*Math.sqrt(d*u)),j=i-o,b=_t(Math.sqrt(d/u)),k=Math.abs(j)<5;a||(a=k?Ve.restSpeed.granular:Ve.restSpeed.default),r||(r=k?Ve.restDelta.granular:Ve.restDelta.default);let v;if(y<1){const f=pa(b,y);v=w=>{const S=Math.exp(-y*b*w);return i-S*((g+y*b*j)/f*Math.sin(f*w)+j*Math.cos(f*w))}}else if(y===1)v=f=>i-Math.exp(-b*f)*(j+(g+b*j)*f);else{const f=b*Math.sqrt(y*y-1);v=w=>{const S=Math.exp(-y*b*w),E=Math.min(f*w,300);return i-S*((g+y*b*j)*Math.sinh(E)+f*j*Math.cosh(E))/f}}const M={calculatedDuration:p&&m||null,next:f=>{const w=v(f);if(p)l.done=f>=m;else{let S=f===0?g:0;y<1&&(S=f===0?Pt(g):wl(v,f,w));const E=Math.abs(S)<=a,P=Math.abs(i-w)<=r;l.done=E&&P}return l.value=l.done?i:w,l},toString:()=>{const f=Math.min(ar(M),An),w=Nl(S=>M.next(f*S).value,f,30);return f+"ms "+w},toTransition:()=>{}};return M}En.applyToOptions=t=>{const s=Cu(t,100,En);return t.ease=s.ease,t.duration=Pt(s.duration),t.type="keyframes",t};function fa({keyframes:t,velocity:s=0,power:n=.8,timeConstant:a=325,bounceDamping:r=10,bounceStiffness:o=500,modifyTarget:i,min:l,max:d,restDelta:c=.5,restSpeed:u}){const m=t[0],x={done:!1,value:m},p=E=>l!==void 0&&E<l||d!==void 0&&E>d,g=E=>l===void 0?d:d===void 0||Math.abs(l-E)<Math.abs(d-E)?l:d;let y=n*s;const j=m+y,b=i===void 0?j:i(j);b!==j&&(y=b-m);const k=E=>-y*Math.exp(-E/a),v=E=>b+k(E),M=E=>{const P=k(E),_=v(E);x.done=Math.abs(P)<=c,x.value=x.done?b:_};let f,w;const S=E=>{p(x.value)&&(f=E,w=En({keyframes:[x.value,g(x.value)],velocity:wl(v,E,x.value),damping:r,stiffness:o,restDelta:c,restSpeed:u}))};return S(0),{calculatedDuration:null,next:E=>{let P=!1;return!w&&f===void 0&&(P=!0,M(E),S(E)),f!==void 0&&E>=f?w.next(E-f):(!P&&M(E),x)}}}function Fu(t,s,n){const a=[],r=n||Bt.mix||vl,o=t.length-1;for(let i=0;i<o;i++){let l=r(t[i],t[i+1]);if(s){const d=Array.isArray(s)?s[i]||jt:s;l=cn(d,l)}a.push(l)}return a}function Ru(t,s,{clamp:n=!0,ease:a,mixer:r}={}){const o=t.length;if(Ka(o===s.length),o===1)return()=>s[0];if(o===2&&s[0]===s[1])return()=>s[1];const i=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),s=[...s].reverse());const l=Fu(s,a,r),d=l.length,c=u=>{if(i&&u<t[0])return s[0];let m=0;if(d>1)for(;m<t.length-2&&!(u<t[m+1]);m++);const x=Ys(t[m],t[m+1],u);return l[m](x)};return n?u=>c($t(t[0],t[o-1],u)):c}function Du(t,s){const n=t[t.length-1];for(let a=1;a<=s;a++){const r=Ys(0,s,a);t.push(Le(n,1,r))}}function Lu(t){const s=[0];return Du(s,t.length-1),s}function Iu(t,s){return t.map(n=>n*s)}function Vu(t,s){return t.map(()=>s||dl).splice(0,t.length-1)}function Us({duration:t=300,keyframes:s,times:n,ease:a="easeInOut"}){const r=Jd(a)?a.map(Yr):Yr(a),o={done:!1,value:s[0]},i=Iu(n&&n.length===s.length?n:Lu(s),t),l=Ru(i,s,{ease:Array.isArray(r)?r:Vu(s,r)});return{calculatedDuration:t,next:d=>(o.value=l(d),o.done=d>=t,o)}}const Ou=t=>t!==null;function rr(t,{repeat:s,repeatType:n="loop"},a,r=1){const o=t.filter(Ou),l=r<0||s&&n!=="loop"&&s%2===1?0:o.length-1;return!l||a===void 0?o[l]:a}const zu={decay:fa,inertia:fa,tween:Us,keyframes:Us,spring:En};function bl(t){typeof t.type=="string"&&(t.type=zu[t.type])}class ir{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(s=>{this.resolve=s})}notifyFinished(){this.resolve()}then(s,n){return this.finished.then(s,n)}}const $u=t=>t/100;class or extends ir{constructor(s){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,r;const{motionValue:n}=this.options;n&&n.updatedAt!==ct.now()&&this.tick(ct.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(a=this.options).onStop)==null||r.call(a))},this.options=s,this.initAnimation(),this.play(),s.autoplay===!1&&this.pause()}initAnimation(){const{options:s}=this;bl(s);const{type:n=Us,repeat:a=0,repeatDelay:r=0,repeatType:o,velocity:i=0}=s;let{keyframes:l}=s;const d=n||Us;d!==Us&&typeof l[0]!="number"&&(this.mixKeyframes=cn($u,vl(l[0],l[1])),l=[0,100]);const c=d({...s,keyframes:l});o==="mirror"&&(this.mirroredGenerator=d({...s,keyframes:[...l].reverse(),velocity:-i})),c.calculatedDuration===null&&(c.calculatedDuration=ar(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+r,this.totalDuration=this.resolvedDuration*(a+1)-r,this.generator=c}updateTime(s){const n=Math.round(s-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(s,n=!1){const{generator:a,totalDuration:r,mixKeyframes:o,mirroredGenerator:i,resolvedDuration:l,calculatedDuration:d}=this;if(this.startTime===null)return a.next(0);const{delay:c=0,keyframes:u,repeat:m,repeatType:x,repeatDelay:p,type:g,onUpdate:y,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-r/this.speed,this.startTime)),n?this.currentTime=s:this.updateTime(s);const b=this.currentTime-c*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?b<0:b>r;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let v=this.currentTime,M=a;if(m){const E=Math.min(this.currentTime,r)/l;let P=Math.floor(E),_=E%1;!_&&E>=1&&(_=1),_===1&&P--,P=Math.min(P,m+1),!!(P%2)&&(x==="reverse"?(_=1-_,p&&(_-=p/l)):x==="mirror"&&(M=i)),v=$t(0,1,_)*l}const f=k?{done:!1,value:u[0]}:M.next(v);o&&(f.value=o(f.value));let{done:w}=f;!k&&d!==null&&(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&w);return S&&g!==fa&&(f.value=rr(u,this.options,j,this.speed)),y&&y(f.value),S&&this.finish(),f}then(s,n){return this.finished.then(s,n)}get duration(){return _t(this.calculatedDuration)}get time(){return _t(this.currentTime)}set time(s){var n;s=Pt(s),this.currentTime=s,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(s){this.updateTime(ct.now());const n=this.playbackSpeed!==s;this.playbackSpeed=s,n&&(this.time=_t(this.currentTime))}play(){var r,o;if(this.isStopped)return;const{driver:s=ku,startTime:n}=this.options;this.driver||(this.driver=s(i=>this.tick(i))),(o=(r=this.options).onPlay)==null||o.call(r);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=n??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ct.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var s,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(s=this.options).onComplete)==null||n.call(s)}cancel(){var s,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(s=this.options).onCancel)==null||n.call(s)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}attachTimeline(s){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),s.observe(this)}}function Bu(t){for(let s=1;s<t.length;s++)t[s]??(t[s]=t[s-1])}const is=t=>t*180/Math.PI,ga=t=>{const s=is(Math.atan2(t[1],t[0]));return ya(s)},Uu={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ga,rotateZ:ga,skewX:t=>is(Math.atan(t[1])),skewY:t=>is(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},ya=t=>(t=t%360,t<0&&(t+=360),t),ni=ga,ai=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ri=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Hu={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ai,scaleY:ri,scale:t=>(ai(t)+ri(t))/2,rotateX:t=>ya(is(Math.atan2(t[6],t[5]))),rotateY:t=>ya(is(Math.atan2(-t[2],t[0]))),rotateZ:ni,rotate:ni,skewX:t=>is(Math.atan(t[4])),skewY:t=>is(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ja(t){return t.includes("scale")?1:0}function va(t,s){if(!t||t==="none")return ja(s);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,r;if(n)a=Hu,r=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=Uu,r=l}if(!r)return ja(s);const o=a[s],i=r[1].split(",").map(qu);return typeof o=="function"?o(i):i[o]}const Wu=(t,s)=>{const{transform:n="none"}=getComputedStyle(t);return va(n,s)};function qu(t){return parseFloat(t.trim())}const Rs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ds=new Set(Rs),ii=t=>t===Fs||t===me,Gu=new Set(["x","y","z"]),Ku=Rs.filter(t=>!Gu.has(t));function Ju(t){const s=[];return Ku.forEach(n=>{const a=t.getValue(n);a!==void 0&&(s.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),s}const os={width:({x:t},{paddingLeft:s="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(s)-parseFloat(n),height:({y:t},{paddingTop:s="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(s)-parseFloat(n),top:(t,{top:s})=>parseFloat(s),left:(t,{left:s})=>parseFloat(s),bottom:({y:t},{top:s})=>parseFloat(s)+(t.max-t.min),right:({x:t},{left:s})=>parseFloat(s)+(t.max-t.min),x:(t,{transform:s})=>va(s,"x"),y:(t,{transform:s})=>va(s,"y")};os.translateX=os.x;os.translateY=os.y;const ls=new Set;let Na=!1,wa=!1,ba=!1;function kl(){if(wa){const t=Array.from(ls).filter(a=>a.needsMeasurement),s=new Set(t.map(a=>a.element)),n=new Map;s.forEach(a=>{const r=Ju(a);r.length&&(n.set(a,r),a.render())}),t.forEach(a=>a.measureInitialState()),s.forEach(a=>{a.render();const r=n.get(a);r&&r.forEach(([o,i])=>{var l;(l=a.getValue(o))==null||l.set(i)})}),t.forEach(a=>a.measureEndState()),t.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}wa=!1,Na=!1,ls.forEach(t=>t.complete(ba)),ls.clear()}function Cl(){ls.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(wa=!0)})}function Yu(){ba=!0,Cl(),kl(),ba=!1}class lr{constructor(s,n,a,r,o,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...s],this.onComplete=n,this.name=a,this.motionValue=r,this.element=o,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(ls.add(this),Na||(Na=!0,Ie.read(Cl),Ie.resolveKeyframes(kl))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:n,element:a,motionValue:r}=this;if(s[0]===null){const o=r==null?void 0:r.get(),i=s[s.length-1];if(o!==void 0)s[0]=o;else if(a&&n){const l=a.readValue(n,i);l!=null&&(s[0]=l)}s[0]===void 0&&(s[0]=i),r&&o===void 0&&r.set(s[0])}Bu(s)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(s=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,s),ls.delete(this)}cancel(){this.state==="scheduled"&&(ls.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Xu=t=>t.startsWith("--");function Zu(t,s,n){Xu(s)?t.style.setProperty(s,n):t.style[s]=n}const Qu=Ja(()=>window.ScrollTimeline!==void 0),em={};function tm(t,s){const n=Ja(t);return()=>em[s]??n()}const Sl=tm(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zs=([t,s,n,a])=>`cubic-bezier(${t}, ${s}, ${n}, ${a})`,oi={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zs([0,.65,.55,1]),circOut:zs([.55,0,1,.45]),backIn:zs([.31,.01,.66,-.59]),backOut:zs([.33,1.53,.69,.99])};function Ml(t,s){if(t)return typeof t=="function"?Sl()?Nl(t,s):"ease-out":ul(t)?zs(t):Array.isArray(t)?t.map(n=>Ml(n,s)||oi.easeOut):oi[t]}function sm(t,s,n,{delay:a=0,duration:r=300,repeat:o=0,repeatType:i="loop",ease:l="easeOut",times:d}={},c=void 0){const u={[s]:n};d&&(u.offset=d);const m=Ml(l,r);Array.isArray(m)&&(u.easing=m);const x={delay:a,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:o+1,direction:i==="reverse"?"alternate":"normal"};return c&&(x.pseudoElement=c),t.animate(u,x)}function Tl(t){return typeof t=="function"&&"applyToOptions"in t}function nm({type:t,...s}){return Tl(t)&&Sl()?t.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}class am extends ir{constructor(s){if(super(),this.finishedTime=null,this.isStopped=!1,!s)return;const{element:n,name:a,keyframes:r,pseudoElement:o,allowFlatten:i=!1,finalKeyframe:l,onComplete:d}=s;this.isPseudoElement=!!o,this.allowFlatten=i,this.options=s,Ka(typeof s.type!="string");const c=nm(s);this.animation=sm(n,a,r,c,o),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const u=rr(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):Zu(n,a,u),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var s,n;(n=(s=this.animation).finish)==null||n.call(s)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:s}=this;s==="idle"||s==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var s,n;this.isPseudoElement||(n=(s=this.animation).commitStyles)==null||n.call(s)}get duration(){var n,a;const s=((a=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:a.call(n).duration)||0;return _t(Number(s))}get time(){return _t(Number(this.animation.currentTime)||0)}set time(s){this.finishedTime=null,this.animation.currentTime=Pt(s)}get speed(){return this.animation.playbackRate}set speed(s){s<0&&(this.finishedTime=null),this.animation.playbackRate=s}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(s){this.animation.startTime=s}attachTimeline({timeline:s,observe:n}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,s&&Qu()?(this.animation.timeline=s,jt):n(this)}}const Al={anticipate:ol,backInOut:il,circInOut:cl};function rm(t){return t in Al}function im(t){typeof t.ease=="string"&&rm(t.ease)&&(t.ease=Al[t.ease])}const li=10;class om extends am{constructor(s){im(s),bl(s),super(s),s.startTime&&(this.startTime=s.startTime),this.options=s}updateMotionValue(s){const{motionValue:n,onUpdate:a,onComplete:r,element:o,...i}=this.options;if(!n)return;if(s!==void 0){n.set(s);return}const l=new or({...i,autoplay:!1}),d=Pt(this.finishedTime??this.time);n.setWithVelocity(l.sample(d-li).value,l.sample(d).value,li),l.stop()}}const ci=(t,s)=>s==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xt.test(t)||t==="0")&&!t.startsWith("url("));function lm(t){const s=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==s)return!0}function cm(t,s,n,a){const r=t[0];if(r===null)return!1;if(s==="display"||s==="visibility")return!0;const o=t[t.length-1],i=ci(r,s),l=ci(o,s);return!i||!l?!1:lm(t)||(n==="spring"||Tl(n))&&a}function cr(t){return Qo(t)&&"offsetHeight"in t}const dm=new Set(["opacity","clipPath","filter","transform"]),um=Ja(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function mm(t){var c;const{motionValue:s,name:n,repeatDelay:a,repeatType:r,damping:o,type:i}=t;if(!cr((c=s==null?void 0:s.owner)==null?void 0:c.current))return!1;const{onUpdate:l,transformTemplate:d}=s.owner.getProps();return um()&&n&&dm.has(n)&&(n!=="transform"||!d)&&!l&&!a&&r!=="mirror"&&o!==0&&i!=="inertia"}const hm=40;class xm extends ir{constructor({autoplay:s=!0,delay:n=0,type:a="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:i="loop",keyframes:l,name:d,motionValue:c,element:u,...m}){var g;super(),this.stop=()=>{var y,j;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=ct.now();const x={autoplay:s,delay:n,type:a,repeat:r,repeatDelay:o,repeatType:i,name:d,motionValue:c,element:u,...m},p=(u==null?void 0:u.KeyframeResolver)||lr;this.keyframeResolver=new p(l,(y,j,b)=>this.onKeyframesResolved(y,j,x,!b),d,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(s,n,a,r){this.keyframeResolver=void 0;const{name:o,type:i,velocity:l,delay:d,isHandoff:c,onUpdate:u}=a;this.resolvedAt=ct.now(),cm(s,o,i,l)||((Bt.instantAnimations||!d)&&(u==null||u(rr(s,a,n))),s[0]=s[s.length-1],a.duration=0,a.repeat=0);const x={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>hm?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...a,keyframes:s},p=!c&&mm(x)?new om({...x,element:x.motionValue.owner.current}):new or(x);p.finished.then(()=>this.notifyFinished()).catch(jt),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(s,n){return this.finished.finally(s).then(()=>{})}get animation(){var s;return this._animation||((s=this.keyframeResolver)==null||s.resume(),Yu()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(s){this.animation.time=s}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(s){this.animation.speed=s}get startTime(){return this.animation.startTime}attachTimeline(s){return this._animation?this.stopTimeline=this.animation.attachTimeline(s):this.pendingTimeline=s,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var s;this._animation&&this.animation.cancel(),(s=this.keyframeResolver)==null||s.cancel()}}const pm=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fm(t){const s=pm.exec(t);if(!s)return[,];const[,n,a,r]=s;return[`--${n??a}`,r]}function El(t,s,n=1){const[a,r]=fm(t);if(!a)return;const o=window.getComputedStyle(s).getPropertyValue(a);if(o){const i=o.trim();return Zo(i)?parseFloat(i):i}return er(r)?El(r,s,n+1):r}function dr(t,s){return(t==null?void 0:t[s])??(t==null?void 0:t.default)??t}const Pl=new Set(["width","height","top","left","right","bottom",...Rs]),gm={test:t=>t==="auto",parse:t=>t},_l=t=>s=>s.test(t),Fl=[Fs,me,Ft,Kt,lu,ou,gm],di=t=>Fl.find(_l(t));function ym(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||el(t):!0}const jm=new Set(["brightness","contrast","saturate","opacity"]);function vm(t){const[s,n]=t.slice(0,-1).split("(");if(s==="drop-shadow")return t;const[a]=n.match(tr)||[];if(!a)return t;const r=n.replace(a,"");let o=jm.has(s)?1:0;return a!==n&&(o*=100),s+"("+o+r+")"}const Nm=/\b([a-z-]*)\(.*?\)/gu,ka={...Xt,getAnimatableNone:t=>{const s=t.match(Nm);return s?s.map(vm).join(" "):t}},ui={...Fs,transform:Math.round},wm={rotate:Kt,rotateX:Kt,rotateY:Kt,rotateZ:Kt,scale:jn,scaleX:jn,scaleY:jn,scaleZ:jn,skew:Kt,skewX:Kt,skewY:Kt,distance:me,translateX:me,translateY:me,translateZ:me,x:me,y:me,z:me,perspective:me,transformPerspective:me,opacity:Xs,originX:Zr,originY:Zr,originZ:me},ur={borderWidth:me,borderTopWidth:me,borderRightWidth:me,borderBottomWidth:me,borderLeftWidth:me,borderRadius:me,radius:me,borderTopLeftRadius:me,borderTopRightRadius:me,borderBottomRightRadius:me,borderBottomLeftRadius:me,width:me,maxWidth:me,height:me,maxHeight:me,top:me,right:me,bottom:me,left:me,padding:me,paddingTop:me,paddingRight:me,paddingBottom:me,paddingLeft:me,margin:me,marginTop:me,marginRight:me,marginBottom:me,marginLeft:me,backgroundPositionX:me,backgroundPositionY:me,...wm,zIndex:ui,fillOpacity:Xs,strokeOpacity:Xs,numOctaves:ui},bm={...ur,color:We,backgroundColor:We,outlineColor:We,fill:We,stroke:We,borderColor:We,borderTopColor:We,borderRightColor:We,borderBottomColor:We,borderLeftColor:We,filter:ka,WebkitFilter:ka},Rl=t=>bm[t];function Dl(t,s){let n=Rl(t);return n!==ka&&(n=Xt),n.getAnimatableNone?n.getAnimatableNone(s):void 0}const km=new Set(["auto","none","0"]);function Cm(t,s,n){let a=0,r;for(;a<t.length&&!r;){const o=t[a];typeof o=="string"&&!km.has(o)&&Zs(o).values.length&&(r=t[a]),a++}if(r&&n)for(const o of s)t[o]=Dl(n,r)}class Sm extends lr{constructor(s,n,a,r,o){super(s,n,a,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:n,name:a}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<s.length;d++){let c=s[d];if(typeof c=="string"&&(c=c.trim(),er(c))){const u=El(c,n.current);u!==void 0&&(s[d]=u),d===s.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Pl.has(a)||s.length!==2)return;const[r,o]=s,i=di(r),l=di(o);if(i!==l)if(ii(i)&&ii(l))for(let d=0;d<s.length;d++){const c=s[d];typeof c=="string"&&(s[d]=parseFloat(c))}else os[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:n}=this,a=[];for(let r=0;r<s.length;r++)(s[r]===null||ym(s[r]))&&a.push(r);a.length&&Cm(s,a,n)}measureInitialState(){const{element:s,unresolvedKeyframes:n,name:a}=this;if(!s||!s.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=os[a](s.measureViewportBox(),window.getComputedStyle(s.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&s.getValue(a,r).jump(r,!1)}measureEndState(){var l;const{element:s,name:n,unresolvedKeyframes:a}=this;if(!s||!s.current)return;const r=s.getValue(n);r&&r.jump(this.measuredOrigin,!1);const o=a.length-1,i=a[o];a[o]=os[n](s.measureViewportBox(),window.getComputedStyle(s.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([d,c])=>{s.getValue(d).set(c)}),this.resolveNoneKeyframes()}}function Mm(t,s,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let a=document;const r=(n==null?void 0:n[t])??a.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const Ll=(t,s)=>s&&typeof t=="number"?s.transform(t):t,mi=30,Tm=t=>!isNaN(parseFloat(t));class Am{constructor(s,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,r=!0)=>{var i,l;const o=ct.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();r&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(s),this.owner=n.owner}setCurrent(s){this.current=s,this.updatedAt=ct.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=Tm(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,n){this.events[s]||(this.events[s]=new Ya);const a=this.events[s].add(n);return s==="change"?()=>{a(),Ie.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,n){this.passiveEffect=s,this.stopPassiveEffect=n}set(s,n=!0){!n||!this.passiveEffect?this.updateAndNotify(s,n):this.passiveEffect(s,this.updateAndNotify)}setWithVelocity(s,n,a){this.set(n),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-a}jump(s,n=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var s;(s=this.events.change)==null||s.notify(this.current)}addDependent(s){this.dependents||(this.dependents=new Set),this.dependents.add(s)}removeDependent(s){this.dependents&&this.dependents.delete(s)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=ct.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>mi)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,mi);return tl(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(s){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=s(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var s,n;(s=this.dependents)==null||s.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ss(t,s){return new Am(t,s)}const{schedule:mr}=ml(queueMicrotask,!1),kt={x:!1,y:!1};function Il(){return kt.x||kt.y}function Em(t){return t==="x"||t==="y"?kt[t]?null:(kt[t]=!0,()=>{kt[t]=!1}):kt.x||kt.y?null:(kt.x=kt.y=!0,()=>{kt.x=kt.y=!1})}function Vl(t,s){const n=Mm(t),a=new AbortController,r={passive:!0,...s,signal:a.signal};return[n,r,()=>a.abort()]}function hi(t){return!(t.pointerType==="touch"||Il())}function Pm(t,s,n={}){const[a,r,o]=Vl(t,n),i=l=>{if(!hi(l))return;const{target:d}=l,c=s(d,l);if(typeof c!="function"||!d)return;const u=m=>{hi(m)&&(c(m),d.removeEventListener("pointerleave",u))};d.addEventListener("pointerleave",u,r)};return a.forEach(l=>{l.addEventListener("pointerenter",i,r)}),o}const Ol=(t,s)=>s?t===s?!0:Ol(t,s.parentElement):!1,hr=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,_m=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Fm(t){return _m.has(t.tagName)||t.tabIndex!==-1}const kn=new WeakSet;function xi(t){return s=>{s.key==="Enter"&&t(s)}}function ea(t,s){t.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const Rm=(t,s)=>{const n=t.currentTarget;if(!n)return;const a=xi(()=>{if(kn.has(n))return;ea(n,"down");const r=xi(()=>{ea(n,"up")}),o=()=>ea(n,"cancel");n.addEventListener("keyup",r,s),n.addEventListener("blur",o,s)});n.addEventListener("keydown",a,s),n.addEventListener("blur",()=>n.removeEventListener("keydown",a),s)};function pi(t){return hr(t)&&!Il()}function Dm(t,s,n={}){const[a,r,o]=Vl(t,n),i=l=>{const d=l.currentTarget;if(!pi(l))return;kn.add(d);const c=s(d,l),u=(p,g)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",x),kn.has(d)&&kn.delete(d),pi(p)&&typeof c=="function"&&c(p,{success:g})},m=p=>{u(p,d===window||d===document||n.useGlobalTarget||Ol(d,p.target))},x=p=>{u(p,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",x,r)};return a.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",i,r),cr(l)&&(l.addEventListener("focus",c=>Rm(c,r)),!Fm(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),o}function zl(t){return Qo(t)&&"ownerSVGElement"in t}function Lm(t){return zl(t)&&t.tagName==="svg"}const at=t=>!!(t&&t.getVelocity),Im=[...Fl,We,Xt],Vm=t=>Im.find(_l(t)),xr=h.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Om extends h.Component{getSnapshotBeforeUpdate(s){const n=this.props.childRef.current;if(n&&s.isPresent&&!this.props.isPresent){const a=n.offsetParent,r=cr(a)&&a.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=r-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zm({children:t,isPresent:s,anchorX:n}){const a=h.useId(),r=h.useRef(null),o=h.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:i}=h.useContext(xr);return h.useInsertionEffect(()=>{const{width:l,height:d,top:c,left:u,right:m}=o.current;if(s||!r.current||!l||!d)return;const x=n==="left"?`left: ${u}`:`right: ${m}`;r.current.dataset.motionPopId=a;const p=document.createElement("style");return i&&(p.nonce=i),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(p)&&document.head.removeChild(p)}},[s]),e.jsx(Om,{isPresent:s,childRef:r,sizeRef:o,children:h.cloneElement(t,{ref:r})})}const $m=({children:t,initial:s,isPresent:n,onExitComplete:a,custom:r,presenceAffectsLayout:o,mode:i,anchorX:l})=>{const d=Ha(Bm),c=h.useId();let u=!0,m=h.useMemo(()=>(u=!1,{id:c,initial:s,isPresent:n,custom:r,onExitComplete:x=>{d.set(x,!0);for(const p of d.values())if(!p)return;a&&a()},register:x=>(d.set(x,!1),()=>d.delete(x))}),[n,d,a]);return o&&u&&(m={...m}),h.useMemo(()=>{d.forEach((x,p)=>d.set(p,!1))},[n]),h.useEffect(()=>{!n&&!d.size&&a&&a()},[n]),i==="popLayout"&&(t=e.jsx(zm,{isPresent:n,anchorX:l,children:t})),e.jsx(zn.Provider,{value:m,children:t})};function Bm(){return new Map}function $l(t=!0){const s=h.useContext(zn);if(s===null)return[!0,null];const{isPresent:n,onExitComplete:a,register:r}=s,o=h.useId();h.useEffect(()=>{if(t)return r(o)},[t]);const i=h.useCallback(()=>t&&a&&a(o),[o,a,t]);return!n&&a?[!1,i]:[!0]}const vn=t=>t.key||"";function fi(t){const s=[];return h.Children.forEach(t,n=>{h.isValidElement(n)&&s.push(n)}),s}const ke=({children:t,custom:s,initial:n=!0,onExitComplete:a,presenceAffectsLayout:r=!0,mode:o="sync",propagate:i=!1,anchorX:l="left"})=>{const[d,c]=$l(i),u=h.useMemo(()=>fi(t),[t]),m=i&&!d?[]:u.map(vn),x=h.useRef(!0),p=h.useRef(u),g=Ha(()=>new Map),[y,j]=h.useState(u),[b,k]=h.useState(u);Xo(()=>{x.current=!1,p.current=u;for(let f=0;f<b.length;f++){const w=vn(b[f]);m.includes(w)?g.delete(w):g.get(w)!==!0&&g.set(w,!1)}},[b,m.length,m.join("-")]);const v=[];if(u!==y){let f=[...u];for(let w=0;w<b.length;w++){const S=b[w],E=vn(S);m.includes(E)||(f.splice(w,0,S),v.push(S))}return o==="wait"&&v.length&&(f=v),k(fi(f)),j(u),null}const{forceRender:M}=h.useContext(Ua);return e.jsx(e.Fragment,{children:b.map(f=>{const w=vn(f),S=i&&!d?!1:u===b||m.includes(w),E=()=>{if(g.has(w))g.set(w,!0);else return;let P=!0;g.forEach(_=>{_||(P=!1)}),P&&(M==null||M(),k(p.current),i&&(c==null||c()),a&&a())};return e.jsx($m,{isPresent:S,initial:!x.current||n?void 0:!1,custom:s,presenceAffectsLayout:r,mode:o,onExitComplete:S?void 0:E,anchorX:l,children:f},w)})})},Bl=h.createContext({strict:!1}),gi={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ms={};for(const t in gi)Ms[t]={isEnabled:s=>gi[t].some(n=>!!s[n])};function Um(t){for(const s in t)Ms[s]={...Ms[s],...t[s]}}const Hm=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pn(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Hm.has(t)}let Ul=t=>!Pn(t);function Wm(t){typeof t=="function"&&(Ul=s=>s.startsWith("on")?!Pn(s):t(s))}try{Wm(require("@emotion/is-prop-valid").default)}catch{}function qm(t,s,n){const a={};for(const r in t)r==="values"&&typeof t.values=="object"||(Ul(r)||n===!0&&Pn(r)||!s&&!Pn(r)||t.draggable&&r.startsWith("onDrag"))&&(a[r]=t[r]);return a}function Gm(t){if(typeof Proxy>"u")return t;const s=new Map,n=(...a)=>t(...a);return new Proxy(n,{get:(a,r)=>r==="create"?t:(s.has(r)||s.set(r,t(r)),s.get(r))})}const $n=h.createContext({});function Bn(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Qs(t){return typeof t=="string"||Array.isArray(t)}const pr=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fr=["initial",...pr];function Un(t){return Bn(t.animate)||fr.some(s=>Qs(t[s]))}function Hl(t){return!!(Un(t)||t.variants)}function Km(t,s){if(Un(t)){const{initial:n,animate:a}=t;return{initial:n===!1||Qs(n)?n:void 0,animate:Qs(a)?a:void 0}}return t.inherit!==!1?s:{}}function Jm(t){const{initial:s,animate:n}=Km(t,h.useContext($n));return h.useMemo(()=>({initial:s,animate:n}),[yi(s),yi(n)])}function yi(t){return Array.isArray(t)?t.join(" "):t}const Ym=Symbol.for("motionComponentSymbol");function vs(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Xm(t,s,n){return h.useCallback(a=>{a&&t.onMount&&t.onMount(a),s&&(a?s.mount(a):s.unmount()),n&&(typeof n=="function"?n(a):vs(n)&&(n.current=a))},[s])}const gr=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Zm="framerAppearId",Wl="data-"+gr(Zm),ql=h.createContext({});function Qm(t,s,n,a,r){var y,j;const{visualElement:o}=h.useContext($n),i=h.useContext(Bl),l=h.useContext(zn),d=h.useContext(xr).reducedMotion,c=h.useRef(null);a=a||i.renderer,!c.current&&a&&(c.current=a(t,{visualState:s,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const u=c.current,m=h.useContext(ql);u&&!u.projection&&r&&(u.type==="html"||u.type==="svg")&&eh(c.current,n,r,m);const x=h.useRef(!1);h.useInsertionEffect(()=>{u&&x.current&&u.update(n,l)});const p=n[Wl],g=h.useRef(!!p&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,p))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,p)));return Xo(()=>{u&&(x.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),mr.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,p)}),g.current=!1))}),u}function eh(t,s,n,a){const{layoutId:r,layout:o,drag:i,dragConstraints:l,layoutScroll:d,layoutRoot:c,layoutCrossfade:u}=s;t.projection=new n(t.latestValues,s["data-framer-portal-id"]?void 0:Gl(t.parent)),t.projection.setOptions({layoutId:r,layout:o,alwaysMeasureLayout:!!i||l&&vs(l),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:a,crossfade:u,layoutScroll:d,layoutRoot:c})}function Gl(t){if(t)return t.options.allowProjection!==!1?t.projection:Gl(t.parent)}function th({preloadedFeatures:t,createVisualElement:s,useRender:n,useVisualState:a,Component:r}){t&&Um(t);function o(l,d){let c;const u={...h.useContext(xr),...l,layoutId:sh(l)},{isStatic:m}=u,x=Jm(l),p=a(l,m);if(!m&&Wa){nh();const g=ah(u);c=g.MeasureLayout,x.visualElement=Qm(r,p,u,s,g.ProjectionNode)}return e.jsxs($n.Provider,{value:x,children:[c&&x.visualElement?e.jsx(c,{visualElement:x.visualElement,...u}):null,n(r,l,Xm(p,x.visualElement,d),p,m,x.visualElement)]})}o.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const i=h.forwardRef(o);return i[Ym]=r,i}function sh({layoutId:t}){const s=h.useContext(Ua).id;return s&&t!==void 0?s+"-"+t:t}function nh(t,s){h.useContext(Bl).strict}function ah(t){const{drag:s,layout:n}=Ms;if(!s&&!n)return{};const a={...s,...n};return{MeasureLayout:s!=null&&s.isEnabled(t)||n!=null&&n.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const en={};function rh(t){for(const s in t)en[s]=t[s],Qa(s)&&(en[s].isCSSVariable=!0)}function Kl(t,{layout:s,layoutId:n}){return Ds.has(t)||t.startsWith("origin")||(s||n!==void 0)&&(!!en[t]||t==="opacity")}const ih={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oh=Rs.length;function lh(t,s,n){let a="",r=!0;for(let o=0;o<oh;o++){const i=Rs[o],l=t[i];if(l===void 0)continue;let d=!0;if(typeof l=="number"?d=l===(i.startsWith("scale")?1:0):d=parseFloat(l)===0,!d||n){const c=Ll(l,ur[i]);if(!d){r=!1;const u=ih[i]||i;a+=`${u}(${c}) `}n&&(s[i]=c)}}return a=a.trim(),n?a=n(s,r?"":a):r&&(a="none"),a}function yr(t,s,n){const{style:a,vars:r,transformOrigin:o}=t;let i=!1,l=!1;for(const d in s){const c=s[d];if(Ds.has(d)){i=!0;continue}else if(Qa(d)){r[d]=c;continue}else{const u=Ll(c,ur[d]);d.startsWith("origin")?(l=!0,o[d]=u):a[d]=u}}if(s.transform||(i||n?a.transform=lh(s,t.transform,n):a.transform&&(a.transform="none")),l){const{originX:d="50%",originY:c="50%",originZ:u=0}=o;a.transformOrigin=`${d} ${c} ${u}`}}const jr=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Jl(t,s,n){for(const a in s)!at(s[a])&&!Kl(a,n)&&(t[a]=s[a])}function ch({transformTemplate:t},s){return h.useMemo(()=>{const n=jr();return yr(n,s,t),Object.assign({},n.vars,n.style)},[s])}function dh(t,s){const n=t.style||{},a={};return Jl(a,n,t),Object.assign(a,ch(t,s)),a}function uh(t,s){const n={},a=dh(t,s);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=a,n}const mh={offset:"stroke-dashoffset",array:"stroke-dasharray"},hh={offset:"strokeDashoffset",array:"strokeDasharray"};function xh(t,s,n=1,a=0,r=!0){t.pathLength=1;const o=r?mh:hh;t[o.offset]=me.transform(-a);const i=me.transform(s),l=me.transform(n);t[o.array]=`${i} ${l}`}function Yl(t,{attrX:s,attrY:n,attrScale:a,pathLength:r,pathSpacing:o=1,pathOffset:i=0,...l},d,c,u){if(yr(t,l,c),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:x}=t;m.transform&&(x.transform=m.transform,delete m.transform),(x.transform||m.transformOrigin)&&(x.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),x.transform&&(x.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete m.transformBox),s!==void 0&&(m.x=s),n!==void 0&&(m.y=n),a!==void 0&&(m.scale=a),r!==void 0&&xh(m,r,o,i,!1)}const Xl=()=>({...jr(),attrs:{}}),Zl=t=>typeof t=="string"&&t.toLowerCase()==="svg";function ph(t,s,n,a){const r=h.useMemo(()=>{const o=Xl();return Yl(o,s,Zl(a),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[s]);if(t.style){const o={};Jl(o,t.style,t),r.style={...o,...r.style}}return r}const fh=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vr(t){return typeof t!="string"||t.includes("-")?!1:!!(fh.indexOf(t)>-1||/[A-Z]/u.test(t))}function gh(t=!1){return(n,a,r,{latestValues:o},i)=>{const d=(vr(n)?ph:uh)(a,o,i,n),c=qm(a,typeof n=="string",t),u=n!==h.Fragment?{...c,...d,ref:r}:{},{children:m}=a,x=h.useMemo(()=>at(m)?m.get():m,[m]);return h.createElement(n,{...u,children:x})}}function ji(t){const s=[{},{}];return t==null||t.values.forEach((n,a)=>{s[0][a]=n.get(),s[1][a]=n.getVelocity()}),s}function Nr(t,s,n,a){if(typeof s=="function"){const[r,o]=ji(a);s=s(n!==void 0?n:t.custom,r,o)}if(typeof s=="string"&&(s=t.variants&&t.variants[s]),typeof s=="function"){const[r,o]=ji(a);s=s(n!==void 0?n:t.custom,r,o)}return s}function Cn(t){return at(t)?t.get():t}function yh({scrapeMotionValuesFromProps:t,createRenderState:s},n,a,r){return{latestValues:jh(n,a,r,t),renderState:s()}}const Ql=t=>(s,n)=>{const a=h.useContext($n),r=h.useContext(zn),o=()=>yh(t,s,a,r);return n?o():Ha(o)};function jh(t,s,n,a){const r={},o=a(t,{});for(const x in o)r[x]=Cn(o[x]);let{initial:i,animate:l}=t;const d=Un(t),c=Hl(t);s&&c&&!d&&t.inherit!==!1&&(i===void 0&&(i=s.initial),l===void 0&&(l=s.animate));let u=n?n.initial===!1:!1;u=u||i===!1;const m=u?l:i;if(m&&typeof m!="boolean"&&!Bn(m)){const x=Array.isArray(m)?m:[m];for(let p=0;p<x.length;p++){const g=Nr(t,x[p]);if(g){const{transitionEnd:y,transition:j,...b}=g;for(const k in b){let v=b[k];if(Array.isArray(v)){const M=u?v.length-1:0;v=v[M]}v!==null&&(r[k]=v)}for(const k in y)r[k]=y[k]}}}return r}function wr(t,s,n){var o;const{style:a}=t,r={};for(const i in a)(at(a[i])||s.style&&at(s.style[i])||Kl(i,t)||((o=n==null?void 0:n.getValue(i))==null?void 0:o.liveStyle)!==void 0)&&(r[i]=a[i]);return r}const vh={useVisualState:Ql({scrapeMotionValuesFromProps:wr,createRenderState:jr})};function ec(t,s,n){const a=wr(t,s,n);for(const r in t)if(at(t[r])||at(s[r])){const o=Rs.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;a[o]=t[r]}return a}const Nh={useVisualState:Ql({scrapeMotionValuesFromProps:ec,createRenderState:Xl})};function wh(t,s){return function(a,{forwardMotionProps:r}={forwardMotionProps:!1}){const i={...vr(a)?Nh:vh,preloadedFeatures:t,useRender:gh(r),createVisualElement:s,Component:a};return th(i)}}function tn(t,s,n){const a=t.getProps();return Nr(a,s,n!==void 0?n:a.custom,t)}const Ca=t=>Array.isArray(t);function bh(t,s,n){t.hasValue(s)?t.getValue(s).set(n):t.addValue(s,Ss(n))}function kh(t){return Ca(t)?t[t.length-1]||0:t}function Ch(t,s){const n=tn(t,s);let{transitionEnd:a={},transition:r={},...o}=n||{};o={...o,...a};for(const i in o){const l=kh(o[i]);bh(t,i,l)}}function Sh(t){return!!(at(t)&&t.add)}function Sa(t,s){const n=t.getValue("willChange");if(Sh(n))return n.add(s);if(!n&&Bt.WillChange){const a=new Bt.WillChange("auto");t.addValue("willChange",a),a.add(s)}}function tc(t){return t.props[Wl]}const Mh=t=>t!==null;function Th(t,{repeat:s,repeatType:n="loop"},a){const r=t.filter(Mh),o=s&&n!=="loop"&&s%2===1?0:r.length-1;return r[o]}const Ah={type:"spring",stiffness:500,damping:25,restSpeed:10},Eh=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Ph={type:"keyframes",duration:.8},_h={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Fh=(t,{keyframes:s})=>s.length>2?Ph:Ds.has(t)?t.startsWith("scale")?Eh(s[1]):Ah:_h;function Rh({when:t,delay:s,delayChildren:n,staggerChildren:a,staggerDirection:r,repeat:o,repeatType:i,repeatDelay:l,from:d,elapsed:c,...u}){return!!Object.keys(u).length}const br=(t,s,n,a={},r,o)=>i=>{const l=dr(a,t)||{},d=l.delay||a.delay||0;let{elapsed:c=0}=a;c=c-Pt(d);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:s.getVelocity(),...l,delay:-c,onUpdate:x=>{s.set(x),l.onUpdate&&l.onUpdate(x)},onComplete:()=>{i(),l.onComplete&&l.onComplete()},name:t,motionValue:s,element:o?void 0:r};Rh(l)||Object.assign(u,Fh(t,u)),u.duration&&(u.duration=Pt(u.duration)),u.repeatDelay&&(u.repeatDelay=Pt(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let m=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(m=!0)),(Bt.instantAnimations||Bt.skipAnimations)&&(m=!0,u.duration=0,u.delay=0),u.allowFlatten=!l.type&&!l.ease,m&&!o&&s.get()!==void 0){const x=Th(u.keyframes,l);if(x!==void 0){Ie.update(()=>{u.onUpdate(x),u.onComplete()});return}}return l.isSync?new or(u):new xm(u)};function Dh({protectedKeys:t,needsAnimating:s},n){const a=t.hasOwnProperty(n)&&s[n]!==!0;return s[n]=!1,a}function sc(t,s,{delay:n=0,transitionOverride:a,type:r}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:i,...l}=s;a&&(o=a);const d=[],c=r&&t.animationState&&t.animationState.getState()[r];for(const u in l){const m=t.getValue(u,t.latestValues[u]??null),x=l[u];if(x===void 0||c&&Dh(c,u))continue;const p={delay:n,...dr(o||{},u)},g=m.get();if(g!==void 0&&!m.isAnimating&&!Array.isArray(x)&&x===g&&!p.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const b=tc(t);if(b){const k=window.MotionHandoffAnimation(b,u,Ie);k!==null&&(p.startTime=k,y=!0)}}Sa(t,u),m.start(br(u,m,x,t.shouldReduceMotion&&Pl.has(u)?{type:!1}:p,t,y));const j=m.animation;j&&d.push(j)}return i&&Promise.all(d).then(()=>{Ie.update(()=>{i&&Ch(t,i)})}),d}function Ma(t,s,n={}){var d;const a=tn(t,s,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(r=n.transitionOverride);const o=a?()=>Promise.all(sc(t,a,n)):()=>Promise.resolve(),i=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:m,staggerDirection:x}=r;return Lh(t,s,u+c,m,x,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[c,u]=l==="beforeChildren"?[o,i]:[i,o];return c().then(()=>u())}else return Promise.all([o(),i(n.delay)])}function Lh(t,s,n=0,a=0,r=1,o){const i=[],l=(t.variantChildren.size-1)*a,d=r===1?(c=0)=>c*a:(c=0)=>l-c*a;return Array.from(t.variantChildren).sort(Ih).forEach((c,u)=>{c.notify("AnimationStart",s),i.push(Ma(c,s,{...o,delay:n+d(u)}).then(()=>c.notify("AnimationComplete",s)))}),Promise.all(i)}function Ih(t,s){return t.sortNodePosition(s)}function Vh(t,s,n={}){t.notify("AnimationStart",s);let a;if(Array.isArray(s)){const r=s.map(o=>Ma(t,o,n));a=Promise.all(r)}else if(typeof s=="string")a=Ma(t,s,n);else{const r=typeof s=="function"?tn(t,s,n.custom):s;a=Promise.all(sc(t,r,n))}return a.then(()=>{t.notify("AnimationComplete",s)})}function nc(t,s){if(!Array.isArray(s))return!1;const n=s.length;if(n!==t.length)return!1;for(let a=0;a<n;a++)if(s[a]!==t[a])return!1;return!0}const Oh=fr.length;function ac(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ac(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const s={};for(let n=0;n<Oh;n++){const a=fr[n],r=t.props[a];(Qs(r)||r===!1)&&(s[a]=r)}return s}const zh=[...pr].reverse(),$h=pr.length;function Bh(t){return s=>Promise.all(s.map(({animation:n,options:a})=>Vh(t,n,a)))}function Uh(t){let s=Bh(t),n=vi(),a=!0;const r=d=>(c,u)=>{var x;const m=tn(t,u,d==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(m){const{transition:p,transitionEnd:g,...y}=m;c={...c,...y,...g}}return c};function o(d){s=d(t)}function i(d){const{props:c}=t,u=ac(t.parent)||{},m=[],x=new Set;let p={},g=1/0;for(let j=0;j<$h;j++){const b=zh[j],k=n[b],v=c[b]!==void 0?c[b]:u[b],M=Qs(v),f=b===d?k.isActive:null;f===!1&&(g=j);let w=v===u[b]&&v!==c[b]&&M;if(w&&a&&t.manuallyAnimateOnMount&&(w=!1),k.protectedKeys={...p},!k.isActive&&f===null||!v&&!k.prevProp||Bn(v)||typeof v=="boolean")continue;const S=Hh(k.prevProp,v);let E=S||b===d&&k.isActive&&!w&&M||j>g&&M,P=!1;const _=Array.isArray(v)?v:[v];let U=_.reduce(r(b),{});f===!1&&(U={});const{prevResolvedValues:K={}}=k,Q={...K,...U},W=R=>{E=!0,x.has(R)&&(P=!0,x.delete(R)),k.needsAnimating[R]=!0;const O=t.getValue(R);O&&(O.liveStyle=!1)};for(const R in Q){const O=U[R],ee=K[R];if(p.hasOwnProperty(R))continue;let V=!1;Ca(O)&&Ca(ee)?V=!nc(O,ee):V=O!==ee,V?O!=null?W(R):x.add(R):O!==void 0&&x.has(R)?W(R):k.protectedKeys[R]=!0}k.prevProp=v,k.prevResolvedValues=U,k.isActive&&(p={...p,...U}),a&&t.blockInitialAnimation&&(E=!1),E&&(!(w&&S)||P)&&m.push(..._.map(R=>({animation:R,options:{type:b}})))}if(x.size){const j={};if(typeof c.initial!="boolean"){const b=tn(t,Array.isArray(c.initial)?c.initial[0]:c.initial);b&&b.transition&&(j.transition=b.transition)}x.forEach(b=>{const k=t.getBaseTarget(b),v=t.getValue(b);v&&(v.liveStyle=!0),j[b]=k??null}),m.push({animation:j})}let y=!!m.length;return a&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),a=!1,y?s(m):Promise.resolve()}function l(d,c){var m;if(n[d].isActive===c)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(x=>{var p;return(p=x.animationState)==null?void 0:p.setActive(d,c)}),n[d].isActive=c;const u=i(d);for(const x in n)n[x].protectedKeys={};return u}return{animateChanges:i,setActive:l,setAnimateFunction:o,getState:()=>n,reset:()=>{n=vi(),a=!0}}}function Hh(t,s){return typeof s=="string"?s!==t:Array.isArray(s)?!nc(s,t):!1}function ns(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vi(){return{animate:ns(!0),whileInView:ns(),whileHover:ns(),whileTap:ns(),whileDrag:ns(),whileFocus:ns(),exit:ns()}}class es{constructor(s){this.isMounted=!1,this.node=s}update(){}}class Wh extends es{constructor(s){super(s),s.animationState||(s.animationState=Uh(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();Bn(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:n}=this.node.prevProps||{};s!==n&&this.updateAnimationControlsSubscription()}unmount(){var s;this.node.animationState.reset(),(s=this.unmountControls)==null||s.call(this)}}let qh=0;class Gh extends es{constructor(){super(...arguments),this.id=qh++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===a)return;const r=this.node.animationState.setActive("exit",!s);n&&!s&&r.then(()=>{n(this.id)})}mount(){const{register:s,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const Kh={animation:{Feature:Wh},exit:{Feature:Gh}};function sn(t,s,n,a={passive:!0}){return t.addEventListener(s,n,a),()=>t.removeEventListener(s,n)}function mn(t){return{point:{x:t.pageX,y:t.pageY}}}const Jh=t=>s=>hr(s)&&t(s,mn(s));function Hs(t,s,n,a){return sn(t,s,Jh(n),a)}function rc({top:t,left:s,right:n,bottom:a}){return{x:{min:s,max:n},y:{min:t,max:a}}}function Yh({x:t,y:s}){return{top:s.min,right:t.max,bottom:s.max,left:t.min}}function Xh(t,s){if(!s)return t;const n=s({x:t.left,y:t.top}),a=s({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:a.y,right:a.x}}const ic=1e-4,Zh=1-ic,Qh=1+ic,oc=.01,ex=0-oc,tx=0+oc;function it(t){return t.max-t.min}function sx(t,s,n){return Math.abs(t-s)<=n}function Ni(t,s,n,a=.5){t.origin=a,t.originPoint=Le(s.min,s.max,t.origin),t.scale=it(n)/it(s),t.translate=Le(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Zh&&t.scale<=Qh||isNaN(t.scale))&&(t.scale=1),(t.translate>=ex&&t.translate<=tx||isNaN(t.translate))&&(t.translate=0)}function Ws(t,s,n,a){Ni(t.x,s.x,n.x,a?a.originX:void 0),Ni(t.y,s.y,n.y,a?a.originY:void 0)}function wi(t,s,n){t.min=n.min+s.min,t.max=t.min+it(s)}function nx(t,s,n){wi(t.x,s.x,n.x),wi(t.y,s.y,n.y)}function bi(t,s,n){t.min=s.min-n.min,t.max=t.min+it(s)}function qs(t,s,n){bi(t.x,s.x,n.x),bi(t.y,s.y,n.y)}const ki=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ns=()=>({x:ki(),y:ki()}),Ci=()=>({min:0,max:0}),Oe=()=>({x:Ci(),y:Ci()});function gt(t){return[t("x"),t("y")]}function ta(t){return t===void 0||t===1}function Ta({scale:t,scaleX:s,scaleY:n}){return!ta(t)||!ta(s)||!ta(n)}function as(t){return Ta(t)||lc(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function lc(t){return Si(t.x)||Si(t.y)}function Si(t){return t&&t!=="0%"}function _n(t,s,n){const a=t-n,r=s*a;return n+r}function Mi(t,s,n,a,r){return r!==void 0&&(t=_n(t,r,a)),_n(t,n,a)+s}function Aa(t,s=0,n=1,a,r){t.min=Mi(t.min,s,n,a,r),t.max=Mi(t.max,s,n,a,r)}function cc(t,{x:s,y:n}){Aa(t.x,s.translate,s.scale,s.originPoint),Aa(t.y,n.translate,n.scale,n.originPoint)}const Ti=.999999999999,Ai=1.0000000000001;function ax(t,s,n,a=!1){const r=n.length;if(!r)return;s.x=s.y=1;let o,i;for(let l=0;l<r;l++){o=n[l],i=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(a&&o.options.layoutScroll&&o.scroll&&o!==o.root&&bs(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),i&&(s.x*=i.x.scale,s.y*=i.y.scale,cc(t,i)),a&&as(o.latestValues)&&bs(t,o.latestValues))}s.x<Ai&&s.x>Ti&&(s.x=1),s.y<Ai&&s.y>Ti&&(s.y=1)}function ws(t,s){t.min=t.min+s,t.max=t.max+s}function Ei(t,s,n,a,r=.5){const o=Le(t.min,t.max,r);Aa(t,s,n,o,a)}function bs(t,s){Ei(t.x,s.x,s.scaleX,s.scale,s.originX),Ei(t.y,s.y,s.scaleY,s.scale,s.originY)}function dc(t,s){return rc(Xh(t.getBoundingClientRect(),s))}function rx(t,s,n){const a=dc(t,n),{scroll:r}=s;return r&&(ws(a.x,r.offset.x),ws(a.y,r.offset.y)),a}const uc=({current:t})=>t?t.ownerDocument.defaultView:null,Pi=(t,s)=>Math.abs(t-s);function ix(t,s){const n=Pi(t.x,s.x),a=Pi(t.y,s.y);return Math.sqrt(n**2+a**2)}class mc{constructor(s,n,{transformPagePoint:a,contextWindow:r,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=na(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,p=ix(m.offset,{x:0,y:0})>=3;if(!x&&!p)return;const{point:g}=m,{timestamp:y}=Ze;this.history.push({...g,timestamp:y});const{onStart:j,onMove:b}=this.handlers;x||(j&&j(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,m)},this.handlePointerMove=(m,x)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=sa(x,this.transformPagePoint),Ie.update(this.updatePoint,!0)},this.handlePointerUp=(m,x)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=na(m.type==="pointercancel"?this.lastMoveEventInfo:sa(x,this.transformPagePoint),this.history);this.startEvent&&p&&p(m,j),g&&g(m,j)},!hr(s))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=a,this.contextWindow=r||window;const i=mn(s),l=sa(i,this.transformPagePoint),{point:d}=l,{timestamp:c}=Ze;this.history=[{...d,timestamp:c}];const{onSessionStart:u}=n;u&&u(s,na(l,this.history)),this.removeListeners=cn(Hs(this.contextWindow,"pointermove",this.handlePointerMove),Hs(this.contextWindow,"pointerup",this.handlePointerUp),Hs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),Yt(this.updatePoint)}}function sa(t,s){return s?{point:s(t.point)}:t}function _i(t,s){return{x:t.x-s.x,y:t.y-s.y}}function na({point:t},s){return{point:t,delta:_i(t,hc(s)),offset:_i(t,ox(s)),velocity:lx(s,.1)}}function ox(t){return t[0]}function hc(t){return t[t.length-1]}function lx(t,s){if(t.length<2)return{x:0,y:0};let n=t.length-1,a=null;const r=hc(t);for(;n>=0&&(a=t[n],!(r.timestamp-a.timestamp>Pt(s)));)n--;if(!a)return{x:0,y:0};const o=_t(r.timestamp-a.timestamp);if(o===0)return{x:0,y:0};const i={x:(r.x-a.x)/o,y:(r.y-a.y)/o};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function cx(t,{min:s,max:n},a){return s!==void 0&&t<s?t=a?Le(s,t,a.min):Math.max(t,s):n!==void 0&&t>n&&(t=a?Le(n,t,a.max):Math.min(t,n)),t}function Fi(t,s,n){return{min:s!==void 0?t.min+s:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function dx(t,{top:s,left:n,bottom:a,right:r}){return{x:Fi(t.x,n,r),y:Fi(t.y,s,a)}}function Ri(t,s){let n=s.min-t.min,a=s.max-t.max;return s.max-s.min<t.max-t.min&&([n,a]=[a,n]),{min:n,max:a}}function ux(t,s){return{x:Ri(t.x,s.x),y:Ri(t.y,s.y)}}function mx(t,s){let n=.5;const a=it(t),r=it(s);return r>a?n=Ys(s.min,s.max-a,t.min):a>r&&(n=Ys(t.min,t.max-r,s.min)),$t(0,1,n)}function hx(t,s){const n={};return s.min!==void 0&&(n.min=s.min-t.min),s.max!==void 0&&(n.max=s.max-t.min),n}const Ea=.35;function xx(t=Ea){return t===!1?t=0:t===!0&&(t=Ea),{x:Di(t,"left","right"),y:Di(t,"top","bottom")}}function Di(t,s,n){return{min:Li(t,s),max:Li(t,n)}}function Li(t,s){return typeof t=="number"?t:t[s]||0}const px=new WeakMap;class fx{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Oe(),this.visualElement=s}start(s,{snapToCursor:n=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const r=u=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(mn(u).point)},o=(u,m)=>{const{drag:x,dragPropagation:p,onDragStart:g}=this.getProps();if(x&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Em(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gt(j=>{let b=this.getAxisMotionValue(j).get()||0;if(Ft.test(b)){const{projection:k}=this.visualElement;if(k&&k.layout){const v=k.layout.layoutBox[j];v&&(b=it(v)*(parseFloat(b)/100))}}this.originPoint[j]=b}),g&&Ie.postRender(()=>g(u,m)),Sa(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},i=(u,m)=>{const{dragPropagation:x,dragDirectionLock:p,onDirectionLock:g,onDrag:y}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:j}=m;if(p&&this.currentDirection===null){this.currentDirection=gx(j),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",m.point,j),this.updateAxis("y",m.point,j),this.visualElement.render(),y&&y(u,m)},l=(u,m)=>this.stop(u,m),d=()=>gt(u=>{var m;return this.getAnimationState(u)==="paused"&&((m=this.getAxisMotionValue(u).animation)==null?void 0:m.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new mc(s,{onSessionStart:r,onStart:o,onMove:i,onSessionEnd:l,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:uc(this.visualElement)})}stop(s,n){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:o}=this.getProps();o&&Ie.postRender(()=>o(s,n))}cancel(){this.isDragging=!1;const{projection:s,animationState:n}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(s,n,a){const{drag:r}=this.getProps();if(!a||!Nn(s,r,this.currentDirection))return;const o=this.getAxisMotionValue(s);let i=this.originPoint[s]+a[s];this.constraints&&this.constraints[s]&&(i=cx(i,this.constraints[s],this.elastic[s])),o.set(i)}resolveConstraints(){var o;const{dragConstraints:s,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,r=this.constraints;s&&vs(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&a?this.constraints=dx(a.layoutBox,s):this.constraints=!1,this.elastic=xx(n),r!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&gt(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=hx(a.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:n}=this.getProps();if(!s||!vs(s))return!1;const a=s.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=rx(a,r.root,this.visualElement.getTransformPagePoint());let i=ux(r.layout.layoutBox,o);if(n){const l=n(Yh(i));this.hasMutatedConstraints=!!l,l&&(i=rc(l))}return i}startAnimation(s){const{drag:n,dragMomentum:a,dragElastic:r,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},c=gt(u=>{if(!Nn(u,n,this.currentDirection))return;let m=d&&d[u]||{};i&&(m={min:0,max:0});const x=r?200:1e6,p=r?40:1e7,g={type:"inertia",velocity:a?s[u]:0,bounceStiffness:x,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...m};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(l)}startAxisValueAnimation(s,n){const a=this.getAxisMotionValue(s);return Sa(this.visualElement,s),a.start(br(s,a,0,n,this.visualElement,!1))}stopAnimation(){gt(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){gt(s=>{var n;return(n=this.getAxisMotionValue(s).animation)==null?void 0:n.pause()})}getAnimationState(s){var n;return(n=this.getAxisMotionValue(s).animation)==null?void 0:n.state}getAxisMotionValue(s){const n=`_drag${s.toUpperCase()}`,a=this.visualElement.getProps(),r=a[n];return r||this.visualElement.getValue(s,(a.initial?a.initial[s]:void 0)||0)}snapToCursor(s){gt(n=>{const{drag:a}=this.getProps();if(!Nn(n,a,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(n);if(r&&r.layout){const{min:i,max:l}=r.layout.layoutBox[n];o.set(s[n]-Le(i,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:n}=this.getProps(),{projection:a}=this.visualElement;if(!vs(n)||!a||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};gt(i=>{const l=this.getAxisMotionValue(i);if(l&&this.constraints!==!1){const d=l.get();r[i]=mx({min:d,max:d},this.constraints[i])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),gt(i=>{if(!Nn(i,s,null))return;const l=this.getAxisMotionValue(i),{min:d,max:c}=this.constraints[i];l.set(Le(d,c,r[i]))})}addListeners(){if(!this.visualElement.current)return;px.set(this.visualElement,this);const s=this.visualElement.current,n=Hs(s,"pointerdown",d=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(d)}),a=()=>{const{dragConstraints:d}=this.getProps();vs(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,o=r.addEventListener("measure",a);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Ie.read(a);const i=sn(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:d,hasLayoutChanged:c})=>{this.isDragging&&c&&(gt(u=>{const m=this.getAxisMotionValue(u);m&&(this.originPoint[u]+=d[u].translate,m.set(m.get()+d[u].translate))}),this.visualElement.render())});return()=>{i(),n(),o(),l&&l()}}getProps(){const s=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:a=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:i=Ea,dragMomentum:l=!0}=s;return{...s,drag:n,dragDirectionLock:a,dragPropagation:r,dragConstraints:o,dragElastic:i,dragMomentum:l}}}function Nn(t,s,n){return(s===!0||s===t)&&(n===null||n===t)}function gx(t,s=10){let n=null;return Math.abs(t.y)>s?n="y":Math.abs(t.x)>s&&(n="x"),n}class yx extends es{constructor(s){super(s),this.removeGroupControls=jt,this.removeListeners=jt,this.controls=new fx(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||jt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ii=t=>(s,n)=>{t&&Ie.postRender(()=>t(s,n))};class jx extends es{constructor(){super(...arguments),this.removePointerDownListener=jt}onPointerDown(s){this.session=new mc(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uc(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:n,onPan:a,onPanEnd:r}=this.node.getProps();return{onSessionStart:Ii(s),onStart:Ii(n),onMove:a,onEnd:(o,i)=>{delete this.session,r&&Ie.postRender(()=>r(o,i))}}}mount(){this.removePointerDownListener=Hs(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sn={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Vi(t,s){return s.max===s.min?0:t/(s.max-s.min)*100}const Os={correct:(t,s)=>{if(!s.target)return t;if(typeof t=="string")if(me.test(t))t=parseFloat(t);else return t;const n=Vi(t,s.target.x),a=Vi(t,s.target.y);return`${n}% ${a}%`}},vx={correct:(t,{treeScale:s,projectionDelta:n})=>{const a=t,r=Xt.parse(t);if(r.length>5)return a;const o=Xt.createTransformer(t),i=typeof r[0]!="number"?1:0,l=n.x.scale*s.x,d=n.y.scale*s.y;r[0+i]/=l,r[1+i]/=d;const c=Le(l,d,.5);return typeof r[2+i]=="number"&&(r[2+i]/=c),typeof r[3+i]=="number"&&(r[3+i]/=c),o(r)}};class Nx extends h.Component{componentDidMount(){const{visualElement:s,layoutGroup:n,switchLayoutGroup:a,layoutId:r}=this.props,{projection:o}=s;rh(wx),o&&(n.group&&n.group.add(o),a&&a.register&&r&&a.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Sn.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:n,visualElement:a,drag:r,isPresent:o}=this.props,{projection:i}=a;return i&&(i.isPresent=o,r||s.layoutDependency!==n||n===void 0||s.isPresent!==o?i.willUpdate():this.safeToRemove(),s.isPresent!==o&&(o?i.promote():i.relegate()||Ie.postRender(()=>{const l=i.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),mr.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:n,switchLayoutGroup:a}=this.props,{projection:r}=s;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),a&&a.deregister&&a.deregister(r))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function xc(t){const[s,n]=$l(),a=h.useContext(Ua);return e.jsx(Nx,{...t,layoutGroup:a,switchLayoutGroup:h.useContext(ql),isPresent:s,safeToRemove:n})}const wx={borderRadius:{...Os,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Os,borderTopRightRadius:Os,borderBottomLeftRadius:Os,borderBottomRightRadius:Os,boxShadow:vx};function bx(t,s,n){const a=at(t)?t:Ss(t);return a.start(br("",a,s,n)),a.animation}const kx=(t,s)=>t.depth-s.depth;class Cx{constructor(){this.children=[],this.isDirty=!1}add(s){qa(this.children,s),this.isDirty=!0}remove(s){Ga(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(kx),this.isDirty=!1,this.children.forEach(s)}}function Sx(t,s){const n=ct.now(),a=({timestamp:r})=>{const o=r-n;o>=s&&(Yt(a),t(o-s))};return Ie.setup(a,!0),()=>Yt(a)}const pc=["TopLeft","TopRight","BottomLeft","BottomRight"],Mx=pc.length,Oi=t=>typeof t=="string"?parseFloat(t):t,zi=t=>typeof t=="number"||me.test(t);function Tx(t,s,n,a,r,o){r?(t.opacity=Le(0,n.opacity??1,Ax(a)),t.opacityExit=Le(s.opacity??1,0,Ex(a))):o&&(t.opacity=Le(s.opacity??1,n.opacity??1,a));for(let i=0;i<Mx;i++){const l=`border${pc[i]}Radius`;let d=$i(s,l),c=$i(n,l);if(d===void 0&&c===void 0)continue;d||(d=0),c||(c=0),d===0||c===0||zi(d)===zi(c)?(t[l]=Math.max(Le(Oi(d),Oi(c),a),0),(Ft.test(c)||Ft.test(d))&&(t[l]+="%")):t[l]=c}(s.rotate||n.rotate)&&(t.rotate=Le(s.rotate||0,n.rotate||0,a))}function $i(t,s){return t[s]!==void 0?t[s]:t.borderRadius}const Ax=fc(0,.5,ll),Ex=fc(.5,.95,jt);function fc(t,s,n){return a=>a<t?0:a>s?1:n(Ys(t,s,a))}function Bi(t,s){t.min=s.min,t.max=s.max}function ft(t,s){Bi(t.x,s.x),Bi(t.y,s.y)}function Ui(t,s){t.translate=s.translate,t.scale=s.scale,t.originPoint=s.originPoint,t.origin=s.origin}function Hi(t,s,n,a,r){return t-=s,t=_n(t,1/n,a),r!==void 0&&(t=_n(t,1/r,a)),t}function Px(t,s=0,n=1,a=.5,r,o=t,i=t){if(Ft.test(s)&&(s=parseFloat(s),s=Le(i.min,i.max,s/100)-i.min),typeof s!="number")return;let l=Le(o.min,o.max,a);t===o&&(l-=s),t.min=Hi(t.min,s,n,l,r),t.max=Hi(t.max,s,n,l,r)}function Wi(t,s,[n,a,r],o,i){Px(t,s[n],s[a],s[r],s.scale,o,i)}const _x=["x","scaleX","originX"],Fx=["y","scaleY","originY"];function qi(t,s,n,a){Wi(t.x,s,_x,n?n.x:void 0,a?a.x:void 0),Wi(t.y,s,Fx,n?n.y:void 0,a?a.y:void 0)}function Gi(t){return t.translate===0&&t.scale===1}function gc(t){return Gi(t.x)&&Gi(t.y)}function Ki(t,s){return t.min===s.min&&t.max===s.max}function Rx(t,s){return Ki(t.x,s.x)&&Ki(t.y,s.y)}function Ji(t,s){return Math.round(t.min)===Math.round(s.min)&&Math.round(t.max)===Math.round(s.max)}function yc(t,s){return Ji(t.x,s.x)&&Ji(t.y,s.y)}function Yi(t){return it(t.x)/it(t.y)}function Xi(t,s){return t.translate===s.translate&&t.scale===s.scale&&t.originPoint===s.originPoint}class Dx{constructor(){this.members=[]}add(s){qa(this.members,s),s.scheduleRender()}remove(s){if(Ga(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(s){const n=this.members.findIndex(r=>s===r);if(n===0)return!1;let a;for(let r=n;r>=0;r--){const o=this.members[r];if(o.isPresent!==!1){a=o;break}}return a?(this.promote(a),!0):!1}promote(s,n){const a=this.lead;if(s!==a&&(this.prevLead=a,this.lead=s,s.show(),a)){a.instance&&a.scheduleRender(),s.scheduleRender(),s.resumeFrom=a,n&&(s.resumeFrom.preserveOpacity=!0),a.snapshot&&(s.snapshot=a.snapshot,s.snapshot.latestValues=a.animationValues||a.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:r}=s.options;r===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:n,resumingFrom:a}=s;n.onExitComplete&&n.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Lx(t,s,n){let a="";const r=t.x.translate/s.x,o=t.y.translate/s.y,i=(n==null?void 0:n.z)||0;if((r||o||i)&&(a=`translate3d(${r}px, ${o}px, ${i}px) `),(s.x!==1||s.y!==1)&&(a+=`scale(${1/s.x}, ${1/s.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:m,rotateY:x,skewX:p,skewY:g}=n;c&&(a=`perspective(${c}px) ${a}`),u&&(a+=`rotate(${u}deg) `),m&&(a+=`rotateX(${m}deg) `),x&&(a+=`rotateY(${x}deg) `),p&&(a+=`skewX(${p}deg) `),g&&(a+=`skewY(${g}deg) `)}const l=t.x.scale*s.x,d=t.y.scale*s.y;return(l!==1||d!==1)&&(a+=`scale(${l}, ${d})`),a||"none"}const aa=["","X","Y","Z"],Ix={visibility:"hidden"},Vx=1e3;let Ox=0;function ra(t,s,n,a){const{latestValues:r}=s;r[t]&&(n[t]=r[t],s.setStaticValue(t,0),a&&(a[t]=0))}function jc(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:s}=t.options;if(!s)return;const n=tc(s);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ie,!(r||o))}const{parent:a}=t;a&&!a.hasCheckedOptimisedAppear&&jc(a)}function vc({attachResizeListener:t,defaultParent:s,measureScroll:n,checkIsScrollRoot:a,resetTransform:r}){return class{constructor(i={},l=s==null?void 0:s()){this.id=Ox++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Bx),this.nodes.forEach(Gx),this.nodes.forEach(Kx),this.nodes.forEach(Ux)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Cx)}addEventListener(i,l){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Ya),this.eventHandlers.get(i).add(l)}notifyListeners(i,...l){const d=this.eventHandlers.get(i);d&&d.notify(...l)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=zl(i)&&!Lm(i),this.instance=i;const{layoutId:l,layout:d,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||l)&&(this.isLayoutDirty=!0),t){let u;const m=()=>this.root.updateBlockedByResize=!1;t(i,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=Sx(m,250),Sn.hasAnimatedSinceResize&&(Sn.hasAnimatedSinceResize=!1,this.nodes.forEach(Qi))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||d)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:x,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||Qx,{onLayoutAnimationStart:y,onLayoutAnimationComplete:j}=c.getProps(),b=!this.targetLayout||!yc(this.targetLayout,p),k=!m&&x;if(this.options.layoutRoot||this.resumeFrom||k||m&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const v={...dr(g,"layout"),onPlay:y,onComplete:j};(c.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v),this.setAnimationOrigin(u,k)}else m||Qi(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Yt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Jx),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jc(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const m=this.path[u];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Zi);return}this.isUpdating||this.nodes.forEach(Wx),this.isUpdating=!1,this.nodes.forEach(qx),this.nodes.forEach(zx),this.nodes.forEach($x),this.clearAllSnapshots();const l=ct.now();Ze.delta=$t(0,1e3/60,l-Ze.timestamp),Ze.timestamp=l,Ze.isProcessing=!0,Jn.update.process(Ze),Jn.preRender.process(Ze),Jn.render.process(Ze),Ze.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mr.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Hx),this.sharedNodes.forEach(Yx)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ie.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ie.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!it(this.snapshot.measuredBox.x)&&!it(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Oe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(l=!1),l&&this.instance){const d=a(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!r)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!gc(this.projectionDelta),d=this.getTransformTemplate(),c=d?d(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;i&&this.instance&&(l||as(this.latestValues)||u)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return i&&(d=this.removeTransform(d)),ep(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:i}=this.options;if(!i)return Oe();const l=i.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(tp))){const{scroll:u}=this.root;u&&(ws(l.x,u.offset.x),ws(l.y,u.offset.y))}return l}removeElementScroll(i){var d;const l=Oe();if(ft(l,i),(d=this.scroll)!=null&&d.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:m,options:x}=u;u!==this.root&&m&&x.layoutScroll&&(m.wasRoot&&ft(l,i),ws(l.x,m.offset.x),ws(l.y,m.offset.y))}return l}applyTransform(i,l=!1){const d=Oe();ft(d,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&bs(d,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),as(u.latestValues)&&bs(d,u.latestValues)}return as(this.latestValues)&&bs(d,this.latestValues),d}removeTransform(i){const l=Oe();ft(l,i);for(let d=0;d<this.path.length;d++){const c=this.path[d];if(!c.instance||!as(c.latestValues))continue;Ta(c.latestValues)&&c.updateSnapshot();const u=Oe(),m=c.measurePageBox();ft(u,m),qi(l,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return as(this.latestValues)&&qi(l,this.latestValues),l}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ze.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var x;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(i||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:m}=this.options;if(!(!this.layout||!(u||m))){if(this.resolvedRelativeTargetAt=Ze.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oe(),this.relativeTargetOrigin=Oe(),qs(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Oe(),this.targetWithTransforms=Oe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nx(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ft(this.target,this.layout.layoutBox),cc(this.target,this.targetDelta)):ft(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oe(),this.relativeTargetOrigin=Oe(),qs(this.relativeTargetOrigin,this.target,p.target),ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ta(this.parent.latestValues)||lc(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const i=this.getLead(),l=!!this.resumingFrom||this!==i;let d=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Ze.timestamp&&(d=!1),d)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;ft(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,x=this.treeScale.y;ax(this.layoutCorrected,this.treeScale,this.path,l),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=Oe());const{target:p}=i;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ui(this.prevProjectionDelta.x,this.projectionDelta.x),Ui(this.prevProjectionDelta.y,this.projectionDelta.y)),Ws(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==x||!Xi(this.projectionDelta.x,this.prevProjectionDelta.x)||!Xi(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),i){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ns(),this.projectionDelta=Ns(),this.projectionDeltaWithTransform=Ns()}setAnimationOrigin(i,l=!1){const d=this.snapshot,c=d?d.latestValues:{},u={...this.latestValues},m=Ns();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const x=Oe(),p=d?d.source:void 0,g=this.layout?this.layout.source:void 0,y=p!==g,j=this.getStack(),b=!j||j.members.length<=1,k=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(Zx));this.animationProgress=0;let v;this.mixTargetDelta=M=>{const f=M/1e3;eo(m.x,i.x,f),eo(m.y,i.y,f),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qs(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Xx(this.relativeTarget,this.relativeTargetOrigin,x,f),v&&Rx(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Oe()),ft(v,this.relativeTarget)),y&&(this.animationValues=u,Tx(u,c,this.latestValues,f,k,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=f},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var l,d,c;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(c=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Yt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ie.update(()=>{Sn.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ss(0)),this.currentAnimation=bx(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),i.onUpdate&&i.onUpdate(u)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Vx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:l,target:d,layout:c,latestValues:u}=i;if(!(!l||!d||!c)){if(this!==i&&this.layout&&c&&Nc(this.options.animationType,this.layout.layoutBox,c.layoutBox)){d=this.target||Oe();const m=it(this.layout.layoutBox.x);d.x.min=i.target.x.min,d.x.max=d.x.min+m;const x=it(this.layout.layoutBox.y);d.y.min=i.target.y.min,d.y.max=d.y.min+x}ft(l,d),bs(l,u),Ws(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(i,l){this.sharedNodes.has(i)||this.sharedNodes.set(i,new Dx),this.sharedNodes.get(i).add(l);const c=l.options.initialPromotionConfig;l.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(l):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var l;const{layoutId:i}=this.options;return i?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:i}=this.options;return i?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:l,preserveFollowOpacity:d}={}){const c=this.getStack();c&&c.promote(this,d),i&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let l=!1;const{latestValues:d}=i;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(l=!0),!l)return;const c={};d.z&&ra("z",i,c,this.animationValues);for(let u=0;u<aa.length;u++)ra(`rotate${aa[u]}`,i,c,this.animationValues),ra(`skew${aa[u]}`,i,c,this.animationValues);i.render();for(const u in c)i.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);i.scheduleRender()}getProjectionStyles(i){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Ix;const l={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Cn(i==null?void 0:i.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none",l;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=Cn(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!as(this.latestValues)&&(p.transform=d?d({},""):"none",this.hasProjected=!1),p}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),l.transform=Lx(this.projectionDeltaWithTransform,this.treeScale,u),d&&(l.transform=d(u,l.transform));const{x:m,y:x}=this.projectionDelta;l.transformOrigin=`${m.origin*100}% ${x.origin*100}% 0`,c.animationValues?l.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:l.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in en){if(u[p]===void 0)continue;const{correct:g,applyTo:y,isCSSVariable:j}=en[p],b=l.transform==="none"?u[p]:g(u[p],c);if(y){const k=y.length;for(let v=0;v<k;v++)l[y[v]]=b}else j?this.options.visualElement.renderState.vars[p]=b:l[p]=b}return this.options.layoutId&&(l.pointerEvents=c===this?Cn(i==null?void 0:i.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var l;return(l=i.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Zi),this.root.sharedNodes.clear()}}}function zx(t){t.updateLayout()}function $x(t){var n;const s=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:r}=t.layout,{animationType:o}=t.options,i=s.source!==t.layout.source;o==="size"?gt(m=>{const x=i?s.measuredBox[m]:s.layoutBox[m],p=it(x);x.min=a[m].min,x.max=x.min+p}):Nc(o,s.layoutBox,a)&&gt(m=>{const x=i?s.measuredBox[m]:s.layoutBox[m],p=it(a[m]);x.max=x.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+p)});const l=Ns();Ws(l,a,s.layoutBox);const d=Ns();i?Ws(d,t.applyTransform(r,!0),s.measuredBox):Ws(d,a,s.layoutBox);const c=!gc(l);let u=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:x,layout:p}=m;if(x&&p){const g=Oe();qs(g,s.layoutBox,x.layoutBox);const y=Oe();qs(y,a,p.layoutBox),yc(g,y)||(u=!0),m.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=g,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:d,layoutDelta:l,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:a}=t.options;a&&a()}t.options.transition=void 0}function Bx(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ux(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Hx(t){t.clearSnapshot()}function Zi(t){t.clearMeasurements()}function Wx(t){t.isLayoutDirty=!1}function qx(t){const{visualElement:s}=t.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),t.resetTransform()}function Qi(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Gx(t){t.resolveTargetDelta()}function Kx(t){t.calcProjection()}function Jx(t){t.resetSkewAndRotation()}function Yx(t){t.removeLeadSnapshot()}function eo(t,s,n){t.translate=Le(s.translate,0,n),t.scale=Le(s.scale,1,n),t.origin=s.origin,t.originPoint=s.originPoint}function to(t,s,n,a){t.min=Le(s.min,n.min,a),t.max=Le(s.max,n.max,a)}function Xx(t,s,n,a){to(t.x,s.x,n.x,a),to(t.y,s.y,n.y,a)}function Zx(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Qx={duration:.45,ease:[.4,0,.1,1]},so=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),no=so("applewebkit/")&&!so("chrome/")?Math.round:jt;function ao(t){t.min=no(t.min),t.max=no(t.max)}function ep(t){ao(t.x),ao(t.y)}function Nc(t,s,n){return t==="position"||t==="preserve-aspect"&&!sx(Yi(s),Yi(n),.2)}function tp(t){var s;return t!==t.root&&((s=t.scroll)==null?void 0:s.wasRoot)}const sp=vc({attachResizeListener:(t,s)=>sn(t,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ia={current:void 0},wc=vc({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ia.current){const t=new sp({});t.mount(window),t.setOptions({layoutScroll:!0}),ia.current=t}return ia.current},resetTransform:(t,s)=>{t.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),np={pan:{Feature:jx},drag:{Feature:yx,ProjectionNode:wc,MeasureLayout:xc}};function ro(t,s,n){const{props:a}=t;t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,o=a[r];o&&Ie.postRender(()=>o(s,mn(s)))}class ap extends es{mount(){const{current:s}=this.node;s&&(this.unmount=Pm(s,(n,a)=>(ro(this.node,a,"Start"),r=>ro(this.node,r,"End"))))}unmount(){}}class rp extends es{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cn(sn(this.node.current,"focus",()=>this.onFocus()),sn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function io(t,s,n){const{props:a}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&a.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),o=a[r];o&&Ie.postRender(()=>o(s,mn(s)))}class ip extends es{mount(){const{current:s}=this.node;s&&(this.unmount=Dm(s,(n,a)=>(io(this.node,a,"Start"),(r,{success:o})=>io(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Pa=new WeakMap,oa=new WeakMap,op=t=>{const s=Pa.get(t.target);s&&s(t)},lp=t=>{t.forEach(op)};function cp({root:t,...s}){const n=t||document;oa.has(n)||oa.set(n,{});const a=oa.get(n),r=JSON.stringify(s);return a[r]||(a[r]=new IntersectionObserver(lp,{root:t,...s})),a[r]}function dp(t,s,n){const a=cp(s);return Pa.set(t,n),a.observe(t),()=>{Pa.delete(t),a.unobserve(t)}}const up={some:0,all:1};class mp extends es{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:n,margin:a,amount:r="some",once:o}=s,i={root:n?n.current:void 0,rootMargin:a,threshold:typeof r=="number"?r:up[r]},l=d=>{const{isIntersecting:c}=d;if(this.isInView===c||(this.isInView=c,o&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:m}=this.node.getProps(),x=c?u:m;x&&x(d)};return dp(this.node.current,i,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:n}=this.node;["amount","margin","root"].some(hp(s,n))&&this.startObserver()}unmount(){}}function hp({viewport:t={}},{viewport:s={}}={}){return n=>t[n]!==s[n]}const xp={inView:{Feature:mp},tap:{Feature:ip},focus:{Feature:rp},hover:{Feature:ap}},pp={layout:{ProjectionNode:wc,MeasureLayout:xc}},_a={current:null},bc={current:!1};function fp(){if(bc.current=!0,!!Wa)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),s=()=>_a.current=t.matches;t.addListener(s),s()}else _a.current=!1}const gp=new WeakMap;function yp(t,s,n){for(const a in s){const r=s[a],o=n[a];if(at(r))t.addValue(a,r);else if(at(o))t.addValue(a,Ss(r,{owner:t}));else if(o!==r)if(t.hasValue(a)){const i=t.getValue(a);i.liveStyle===!0?i.jump(r):i.hasAnimated||i.set(r)}else{const i=t.getStaticValue(a);t.addValue(a,Ss(i!==void 0?i:r,{owner:t}))}}for(const a in n)s[a]===void 0&&t.removeValue(a);return s}const oo=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class jp{scrapeMotionValuesFromProps(s,n,a){return{}}constructor({parent:s,props:n,presenceContext:a,reducedMotionConfig:r,blockInitialAnimation:o,visualState:i},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lr,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=ct.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Ie.render(this.render,!1,!0))};const{latestValues:d,renderState:c}=i;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=c,this.parent=s,this.props=n,this.presenceContext=a,this.depth=s?s.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!o,this.isControllingVariants=Un(n),this.isVariantNode=Hl(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:u,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in m){const p=m[x];d[x]!==void 0&&at(p)&&p.set(d[x],!1)}}mount(s){this.current=s,gp.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),bc.current||fp(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_a.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Yt(this.notifyUpdate),Yt(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const n=this.features[s];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(s,n){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const a=Ds.has(s);a&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",l=>{this.latestValues[s]=l,this.props.onUpdate&&Ie.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,s,n)),this.valueSubscriptions.set(s,()=>{r(),o(),i&&i(),n.owner&&n.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in Ms){const n=Ms[s];if(!n)continue;const{isEnabled:a,Feature:r}=n;if(!this.features[s]&&r&&a(this.props)&&(this.features[s]=new r(this)),this.features[s]){const o=this.features[s];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Oe()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,n){this.latestValues[s]=n}update(s,n){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let a=0;a<oo.length;a++){const r=oo[a];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const o="on"+r,i=s[o];i&&(this.propEventSubscriptions[r]=this.on(r,i))}this.prevMotionValues=yp(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(s),()=>n.variantChildren.delete(s)}addValue(s,n){const a=this.values.get(s);n!==a&&(a&&this.removeValue(s),this.bindToMotionValue(s,n),this.values.set(s,n),this.latestValues[s]=n.get())}removeValue(s){this.values.delete(s);const n=this.valueSubscriptions.get(s);n&&(n(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,n){if(this.props.values&&this.props.values[s])return this.props.values[s];let a=this.values.get(s);return a===void 0&&n!==void 0&&(a=Ss(n===null?void 0:n,{owner:this}),this.addValue(s,a)),a}readValue(s,n){let a=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.getBaseTargetFromProps(this.props,s)??this.readValueFromInstance(this.current,s,this.options);return a!=null&&(typeof a=="string"&&(Zo(a)||el(a))?a=parseFloat(a):!Vm(a)&&Xt.test(n)&&(a=Dl(s,n)),this.setBaseTarget(s,at(a)?a.get():a)),at(a)?a.get():a}setBaseTarget(s,n){this.baseTarget[s]=n}getBaseTarget(s){var o;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const i=Nr(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);i&&(a=i[s])}if(n&&a!==void 0)return a;const r=this.getBaseTargetFromProps(this.props,s);return r!==void 0&&!at(r)?r:this.initialValues[s]!==void 0&&a===void 0?void 0:this.baseTarget[s]}on(s,n){return this.events[s]||(this.events[s]=new Ya),this.events[s].add(n)}notify(s,...n){this.events[s]&&this.events[s].notify(...n)}}class kc extends jp{constructor(){super(...arguments),this.KeyframeResolver=Sm}sortInstanceNodePosition(s,n){return s.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(s,n){return s.style?s.style[n]:void 0}removeValueFromRenderState(s,{vars:n,style:a}){delete n[s],delete a[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;at(s)&&(this.childSubscription=s.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Cc(t,{style:s,vars:n},a,r){Object.assign(t.style,s,r&&r.getProjectionStyles(a));for(const o in n)t.style.setProperty(o,n[o])}function vp(t){return window.getComputedStyle(t)}class Np extends kc{constructor(){super(...arguments),this.type="html",this.renderInstance=Cc}readValueFromInstance(s,n){var a;if(Ds.has(n))return(a=this.projection)!=null&&a.isProjecting?ja(n):Wu(s,n);{const r=vp(s),o=(Qa(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(s,{transformPagePoint:n}){return dc(s,n)}build(s,n,a){yr(s,n,a.transformTemplate)}scrapeMotionValuesFromProps(s,n,a){return wr(s,n,a)}}const Sc=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wp(t,s,n,a){Cc(t,s,void 0,a);for(const r in s.attrs)t.setAttribute(Sc.has(r)?r:gr(r),s.attrs[r])}class bp extends kc{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Oe}getBaseTargetFromProps(s,n){return s[n]}readValueFromInstance(s,n){if(Ds.has(n)){const a=Rl(n);return a&&a.default||0}return n=Sc.has(n)?n:gr(n),s.getAttribute(n)}scrapeMotionValuesFromProps(s,n,a){return ec(s,n,a)}build(s,n,a){Yl(s,n,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(s,n,a,r){wp(s,n,a,r)}mount(s){this.isSVGTag=Zl(s.tagName),super.mount(s)}}const kp=(t,s)=>vr(t)?new bp(s):new Np(s,{allowProjection:t!==h.Fragment}),Cp=wh({...Kh,...xp,...np,...pp},kp),J=Gm(Cp);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mc=(...t)=>t.filter((s,n,a)=>!!s&&s.trim()!==""&&a.indexOf(s)===n).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=h.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:r="",children:o,iconNode:i,...l},d)=>h.createElement("svg",{ref:d,...Mp,width:s,height:s,stroke:t,strokeWidth:a?Number(n)*24/Number(s):n,className:Mc("lucide",r),...l},[...i.map(([c,u])=>h.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=(t,s)=>{const n=h.forwardRef(({className:a,...r},o)=>h.createElement(Tp,{ref:o,iconNode:s,className:Mc(`lucide-${Sp(t)}`,a),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=T("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=T("Anchor",[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=T("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=T("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=T("Atom",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=T("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=T("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=T("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=T("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=T("Bluetooth",[["path",{d:"m7 7 10 10-5 5V2l5 5L7 17",key:"1q5490"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=T("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=T("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=T("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=T("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=T("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=T("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=T("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=T("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=T("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=T("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=T("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=T("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=T("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=T("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=T("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=T("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=T("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=T("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=T("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=T("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=T("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=T("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=T("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=T("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=T("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=T("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=T("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=T("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=T("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=T("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=T("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=T("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=T("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=T("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=T("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=T("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=T("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=T("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=T("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=T("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=T("Dice1",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=T("Diff",[["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 10h14",key:"elsbfy"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=T("Dna",[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=T("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=T("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=T("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=T("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=T("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=T("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=T("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=T("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=T("FileImage",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"10",cy:"12",r:"2",key:"737tya"}],["path",{d:"m20 17-1.296-1.296a2.41 2.41 0 0 0-3.408 0L9 22",key:"wt3hpn"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=T("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=T("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=T("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=T("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=T("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=T("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=T("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=T("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=T("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=T("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=T("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=T("Flashlight",[["path",{d:"M18 6c0 2-2 2-2 4v10a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4V2h12z",key:"1orkel"}],["line",{x1:"6",x2:"18",y1:"6",y2:"6",key:"1z11jq"}],["line",{x1:"12",x2:"12",y1:"12",y2:"12",key:"1f4yc1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pf=T("FolderCode",[["path",{d:"M10 10.5 8 13l2 2.5",key:"m4t9c1"}],["path",{d:"m14 10.5 2 2.5-2 2.5",key:"14w2eb"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2z",key:"1u1bxd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=T("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ff=T("FolderSearch",[["path",{d:"M10.7 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v4.1",key:"1bw5m7"}],["path",{d:"m21 21-1.9-1.9",key:"1g2n9r"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=T("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=T("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=T("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=T("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=T("GitFork",[["circle",{cx:"12",cy:"18",r:"3",key:"1mpf1b"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["path",{d:"M18 9v2c0 .6-.4 1-1 1H7c-.6 0-1-.4-1-1V9",key:"1uq4wg"}],["path",{d:"M12 12v3",key:"158kv8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=T("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=T("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rn=T("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=T("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=T("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=T("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=T("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=T("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=T("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=T("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=T("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=T("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=T("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=T("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=T("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=T("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=T("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=T("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=T("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=T("ListPlus",[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=T("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=T("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=T("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=T("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=T("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=T("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=T("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=T("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=T("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=T("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=T("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=T("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=T("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=T("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=T("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=T("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=T("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=T("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=T("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=T("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=T("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=T("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=T("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=T("Paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=T("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=T("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=T("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=T("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=T("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=T("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=T("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=T("Podcast",[["path",{d:"M16.85 18.58a9 9 0 1 0-9.7 0",key:"d71mpg"}],["path",{d:"M8 14a5 5 0 1 1 8 0",key:"fc81rn"}],["circle",{cx:"12",cy:"11",r:"1",key:"1gvufo"}],["path",{d:"M13 17a1 1 0 1 0-2 0l.5 4.5a.5.5 0 1 0 1 0Z",key:"za5kbj"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=T("Puzzle",[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=T("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=T("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=T("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=T("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=T("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=T("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=T("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=T("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=T("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=T("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=T("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=T("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=T("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=T("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=T("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=T("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=T("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=T("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=T("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=T("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=T("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=T("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=T("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=T("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=T("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=T("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=T("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=T("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=T("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=T("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=T("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=T("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=T("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=T("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=T("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=T("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=T("Umbrella",[["path",{d:"M22 12a10.06 10.06 1 0 0-20 0Z",key:"1teyop"}],["path",{d:"M12 12v8a2 2 0 0 0 4 0",key:"ulpmoc"}],["path",{d:"M12 2v1",key:"11qlp1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=T("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=T("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=T("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=T("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=T("Voicemail",[["circle",{cx:"6",cy:"12",r:"4",key:"1ehtga"}],["circle",{cx:"18",cy:"12",r:"4",key:"4vafl8"}],["line",{x1:"6",x2:"18",y1:"16",y2:"16",key:"pmt8us"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=T("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=T("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=T("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=T("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=T("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=T("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=T("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=T("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=T("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=T("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=T("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Y={async listProjects(){try{return await G("list_projects")}catch(t){throw console.error("Failed to list projects:",t),t}},async getProjectSessions(t){try{return await G("get_project_sessions",{projectId:t})}catch(s){throw console.error("Failed to get project sessions:",s),s}},async fetchGitHubAgents(){try{return await G("fetch_github_agents")}catch(t){throw console.error("Failed to fetch GitHub agents:",t),t}},async fetchGitHubAgentContent(t){try{return await G("fetch_github_agent_content",{downloadUrl:t})}catch(s){throw console.error("Failed to fetch GitHub agent content:",s),s}},async importAgentFromGitHub(t){try{return await G("import_agent_from_github",{downloadUrl:t})}catch(s){throw console.error("Failed to import agent from GitHub:",s),s}},async getClaudeSettings(){try{const t=await G("get_claude_settings");return console.log("Raw result from get_claude_settings:",t),t&&typeof t=="object"&&"data"in t?t.data:t}catch(t){throw console.error("Failed to get Claude settings:",t),t}},async openNewSession(t){try{return await G("open_new_session",{path:t})}catch(s){throw console.error("Failed to open new session:",s),s}},async getSystemPrompt(){try{return await G("get_system_prompt")}catch(t){throw console.error("Failed to get system prompt:",t),t}},async checkClaudeVersion(){try{return await G("check_claude_version")}catch(t){throw console.error("Failed to check Claude version:",t),t}},async saveSystemPrompt(t){try{return await G("save_system_prompt",{content:t})}catch(s){throw console.error("Failed to save system prompt:",s),s}},async saveClaudeSettings(t){try{return await G("save_claude_settings",{settings:t})}catch(s){throw console.error("Failed to save Claude settings:",s),s}},async findClaudeMdFiles(t){try{return await G("find_claude_md_files",{projectPath:t})}catch(s){throw console.error("Failed to find CLAUDE.md files:",s),s}},async readClaudeMdFile(t){try{return await G("read_claude_md_file",{filePath:t})}catch(s){throw console.error("Failed to read CLAUDE.md file:",s),s}},async saveClaudeMdFile(t,s){try{return await G("save_claude_md_file",{filePath:t,content:s})}catch(n){throw console.error("Failed to save CLAUDE.md file:",n),n}},async listAgents(){try{return await G("list_agents")}catch(t){throw console.error("Failed to list agents:",t),t}},async createAgent(t,s,n,a,r,o){try{return await G("create_agent",{name:t,icon:s,systemPrompt:n,defaultTask:a,model:r,hooks:o})}catch(i){throw console.error("Failed to create agent:",i),i}},async updateAgent(t,s,n,a,r,o,i){try{return await G("update_agent",{id:t,name:s,icon:n,systemPrompt:a,defaultTask:r,model:o,hooks:i})}catch(l){throw console.error("Failed to update agent:",l),l}},async deleteAgent(t){try{return await G("delete_agent",{id:t})}catch(s){throw console.error("Failed to delete agent:",s),s}},async getAgent(t){try{return await G("get_agent",{id:t})}catch(s){throw console.error("Failed to get agent:",s),s}},async exportAgent(t){try{return await G("export_agent",{id:t})}catch(s){throw console.error("Failed to export agent:",s),s}},async importAgent(t){try{return await G("import_agent",{jsonData:t})}catch(s){throw console.error("Failed to import agent:",s),s}},async importAgentFromFile(t){try{return await G("import_agent_from_file",{filePath:t})}catch(s){throw console.error("Failed to import agent from file:",s),s}},async executeAgent(t,s,n,a){try{return await G("execute_agent",{agentId:t,projectPath:s,task:n,model:a})}catch(r){throw console.error("Failed to execute agent:",r),new Error(`Failed to execute agent: ${r instanceof Error?r.message:"Unknown error"}`)}},async listAgentRuns(t){try{return await G("list_agent_runs",{agentId:t})}catch(s){return console.error("Failed to list agent runs:",s),[]}},async getAgentRun(t){try{return await G("get_agent_run",{id:t})}catch(s){throw console.error("Failed to get agent run:",s),new Error(`Failed to get agent run: ${s instanceof Error?s.message:"Unknown error"}`)}},async getAgentRunWithRealTimeMetrics(t){try{return await G("get_agent_run_with_real_time_metrics",{id:t})}catch(s){throw console.error("Failed to get agent run with real-time metrics:",s),new Error(`Failed to get agent run with real-time metrics: ${s instanceof Error?s.message:"Unknown error"}`)}},async listRunningAgentSessions(){try{return await G("list_running_sessions")}catch(t){throw console.error("Failed to list running agent sessions:",t),new Error(`Failed to list running agent sessions: ${t instanceof Error?t.message:"Unknown error"}`)}},async killAgentSession(t){try{return await G("kill_agent_session",{runId:t})}catch(s){throw console.error("Failed to kill agent session:",s),new Error(`Failed to kill agent session: ${s instanceof Error?s.message:"Unknown error"}`)}},async getSessionStatus(t){try{return await G("get_session_status",{runId:t})}catch(s){throw console.error("Failed to get session status:",s),new Error(`Failed to get session status: ${s instanceof Error?s.message:"Unknown error"}`)}},async cleanupFinishedProcesses(){try{return await G("cleanup_finished_processes")}catch(t){throw console.error("Failed to cleanup finished processes:",t),new Error(`Failed to cleanup finished processes: ${t instanceof Error?t.message:"Unknown error"}`)}},async getSessionOutput(t){try{return await G("get_session_output",{runId:t})}catch(s){throw console.error("Failed to get session output:",s),new Error(`Failed to get session output: ${s instanceof Error?s.message:"Unknown error"}`)}},async getLiveSessionOutput(t){try{return await G("get_live_session_output",{runId:t})}catch(s){throw console.error("Failed to get live session output:",s),new Error(`Failed to get live session output: ${s instanceof Error?s.message:"Unknown error"}`)}},async streamSessionOutput(t){try{return await G("stream_session_output",{runId:t})}catch(s){throw console.error("Failed to start streaming session output:",s),new Error(`Failed to start streaming session output: ${s instanceof Error?s.message:"Unknown error"}`)}},async loadSessionHistory(t,s){return G("load_session_history",{sessionId:t,projectId:s})},async loadAgentSessionHistory(t){try{return await G("load_agent_session_history",{sessionId:t})}catch(s){throw console.error("Failed to load agent session history:",s),s}},async executeClaudeCode(t,s,n){return G("execute_claude_code",{projectPath:t,prompt:s,model:n})},async continueClaudeCode(t,s,n){return G("continue_claude_code",{projectPath:t,prompt:s,model:n})},async resumeClaudeCode(t,s,n,a){return G("resume_claude_code",{projectPath:t,sessionId:s,prompt:n,model:a})},async cancelClaudeExecution(t){return G("cancel_claude_execution",{sessionId:t})},async listRunningClaudeSessions(){return G("list_running_claude_sessions")},async getClaudeSessionOutput(t){return G("get_claude_session_output",{sessionId:t})},async listDirectoryContents(t){return G("list_directory_contents",{directoryPath:t})},async searchFiles(t,s){return G("search_files",{basePath:t,query:s})},async getUsageStats(){try{return await G("get_usage_stats")}catch(t){throw console.error("Failed to get usage stats:",t),t}},async getUsageByDateRange(t,s){try{return await G("get_usage_by_date_range",{startDate:t,endDate:s})}catch(n){throw console.error("Failed to get usage by date range:",n),n}},async getSessionStats(t,s,n){try{return await G("get_session_stats",{since:t,until:s,order:n})}catch(a){throw console.error("Failed to get session stats:",a),a}},async getUsageDetails(t){try{return await G("get_usage_details",{limit:t})}catch(s){throw console.error("Failed to get usage details:",s),s}},async createCheckpoint(t,s,n,a,r){return G("create_checkpoint",{sessionId:t,projectId:s,projectPath:n,messageIndex:a,description:r})},async restoreCheckpoint(t,s,n,a){return G("restore_checkpoint",{checkpointId:t,sessionId:s,projectId:n,projectPath:a})},async listCheckpoints(t,s,n){return G("list_checkpoints",{sessionId:t,projectId:s,projectPath:n})},async forkFromCheckpoint(t,s,n,a,r,o){return G("fork_from_checkpoint",{checkpointId:t,sessionId:s,projectId:n,projectPath:a,newSessionId:r,description:o})},async getSessionTimeline(t,s,n){return G("get_session_timeline",{sessionId:t,projectId:s,projectPath:n})},async updateCheckpointSettings(t,s,n,a,r){return G("update_checkpoint_settings",{sessionId:t,projectId:s,projectPath:n,autoCheckpointEnabled:a,checkpointStrategy:r})},async getCheckpointDiff(t,s,n,a){try{return await G("get_checkpoint_diff",{fromCheckpointId:t,toCheckpointId:s,sessionId:n,projectId:a})}catch(r){throw console.error("Failed to get checkpoint diff:",r),r}},async trackCheckpointMessage(t,s,n,a){try{await G("track_checkpoint_message",{sessionId:t,projectId:s,projectPath:n,message:a})}catch(r){throw console.error("Failed to track checkpoint message:",r),r}},async checkAutoCheckpoint(t,s,n,a){try{return await G("check_auto_checkpoint",{sessionId:t,projectId:s,projectPath:n,message:a})}catch(r){throw console.error("Failed to check auto checkpoint:",r),r}},async cleanupOldCheckpoints(t,s,n,a){try{return await G("cleanup_old_checkpoints",{sessionId:t,projectId:s,projectPath:n,keepCount:a})}catch(r){throw console.error("Failed to cleanup old checkpoints:",r),r}},async getCheckpointSettings(t,s,n){try{return await G("get_checkpoint_settings",{sessionId:t,projectId:s,projectPath:n})}catch(a){throw console.error("Failed to get checkpoint settings:",a),a}},async clearCheckpointManager(t){try{await G("clear_checkpoint_manager",{sessionId:t})}catch(s){throw console.error("Failed to clear checkpoint manager:",s),s}},trackSessionMessages:(t,s,n,a)=>G("track_session_messages",{sessionId:t,projectId:s,projectPath:n,messages:a}),async mcpAdd(t,s,n,a=[],r={},o,i="local"){try{return await G("mcp_add",{name:t,transport:s,command:n,args:a,env:r,url:o,scope:i})}catch(l){throw console.error("Failed to add MCP server:",l),l}},async mcpList(){try{console.log("API: Calling mcp_list...");const t=await G("mcp_list");return console.log("API: mcp_list returned:",t),t}catch(t){throw console.error("API: Failed to list MCP servers:",t),t}},async mcpGet(t){try{return await G("mcp_get",{name:t})}catch(s){throw console.error("Failed to get MCP server:",s),s}},async mcpRemove(t){try{return await G("mcp_remove",{name:t})}catch(s){throw console.error("Failed to remove MCP server:",s),s}},async mcpAddJson(t,s,n="local"){try{return await G("mcp_add_json",{name:t,jsonConfig:s,scope:n})}catch(a){throw console.error("Failed to add MCP server from JSON:",a),a}},async mcpAddFromClaudeDesktop(t="local"){try{return await G("mcp_add_from_claude_desktop",{scope:t})}catch(s){throw console.error("Failed to import from Claude Desktop:",s),s}},async mcpServe(){try{return await G("mcp_serve")}catch(t){throw console.error("Failed to start MCP server:",t),t}},async mcpTestConnection(t){try{return await G("mcp_test_connection",{name:t})}catch(s){throw console.error("Failed to test MCP connection:",s),s}},async mcpResetProjectChoices(){try{return await G("mcp_reset_project_choices")}catch(t){throw console.error("Failed to reset project choices:",t),t}},async mcpGetServerStatus(){try{return await G("mcp_get_server_status")}catch(t){throw console.error("Failed to get server status:",t),t}},async mcpReadProjectConfig(t){try{return await G("mcp_read_project_config",{projectPath:t})}catch(s){throw console.error("Failed to read project MCP config:",s),s}},async mcpSaveProjectConfig(t,s){try{return await G("mcp_save_project_config",{projectPath:t,config:s})}catch(n){throw console.error("Failed to save project MCP config:",n),n}},async getClaudeBinaryPath(){try{return await G("get_claude_binary_path")}catch(t){throw console.error("Failed to get Claude binary path:",t),t}},async setClaudeBinaryPath(t){try{return await G("set_claude_binary_path",{path:t})}catch(s){throw console.error("Failed to set Claude binary path:",s),s}},async listClaudeInstallations(){try{return await G("list_claude_installations")}catch(t){throw console.error("Failed to list Claude installations:",t),t}},async storageListTables(){try{return await G("storage_list_tables")}catch(t){throw console.error("Failed to list tables:",t),t}},async storageReadTable(t,s,n,a){try{return await G("storage_read_table",{tableName:t,page:s,pageSize:n,searchQuery:a})}catch(r){throw console.error("Failed to read table:",r),r}},async storageUpdateRow(t,s,n){try{return await G("storage_update_row",{tableName:t,primaryKeyValues:s,updates:n})}catch(a){throw console.error("Failed to update row:",a),a}},async storageDeleteRow(t,s){try{return await G("storage_delete_row",{tableName:t,primaryKeyValues:s})}catch(n){throw console.error("Failed to delete row:",n),n}},async storageInsertRow(t,s){try{return await G("storage_insert_row",{tableName:t,values:s})}catch(n){throw console.error("Failed to insert row:",n),n}},async storageExecuteSql(t){try{return await G("storage_execute_sql",{query:t})}catch(s){throw console.error("Failed to execute SQL:",s),s}},async storageResetDatabase(){try{return await G("storage_reset_database")}catch(t){throw console.error("Failed to reset database:",t),t}},async getHooksConfig(t,s){try{return await G("get_hooks_config",{scope:t,projectPath:s})}catch(n){throw console.error("Failed to get hooks config:",n),n}},async updateHooksConfig(t,s,n){try{return await G("update_hooks_config",{scope:t,projectPath:n,hooks:s})}catch(a){throw console.error("Failed to update hooks config:",a),a}},async validateHookCommand(t){try{return await G("validate_hook_command",{command:t})}catch(s){throw console.error("Failed to validate hook command:",s),s}},async getMergedHooksConfig(t){try{const[s,n,a]=await Promise.all([this.getHooksConfig("user"),this.getHooksConfig("project",t),this.getHooksConfig("local",t)]),{HooksManager:r}=await Md(async()=>{const{HooksManager:o}=await Promise.resolve().then(()=>d0);return{HooksManager:o}},void 0);return r.mergeConfigs(s,n,a)}catch(s){throw console.error("Failed to get merged hooks config:",s),s}},async slashCommandsList(t){try{return await G("slash_commands_list",{projectPath:t})}catch(s){throw console.error("Failed to list slash commands:",s),s}},async slashCommandGet(t){try{return await G("slash_command_get",{commandId:t})}catch(s){throw console.error("Failed to get slash command:",s),s}},async slashCommandSave(t,s,n,a,r,o,i){try{return await G("slash_command_save",{scope:t,name:s,namespace:n,content:a,description:r,allowedTools:o,projectPath:i})}catch(l){throw console.error("Failed to save slash command:",l),l}},async slashCommandDelete(t){try{return await G("slash_command_delete",{commandId:t})}catch(s){throw console.error("Failed to delete slash command:",s),s}}},Uc=h.createContext(null);function Dg(){const t=h.useContext(Uc);if(!t)throw new Error("useOutputCache must be used within an OutputCacheProvider");return t}function Lg({children:t}){const[s,n]=h.useState(new Map),[a,r]=h.useState(!1),[o,i]=h.useState(null),l=h.useCallback(b=>s.get(b)||null,[s]),d=h.useCallback((b,k)=>{n(v=>new Map(v.set(b,k)))},[]),c=h.useCallback((b,k)=>{n(v=>{const M=v.get(b);if(M){const f=new Map(v);return f.set(b,{...M,status:k}),f}return v})},[]),u=h.useCallback(b=>{n(b?k=>{const v=new Map(k);return v.delete(b),v}:new Map)},[]),m=h.useCallback(b=>{if(!b)return[];const k=b.split(`
`).filter(M=>M.trim()),v=[];for(const M of k)try{const f=JSON.parse(M);v.push(f)}catch(f){console.error("Failed to parse message:",f,M),v.push({type:"result",subtype:"error",error:"Failed to parse message",raw_content:M})}return v},[]),x=h.useCallback(async(b,k)=>{try{const v=await Y.getSessionOutput(b),M=m(v);d(b,{output:v,messages:M,lastUpdated:Date.now(),status:k})}catch(v){console.warn(`Failed to update cache for session ${b}:`,v)}},[m,d]),p=h.useCallback(async()=>{try{const b=await Y.listRunningAgentSessions();for(const v of b)v.id&&v.status==="running"&&await x(v.id,v.status);const k=new Set(b.map(v=>v.id).filter(Boolean));n(v=>{const M=new Map;for(const[f,w]of v)(k.has(f)||w.status!=="running")&&M.set(f,w);return M})}catch(b){console.warn("Failed to poll running sessions:",b)}},[x]),g=h.useCallback(()=>{if(o)return;r(!0);const b=setInterval(p,3e3);i(b)},[o,p]),y=h.useCallback(()=>{o&&(clearInterval(o),i(null)),r(!1)},[o]);h.useEffect(()=>(g(),()=>y()),[g,y]);const j={getCachedOutput:l,setCachedOutput:d,updateSessionStatus:c,clearCache:u,isPolling:a,startBackgroundPolling:g,stopBackgroundPolling:y};return e.jsx(Uc.Provider,{value:j,children:t})}const uo=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,mo=Yo,Hc=(t,s)=>n=>{var a;if((s==null?void 0:s.variants)==null)return mo(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:o}=s,i=Object.keys(r).map(c=>{const u=n==null?void 0:n[c],m=o==null?void 0:o[c];if(u===null)return null;const x=uo(u)||uo(m);return r[c][x]}),l=n&&Object.entries(n).reduce((c,u)=>{let[m,x]=u;return x===void 0||(c[m]=x),c},{}),d=s==null||(a=s.compoundVariants)===null||a===void 0?void 0:a.reduce((c,u)=>{let{class:m,className:x,...p}=u;return Object.entries(p).every(g=>{let[y,j]=g;return Array.isArray(j)?j.includes({...o,...l}[y]):{...o,...l}[y]===j})?[...c,m,x]:c},[]);return mo(t,i,d,n==null?void 0:n.class,n==null?void 0:n.className)};function D(...t){return Pd(Yo(t))}const Ig=Hc("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-xs hover:bg-destructive/90",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),A=h.forwardRef(({className:t,variant:s,size:n,...a},r)=>e.jsx("button",{className:D(Ig({variant:s,size:n,className:t})),ref:r,...a}));A.displayName="Button";const te=h.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:D("rounded-lg border shadow-xs",t),style:{borderColor:"var(--color-border)",backgroundColor:"var(--color-card)",color:"var(--color-card-foreground)"},...s}));te.displayName="Card";const Gs=h.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:D("flex flex-col space-y-1.5 p-6",t),...s}));Gs.displayName="CardHeader";const Ks=h.forwardRef(({className:t,...s},n)=>e.jsx("h3",{ref:n,className:D("font-semibold leading-none tracking-tight",t),...s}));Ks.displayName="CardTitle";const Mn=h.forwardRef(({className:t,...s},n)=>e.jsx("p",{ref:n,className:D("text-sm text-muted-foreground",t),...s}));Mn.displayName="CardDescription";const qe=h.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:D("p-6 pt-0",t),...s}));qe.displayName="CardContent";const Rr=h.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:D("flex items-center p-6 pt-0",t),...s}));Rr.displayName="CardFooter";const Vg=Hc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Me({className:t,variant:s,...n}){return e.jsx("div",{className:D(Vg({variant:s}),t),...n})}const Wc=dd,qc=ud,Og=h.forwardRef(({className:t,inset:s,children:n,...a},r)=>e.jsxs(To,{ref:r,className:D("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",t),...a,children:[n,e.jsx(Be,{className:"ml-auto h-4 w-4"})]}));Og.displayName=To.displayName;const zg=h.forwardRef(({className:t,...s},n)=>e.jsx(Ao,{ref:n,className:D("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));zg.displayName=Ao.displayName;const Dr=h.forwardRef(({className:t,sideOffset:s=4,...n},a)=>e.jsx(cd,{children:e.jsx(Eo,{ref:a,sideOffset:s,className:D("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Dr.displayName=Eo.displayName;const In=h.forwardRef(({className:t,inset:s,...n},a)=>e.jsx(Po,{ref:a,className:D("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",t),...n}));In.displayName=Po.displayName;const $g=h.forwardRef(({className:t,children:s,checked:n,...a},r)=>e.jsxs(_o,{ref:r,className:D("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Fo,{children:e.jsx(nn,{className:"h-4 w-4"})})}),s]}));$g.displayName=_o.displayName;const Bg=h.forwardRef(({className:t,children:s,...n},a)=>e.jsxs(Ro,{ref:a,className:D("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Fo,{children:e.jsx(an,{className:"h-2 w-2 fill-current"})})}),s]}));Bg.displayName=Ro.displayName;const Ug=h.forwardRef(({className:t,inset:s,...n},a)=>e.jsx(Do,{ref:a,className:D("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...n}));Ug.displayName=Do.displayName;const Hg=h.forwardRef(({className:t,...s},n)=>e.jsx(Lo,{ref:n,className:D("-mx-1 my-1 h-px bg-muted",t),...s}));Hg.displayName=Lo.displayName;function Lr(t){const s=new Date(t*1e3),n=new Date;return Gg(s)?la(s):Kg(s)?`Yesterday, ${la(s)}`:Jg(s)?`${Yg(s)}, ${la(s)}`:s.getFullYear()===n.getFullYear()?s.toLocaleDateString("en-US",{month:"short",day:"numeric"}):s.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function rn(t){const s=new Date(t);return Lr(Math.floor(s.getTime()/1e3))}function Wg(t,s){return t.length<=s?t:t.slice(0,s-3)+"..."}function qg(t){return t.split(`
`)[0]||""}function la(t){return t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}function Gg(t){const s=new Date;return t.toDateString()===s.toDateString()}function Kg(t){const s=new Date;return s.setDate(s.getDate()-1),t.toDateString()===s.toDateString()}function Jg(t){const s=new Date;return s.setDate(s.getDate()-7),t>s}function Yg(t){return t.toLocaleDateString("en-US",{weekday:"long"})}function Xg(t){const n=Date.now()-t,a=Math.floor(n/1e3),r=Math.floor(a/60),o=Math.floor(r/60),i=Math.floor(o/24),l=Math.floor(i/7),d=Math.floor(i/30),c=Math.floor(i/365);return c>0?c===1?"1 year ago":`${c} years ago`:d>0?d===1?"1 month ago":`${d} months ago`:l>0?l===1?"1 week ago":`${l} weeks ago`:i>0?i===1?"1 day ago":`${i} days ago`:o>0?o===1?"1 hour ago":`${o} hours ago`:r>0?r===1?"1 minute ago":`${r} minutes ago`:a>0?a===1?"1 second ago":`${a} seconds ago`:"just now"}const Ir=({currentPage:t,totalPages:s,onPageChange:n,className:a})=>s<=1?null:e.jsxs("div",{className:D("flex items-center justify-center space-x-2",a),children:[e.jsx(A,{variant:"outline",size:"icon",onClick:()=>n(t-1),disabled:t<=1,className:"h-8 w-8",children:e.jsx(Ec,{className:"h-4 w-4"})}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",t," of ",s]}),e.jsx(A,{variant:"outline",size:"icon",onClick:()=>n(t+1),disabled:t>=s,className:"h-8 w-8",children:e.jsx(Be,{className:"h-4 w-4"})})]}),ca=12,Zg=t=>{const s=t.split("/").filter(Boolean);return s[s.length-1]||t},Qg=({projects:t,onProjectClick:s,onProjectSettings:n,className:a})=>{const[r,o]=h.useState(1),i=Math.ceil(t.length/ca),l=(r-1)*ca,d=l+ca,c=t.slice(l,d);return Nt.useEffect(()=>{o(1)},[t.length]),e.jsxs("div",{className:D("space-y-4",a),children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4",children:c.map((u,m)=>e.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:m*.05,ease:[.4,0,.2,1]},children:e.jsx(te,{className:"p-4 hover:shadow-md transition-all duration-200 cursor-pointer group h-full",onClick:()=>s(u),children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsx(ut,{className:"h-5 w-5 text-primary shrink-0"}),e.jsx("h3",{className:"font-semibold text-base truncate",children:Zg(u.path)})]}),u.sessions.length>0&&e.jsx(Me,{variant:"secondary",className:"shrink-0 ml-2",children:u.sessions.length})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3 font-mono truncate",children:u.path})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Hn,{className:"h-3 w-3"}),e.jsx("span",{children:Xg(u.created_at*1e3)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($e,{className:"h-3 w-3"}),e.jsx("span",{children:u.sessions.length})]})]}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[n&&e.jsxs(Wc,{children:[e.jsx(qc,{asChild:!0,onClick:x=>x.stopPropagation(),children:e.jsx(A,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(af,{className:"h-4 w-4"})})}),e.jsx(Dr,{align:"end",children:e.jsxs(In,{onClick:x=>{x.stopPropagation(),n(u)},children:[e.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Hooks"]})})]}),e.jsx(Be,{className:"h-4 w-4 text-muted-foreground"})]})]})]})})},u.id))}),e.jsx(Ir,{currentPage:r,totalPages:i,onPageChange:o})]})},e0=({projectPath:t,onEditFile:s,className:n})=>{const[a,r]=h.useState(!1),[o,i]=h.useState([]),[l,d]=h.useState(!1),[c,u]=h.useState(null);h.useEffect(()=>{a&&o.length===0&&m()},[a]);const m=async()=>{try{d(!0),u(null);const p=await Y.findClaudeMdFiles(t);i(p)}catch(p){console.error("Failed to load CLAUDE.md files:",p),u("Failed to load CLAUDE.md files")}finally{d(!1)}},x=p=>p<1024?`${p} B`:p<1024*1024?`${(p/1024).toFixed(1)} KB`:`${(p/(1024*1024)).toFixed(1)} MB`;return e.jsx("div",{className:D("w-full",n),children:e.jsxs(te,{className:"overflow-hidden",children:[e.jsxs("button",{onClick:()=>r(!a),className:"w-full flex items-center justify-between p-3 hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($e,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"CLAUDE.md Memories"}),o.length>0&&!l&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",o.length,")"]})]}),e.jsx(J.div,{animate:{rotate:a?180:0},transition:{duration:.2},children:e.jsx(ze,{className:"h-4 w-4 text-muted-foreground"})})]}),e.jsx(ke,{children:a&&e.jsx(J.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},transition:{duration:.2},className:"overflow-hidden",children:e.jsx("div",{className:"border-t border-border",children:l?e.jsx("div",{className:"p-4 flex items-center justify-center",children:e.jsx(ve,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):c?e.jsx("div",{className:"p-3 text-xs text-destructive",children:c}):o.length===0?e.jsx("div",{className:"p-3 text-xs text-muted-foreground text-center",children:"No CLAUDE.md files found in this project"}):e.jsx("div",{className:"max-h-64 overflow-y-auto",children:o.map((p,g)=>e.jsxs(J.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:g*.05},className:"flex items-center justify-between p-3 hover:bg-accent/50 transition-colors border-b border-border last:border-b-0",children:[e.jsxs("div",{className:"flex-1 min-w-0 mr-2",children:[e.jsx("p",{className:"text-xs font-mono truncate",children:p.relative_path}),e.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:x(p.size)}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["Modified ",Lr(p.modified)]})]})]}),e.jsx(A,{variant:"ghost",size:"icon",className:"h-7 w-7 flex-shrink-0",onClick:y=>{y.stopPropagation(),s(p)},children:e.jsx(Yf,{className:"h-3 w-3"})})]},p.absolute_path))})})})})]})})},da=5,t0=({sessions:t,projectPath:s,onBack:n,onSessionClick:a,onEditClaudeFile:r,className:o})=>{const[i,l]=h.useState(1),d=Math.ceil(t.length/da),c=(i-1)*da,u=c+da,m=t.slice(c,u);return Nt.useEffect(()=>{l(1)},[t.length]),e.jsxs("div",{className:D("space-y-4",o),children:[e.jsxs(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex items-center space-x-3",children:[e.jsx(A,{variant:"ghost",size:"icon",onClick:n,className:"h-8 w-8",children:e.jsx(pt,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-base font-medium truncate",children:s}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.length," session",t.length!==1?"s":""]})]})]}),r&&e.jsx(J.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:e.jsx(e0,{projectPath:s,onEditFile:r})}),e.jsx(ke,{mode:"popLayout",children:e.jsx("div",{className:"space-y-2",children:m.map((x,p)=>e.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:p*.05,ease:[.4,0,.2,1]},children:e.jsx(te,{className:D("transition-all hover:shadow-md hover:scale-[1.01] active:scale-[0.99] cursor-pointer",x.todo_data&&"border-l-4 border-l-primary"),onClick:()=>{const g=new CustomEvent("claude-session-selected",{detail:{session:x,projectPath:s}});window.dispatchEvent(g),a==null||a(x)},children:e.jsx(qe,{className:"p-3",children:e.jsx("div",{className:"space-y-2",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[e.jsx($e,{className:"h-4 w-4 text-muted-foreground mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[e.jsx("p",{className:"font-mono text-xs text-muted-foreground",children:x.id}),x.first_message&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground",children:[e.jsx(Oc,{className:"h-3 w-3"}),e.jsx("span",{children:"First message:"})]}),e.jsx("p",{className:"text-xs line-clamp-2 text-foreground/80",children:Wg(qg(x.first_message),100)})]}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ut,{className:"h-3 w-3"}),e.jsx("span",{children:x.message_timestamp?rn(x.message_timestamp):Lr(x.created_at)})]}),x.todo_data&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Hn,{className:"h-3 w-3"}),e.jsx("span",{children:"Has todo"})]})]})]})]})})})})})},x.id))})}),e.jsx(Ir,{currentPage:i,totalPages:d,onPageChange:l})]})},s0=({onSessionClick:t,className:s})=>{const[n,a]=h.useState([]),[r,o]=h.useState(!0),[i,l]=h.useState(null);h.useEffect(()=>{d();const u=setInterval(d,5e3);return()=>clearInterval(u)},[]);const d=async()=>{try{const u=await Y.listRunningClaudeSessions();a(u),l(null)}catch(u){console.error("Failed to load running sessions:",u),l("Failed to load running sessions")}finally{o(!1)}},c=u=>{if("ClaudeSession"in u.process_type){const x={id:u.process_type.ClaudeSession.session_id,project_id:u.project_path.replace(/[^a-zA-Z0-9]/g,"-"),project_path:u.project_path,created_at:new Date(u.started_at).getTime()/1e3},p=new CustomEvent("claude-session-selected",{detail:{session:x,projectPath:u.project_path}});window.dispatchEvent(p),t==null||t(x)}};return r&&n.length===0?e.jsx("div",{className:D("flex items-center justify-center py-4",s),children:e.jsx(ve,{className:"h-4 w-4 animate-spin text-muted-foreground"})}):i?e.jsxs("div",{className:D("flex items-center gap-2 text-destructive text-sm",s),children:[e.jsx(De,{className:"h-4 w-4"}),e.jsx("span",{children:i})]}):n.length===0?null:e.jsxs("div",{className:D("space-y-3",s),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("h3",{className:"text-sm font-medium",children:"Active Claude Sessions"})]}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",n.length," running)"]})]}),e.jsx("div",{className:"space-y-2",children:n.map(u=>{const m="ClaudeSession"in u.process_type?u.process_type.ClaudeSession.session_id:null;return m?e.jsx(J.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:e.jsx(te,{className:"transition-all hover:shadow-md hover:scale-[1.01] cursor-pointer",children:e.jsx(qe,{className:"p-3",onClick:()=>c(u),children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[e.jsx(Xe,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"space-y-1 flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"font-mono text-xs text-muted-foreground truncate",children:[m.substring(0,20),"..."]}),e.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Running"})]}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:u.project_path}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[e.jsxs("span",{children:["Started: ",rn(u.started_at)]}),e.jsxs("span",{children:["Model: ",u.model]}),u.task&&e.jsxs("span",{className:"truncate max-w-[200px]",title:u.task,children:["Task: ",u.task]})]})]})]}),e.jsxs(A,{size:"sm",variant:"ghost",className:"flex-shrink-0",children:[e.jsx(xn,{className:"h-3 w-3 mr-1"}),"Resume"]})]})})})},u.run_id):null})})]})},Jt=({trigger:t,content:s,open:n,onOpenChange:a,className:r,align:o="center",side:i="bottom"})=>{const[l,d]=h.useState(!1),c=n!==void 0?n:l,u=a||d,m=h.useRef(null),x=h.useRef(null);h.useEffect(()=>{if(!c)return;const j=b=>{m.current&&x.current&&!m.current.contains(b.target)&&!x.current.contains(b.target)&&u(!1)};return document.addEventListener("mousedown",j),()=>document.removeEventListener("mousedown",j)},[c,u]),h.useEffect(()=>{if(!c)return;const j=b=>{b.key==="Escape"&&u(!1)};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[c,u]);const p={start:"left-0",center:"left-1/2 -translate-x-1/2",end:"right-0"}[o],g=i==="top"?"bottom-full mb-2":"top-full mt-2",y=i==="top"?{initial:10,exit:10}:{initial:-10,exit:-10};return e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{ref:m,onClick:()=>u(!c),children:t}),e.jsx(ke,{children:c&&e.jsx(J.div,{ref:x,initial:{opacity:0,scale:.95,y:y.initial},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:y.exit},transition:{duration:.15},className:D("absolute z-50 min-w-[200px] rounded-md border border-border bg-popover p-4 text-popover-foreground shadow-md",g,p,r),children:s})})]})},n0=({onClaudeClick:t,onSettingsClick:s,onUsageClick:n,onMCPClick:a,onInfoClick:r,className:o})=>{const[i,l]=h.useState(null),[d,c]=h.useState(!0);h.useEffect(()=>{u()},[]);const u=async()=>{try{c(!0);const x=await Y.checkClaudeVersion();l(x),!x.is_installed&&x.output.includes("No such file or directory")&&window.dispatchEvent(new CustomEvent("claude-not-found"))}catch(x){console.error("Failed to check Claude version:",x),l({is_installed:!1,output:"Failed to check version"})}finally{c(!1)}},m=()=>{if(d)return e.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[e.jsx(an,{className:"h-3 w-3 animate-pulse text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Checking..."})]});if(!i)return null;const x=e.jsx(A,{variant:"ghost",size:"sm",className:"h-auto py-1 px-2 hover:bg-accent",onClick:s,children:e.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[e.jsx(an,{className:D("h-3 w-3",i.is_installed?"fill-green-500 text-green-500":"fill-red-500 text-red-500")}),e.jsx("span",{children:i.is_installed&&i.version?`Claude Code v${i.version}`:"Claude Code"})]})});return i.is_installed?x:e.jsx(Jt,{trigger:x,content:e.jsxs("div",{className:"space-y-3 max-w-xs",children:[e.jsx("p",{className:"text-sm font-medium",children:"Claude Code not found"}),e.jsx("div",{className:"rounded-md bg-muted p-3",children:e.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap",children:i.output})}),e.jsx(A,{variant:"outline",size:"sm",className:"w-full",onClick:s,children:"Select Claude Installation"}),e.jsxs("a",{href:"https://www.anthropic.com/claude-code",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-xs text-primary hover:underline",children:[e.jsx("span",{children:"Install Claude Code"}),e.jsx(Mr,{className:"h-3 w-3"})]})]}),align:"start"})};return e.jsxs(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:D("flex items-center justify-between px-4 py-3 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",o),children:[e.jsx(m,{}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(A,{variant:"ghost",size:"sm",onClick:n,className:"text-xs",children:[e.jsx(Ac,{className:"mr-2 h-3 w-3"}),"Usage Dashboard"]}),e.jsxs(A,{variant:"ghost",size:"sm",onClick:t,className:"text-xs",children:[e.jsx($e,{className:"mr-2 h-3 w-3"}),"CLAUDE.md"]}),e.jsxs(A,{variant:"ghost",size:"sm",onClick:a,className:"text-xs",children:[e.jsx(ds,{className:"mr-2 h-3 w-3"}),"MCP"]}),e.jsxs(A,{variant:"ghost",size:"sm",onClick:s,className:"text-xs",children:[e.jsx(Ht,{className:"mr-2 h-3 w-3"}),"Settings"]}),e.jsx(A,{variant:"ghost",size:"icon",onClick:r,className:"h-8 w-8",title:"About",children:e.jsx(Tt,{className:"h-4 w-4"})})]})]})},Dt=({message:t,type:s="info",duration:n=3e3,onDismiss:a,className:r})=>{h.useEffect(()=>{if(n&&n>0){const l=setTimeout(()=>{a==null||a()},n);return()=>clearTimeout(l)}},[n,a]);const o={success:e.jsx(Cr,{className:"h-4 w-4"}),error:e.jsx(De,{className:"h-4 w-4"}),info:e.jsx(Tt,{className:"h-4 w-4"})},i={success:"text-green-500",error:"text-red-500",info:"text-primary"};return e.jsxs(J.div,{initial:{opacity:0,y:50,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{duration:.2},className:D("flex items-center space-x-3 rounded-lg border border-border bg-card px-4 py-3 shadow-lg",r),children:[e.jsx("span",{className:i[s],children:o[s]}),e.jsx("span",{className:"flex-1 text-sm",children:t}),a&&e.jsx("button",{onClick:a,className:"text-muted-foreground hover:text-foreground transition-colors",children:e.jsx(ot,{className:"h-4 w-4"})})]})},Lt=({children:t})=>e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 flex justify-center p-4 pointer-events-none",children:e.jsx("div",{className:"pointer-events-auto",children:e.jsx(ke,{mode:"wait",children:t})})}),a0=({onBack:t,className:s})=>{const[n,a]=h.useState(""),[r,o]=h.useState(""),[i,l]=h.useState(!0),[d,c]=h.useState(!1),[u,m]=h.useState(null),[x,p]=h.useState(null),g=n!==r;h.useEffect(()=>{y()},[]);const y=async()=>{try{l(!0),m(null);const k=await Y.getSystemPrompt();a(k),o(k)}catch(k){console.error("Failed to load system prompt:",k),m("Failed to load CLAUDE.md file")}finally{l(!1)}},j=async()=>{try{c(!0),m(null),p(null),await Y.saveSystemPrompt(n),o(n),p({message:"CLAUDE.md saved successfully",type:"success"})}catch(k){console.error("Failed to save system prompt:",k),m("Failed to save CLAUDE.md file"),p({message:"Failed to save CLAUDE.md",type:"error"})}finally{c(!1)}},b=()=>{g&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||t()};return e.jsxs("div",{className:D("flex flex-col h-full bg-background",s),children:[e.jsxs("div",{className:"w-full max-w-5xl mx-auto flex flex-col h-full",children:[e.jsxs(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex items-center justify-between p-4 border-b border-border",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(A,{variant:"ghost",size:"icon",onClick:b,className:"h-8 w-8",children:e.jsx(pt,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"CLAUDE.md"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Edit your Claude Code system prompt"})]})]}),e.jsxs(A,{onClick:j,disabled:!g||d,size:"sm",children:[d?e.jsx(ve,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(Rt,{className:"mr-2 h-4 w-4"}),d?"Saving...":"Save"]})]}),u&&e.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},className:"mx-4 mt-4 rounded-lg border border-destructive/50 bg-destructive/10 p-3 text-xs text-destructive",children:u}),e.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:i?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(ve,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):e.jsx("div",{className:"h-full rounded-lg border border-border overflow-hidden shadow-sm","data-color-mode":"dark",children:e.jsx(Ba,{value:n,onChange:k=>a(k||""),preview:"edit",height:"100%",visibleDragbar:!1})})})]}),e.jsx(Lt,{children:x&&e.jsx(Dt,{message:x.message,type:x.type,onDismiss:()=>p(null)})})]})},r0=({file:t,onBack:s,className:n})=>{const[a,r]=h.useState(""),[o,i]=h.useState(""),[l,d]=h.useState(!0),[c,u]=h.useState(!1),[m,x]=h.useState(null),[p,g]=h.useState(null),y=a!==o;h.useEffect(()=>{j()},[t.absolute_path]);const j=async()=>{try{d(!0),x(null);const v=await Y.readClaudeMdFile(t.absolute_path);r(v),i(v)}catch(v){console.error("Failed to load file:",v),x("Failed to load CLAUDE.md file")}finally{d(!1)}},b=async()=>{try{u(!0),x(null),g(null),await Y.saveClaudeMdFile(t.absolute_path,a),i(a),g({message:"File saved successfully",type:"success"})}catch(v){console.error("Failed to save file:",v),x("Failed to save CLAUDE.md file"),g({message:"Failed to save file",type:"error"})}finally{u(!1)}},k=()=>{y&&!window.confirm("You have unsaved changes. Are you sure you want to leave?")||s()};return e.jsxs("div",{className:D("flex flex-col h-full bg-background",n),children:[e.jsxs("div",{className:"w-full max-w-5xl mx-auto flex flex-col h-full",children:[e.jsxs(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex items-center justify-between p-4 border-b border-border",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(A,{variant:"ghost",size:"icon",onClick:k,className:"h-8 w-8",children:e.jsx(pt,{className:"h-4 w-4"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h2",{className:"text-lg font-semibold truncate",children:t.relative_path}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Edit project-specific Claude Code system prompt"})]})]}),e.jsxs(A,{onClick:b,disabled:!y||c,size:"sm",children:[c?e.jsx(ve,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(Rt,{className:"mr-2 h-4 w-4"}),c?"Saving...":"Save"]})]}),m&&e.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},className:"mx-4 mt-4 rounded-lg border border-destructive/50 bg-destructive/10 p-3 text-xs text-destructive",children:m}),e.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:l?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(ve,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):e.jsx("div",{className:"h-full rounded-lg border border-border overflow-hidden shadow-sm","data-color-mode":"dark",children:e.jsx(Ba,{value:a,onChange:v=>r(v||""),preview:"edit",height:"100%",visibleDragbar:!1})})})]}),e.jsx(Lt,{children:p&&e.jsx(Dt,{message:p.message,type:p.type,onDismiss:()=>g(null)})})]})},we=h.forwardRef(({className:t,type:s,...n},a)=>e.jsx("input",{type:s,className:D("flex h-9 w-full rounded-md border px-3 py-1 text-sm shadow-sm transition-colors","file:border-0 file:bg-transparent file:text-sm file:font-medium","focus-visible:outline-none focus-visible:ring-1","disabled:cursor-not-allowed disabled:opacity-50",t),style:{borderColor:"var(--color-input)",backgroundColor:"transparent",color:"var(--color-foreground)"},ref:a,...n}));we.displayName="Input";const he=h.forwardRef(({className:t,...s},n)=>e.jsx("label",{ref:n,className:D("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...s}));he.displayName="Label";const Vn=h.forwardRef(({className:t,checked:s,onCheckedChange:n,disabled:a,...r},o)=>e.jsxs("button",{type:"button",role:"switch","aria-checked":s,disabled:a,onClick:()=>n==null?void 0:n(!s),className:D("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors","disabled:cursor-not-allowed disabled:opacity-50",t),style:{backgroundColor:s?"var(--color-primary)":"var(--color-muted)"},children:[e.jsx("span",{className:D("pointer-events-none block h-4 w-4 rounded-full shadow-lg ring-0 transition-transform",s?"translate-x-4":"translate-x-0"),style:{backgroundColor:"var(--color-background)"}}),e.jsx("input",{ref:o,type:"checkbox",checked:s,disabled:a,className:"sr-only",...r})]}));Vn.displayName="Switch";const Vr=h.createContext({value:"",onValueChange:()=>{}}),ss=({value:t,onValueChange:s,children:n,className:a})=>e.jsx(Vr.Provider,{value:{value:t,onValueChange:s},children:e.jsx("div",{className:D("w-full",a),children:n})}),qt=h.forwardRef(({className:t,...s},n)=>e.jsx("div",{ref:n,className:D("flex h-9 items-center justify-start rounded-lg p-1",t),style:{backgroundColor:"var(--color-muted)",color:"var(--color-muted-foreground)"},...s}));qt.displayName="TabsList";const Ae=h.forwardRef(({className:t,value:s,disabled:n,...a},r)=>{const{value:o,onValueChange:i}=h.useContext(Vr),l=o===s;return e.jsx("button",{ref:r,type:"button",role:"tab","aria-selected":l,disabled:n,onClick:()=>i(s),className:D("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium transition-all","disabled:pointer-events-none disabled:opacity-50",t),style:{backgroundColor:l?"var(--color-background)":"transparent",color:l?"var(--color-foreground)":"inherit",boxShadow:l?"0 1px 2px rgba(0,0,0,0.1)":"none"},...a})});Ae.displayName="TabsTrigger";const Ee=h.forwardRef(({className:t,value:s,...n},a)=>{const{value:r}=h.useContext(Vr);return r===s?e.jsx("div",{ref:a,role:"tabpanel",className:D("mt-2",t),...n}):null});Ee.displayName="TabsContent";const As=gd,Es=yd,us=h.forwardRef(({className:t,children:s,...n},a)=>e.jsxs(Io,{ref:a,className:D("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[s,e.jsx(md,{asChild:!0,children:e.jsx(ze,{className:"h-4 w-4 opacity-50"})})]}));us.displayName=Io.displayName;const Gc=h.forwardRef(({className:t,...s},n)=>e.jsx(Vo,{ref:n,className:D("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(cs,{className:"h-4 w-4"})}));Gc.displayName=Vo.displayName;const Kc=h.forwardRef(({className:t,...s},n)=>e.jsx(Oo,{ref:n,className:D("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(ze,{className:"h-4 w-4"})}));Kc.displayName=Oo.displayName;const ms=h.forwardRef(({className:t,children:s,position:n="popper",...a},r)=>e.jsx(hd,{children:e.jsxs(zo,{ref:r,className:D("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...a,children:[e.jsx(Gc,{}),e.jsx(xd,{className:D("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(Kc,{})]})}));ms.displayName=zo.displayName;const i0=h.forwardRef(({className:t,...s},n)=>e.jsx($o,{ref:n,className:D("px-2 py-1.5 text-sm font-semibold",t),...s}));i0.displayName=$o.displayName;const ht=h.forwardRef(({className:t,children:s,...n},a)=>e.jsxs(Bo,{ref:a,className:D("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(pd,{children:e.jsx(nn,{className:"h-4 w-4"})})}),e.jsx(fd,{children:s})]}));ht.displayName=Bo.displayName;const o0=h.forwardRef(({className:t,...s},n)=>e.jsx(Uo,{ref:n,className:D("-mx-1 my-1 h-px bg-muted",t),...s}));o0.displayName=Uo.displayName;const On=({value:t,onValueChange:s,options:n,placeholder:a="Select an option",disabled:r=!1,className:o})=>e.jsxs(As,{value:t,onValueChange:s,disabled:r,children:[e.jsx(us,{className:o,children:e.jsx(Es,{placeholder:a})}),e.jsx(ms,{children:n.map(i=>e.jsx(ht,{value:i.value,children:i.label},i.value))})]}),Jc=({selectedPath:t,onSelect:s,className:n,showSaveButton:a=!1,onSave:r,isSaving:o=!1})=>{const[i,l]=h.useState([]),[d,c]=h.useState(!0),[u,m]=h.useState(null),[x,p]=h.useState(null);h.useEffect(()=>{g()},[]),h.useEffect(()=>{if(t&&i.length>0){const f=i.find(w=>w.path===t);f&&p(f)}},[t,i]);const g=async()=>{try{c(!0),m(null);const f=await Y.listClaudeInstallations();if(l(f),t){const w=f.find(S=>S.path===t);w&&p(w)}else f.length>0&&(p(f[0]),s(f[0]))}catch(f){console.error("Failed to load Claude installations:",f),m(f instanceof Error?f.message:"Failed to load Claude installations")}finally{c(!1)}},y=f=>{const w=i.find(S=>S.path===f);w&&(p(w),s(w))},j=f=>{switch(f.installation_type){case"Bundled":return e.jsx(Er,{className:"h-4 w-4"});case"System":return e.jsx(Rn,{className:"h-4 w-4"});case"Custom":return e.jsx(Ht,{className:"h-4 w-4"});default:return e.jsx(Rn,{className:"h-4 w-4"})}},b=f=>{switch(f.installation_type){case"Bundled":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"System":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"Custom":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}};if(d)return e.jsxs(te,{className:n,children:[e.jsxs(Gs,{children:[e.jsx(Ks,{children:"Claude Code Installation"}),e.jsx(Mn,{children:"Loading available installations..."})]}),e.jsx(qe,{children:e.jsx("div",{className:"flex items-center justify-center py-4",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})})})]});if(u)return e.jsxs(te,{className:n,children:[e.jsxs(Gs,{children:[e.jsx(Ks,{children:"Claude Code Installation"}),e.jsx(Mn,{children:"Error loading installations"})]}),e.jsxs(qe,{children:[e.jsx("div",{className:"text-sm text-destructive mb-4",children:u}),e.jsx(A,{onClick:g,variant:"outline",size:"sm",children:"Retry"})]})]});const k=i.filter(f=>f.installation_type==="Bundled"),v=i.filter(f=>f.installation_type==="System"),M=i.filter(f=>f.installation_type==="Custom");return e.jsxs(te,{className:n,children:[e.jsxs(Gs,{children:[e.jsxs(Ks,{className:"flex items-center gap-2",children:[e.jsx(Cr,{className:"h-5 w-5"}),"Claude Code Installation"]}),e.jsx(Mn,{children:"Choose your preferred Claude Code installation. Bundled version is recommended for best compatibility."})]}),e.jsxs(qe,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(he,{className:"text-sm font-medium",children:"Available Installations"}),e.jsxs(As,{value:(x==null?void 0:x.path)||"",onValueChange:y,children:[e.jsx(us,{children:e.jsx(Es,{placeholder:"Select Claude installation",children:x&&e.jsxs("div",{className:"flex items-center gap-2",children:[j(x),e.jsx("span",{className:"truncate",children:x.path}),e.jsx(Me,{variant:"secondary",className:D("text-xs",b(x)),children:x.installation_type})]})})}),e.jsxs(ms,{children:[k.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground",children:"Bundled"}),k.map(f=>e.jsx(ht,{value:f.path,children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[j(f),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium",children:"Claude Code (Bundled)"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.version||"Version unknown","  ",f.source]})]}),e.jsx(Me,{variant:"secondary",className:D("text-xs",b(f)),children:"Recommended"})]})},f.path))]}),v.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground",children:"System Installations"}),v.map(f=>e.jsx(ht,{value:f.path,children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[j(f),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium truncate",children:f.path}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.version||"Version unknown","  ",f.source]})]}),e.jsx(Me,{variant:"outline",className:"text-xs",children:"System"})]})},f.path))]}),M.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground",children:"Custom Installations"}),M.map(f=>e.jsx(ht,{value:f.path,children:e.jsxs("div",{className:"flex items-center gap-2 w-full",children:[j(f),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium truncate",children:f.path}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[f.version||"Version unknown","  ",f.source]})]}),e.jsx(Me,{variant:"outline",className:"text-xs",children:"Custom"})]})},f.path))]})]})]})]}),x&&e.jsxs("div",{className:"p-3 bg-muted rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Selected Installation"}),e.jsx(Me,{className:D("text-xs",b(x)),children:x.installation_type})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Path:"})," ",x.path]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Source:"})," ",x.source]}),x.version&&e.jsxs("div",{children:[e.jsx("strong",{children:"Version:"})," ",x.version]})]})]}),a&&e.jsx(A,{onClick:r,disabled:o||!x,className:"w-full",children:o?"Saving...":"Save Selection"})]})]})},Je=Nd,l0=jd,Yc=h.forwardRef(({className:t,...s},n)=>e.jsx(Ho,{ref:n,className:D("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));Yc.displayName=Ho.displayName;const Ge=h.forwardRef(({className:t,children:s,...n},a)=>e.jsxs(l0,{children:[e.jsx(Yc,{}),e.jsxs(Wo,{ref:a,className:D("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[s,e.jsxs(vd,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ot,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ge.displayName=Wo.displayName;const et=({className:t,...s})=>e.jsx("div",{className:D("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});et.displayName="DialogHeader";const yt=({className:t,...s})=>e.jsx("div",{className:D("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});yt.displayName="DialogFooter";const Ye=h.forwardRef(({className:t,...s},n)=>e.jsx(qo,{ref:n,className:D("text-lg font-semibold leading-none tracking-tight",t),...s}));Ye.displayName=qo.displayName;const xt=h.forwardRef(({className:t,...s},n)=>e.jsx(Go,{ref:n,className:D("text-sm text-muted-foreground",t),...s}));xt.displayName=Go.displayName;const hs=h.forwardRef(({className:t,...s},n)=>e.jsx("textarea",{className:D("flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...s}));hs.displayName="Textarea";const Ct=wd,St=bd,Mt=kd,vt=h.forwardRef(({className:t,sideOffset:s=4,...n},a)=>e.jsx(Ko,{ref:a,sideOffset:s,className:D("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));vt.displayName=Ko.displayName;const c0=()=>{const[t,s]=h.useState([]),[n,a]=h.useState(""),[r,o]=h.useState(null),[i,l]=h.useState(1),[d]=h.useState(25),[c,u]=h.useState(""),[m,x]=h.useState(!1),[p,g]=h.useState(null),[y,j]=h.useState(null),[b,k]=h.useState(null),[v,M]=h.useState(null),[f,w]=h.useState(!1),[S,E]=h.useState(!1),[P,_]=h.useState(""),[U,K]=h.useState(null),[Q,W]=h.useState(null),[se,L]=h.useState(null);h.useEffect(()=>{R()},[]),h.useEffect(()=>{n&&O(1)},[n]);const R=async()=>{try{x(!0),g(null);const C=await Y.storageListTables();s(C),C.length>0&&!n&&a(C[0].name)}catch(C){console.error("Failed to load tables:",C),g("Failed to load tables")}finally{x(!1)}},O=async(C,N)=>{if(n)try{x(!0),g(null);const z=await Y.storageReadTable(n,C,d,N||c||void 0);o(z),l(C)}catch(z){console.error("Failed to load table data:",z),g("Failed to load table data")}finally{x(!1)}},ee=h.useCallback(C=>{u(C),O(1,C)},[n]),V=C=>{if(!r)return{};const N=r.columns.filter(X=>X.pk),z={};return N.forEach(X=>{z[X.name]=C[X.name]}),z},ue=async C=>{if(!(!y||!n))try{x(!0);const N=V(y);await Y.storageUpdateRow(n,N,C),await O(i),j(null)}catch(N){console.error("Failed to update row:",N),g("Failed to update row")}finally{x(!1)}},pe=async()=>{if(!(!v||!n))try{x(!0);const C=V(v);await Y.storageDeleteRow(n,C),await O(i),M(null)}catch(C){console.error("Failed to delete row:",C),g("Failed to delete row")}finally{x(!1)}},Ne=async C=>{if(n)try{x(!0),await Y.storageInsertRow(n,C),await O(i),k(null)}catch(N){console.error("Failed to insert row:",N),g("Failed to insert row")}finally{x(!1)}},$=async()=>{try{x(!0),W(null);const C=await Y.storageExecuteSql(P);K(C),C.rows_affected!==void 0&&(await R(),n&&await O(i))}catch(C){console.error("Failed to execute SQL:",C),W(C instanceof Error?C.message:"Failed to execute SQL")}finally{x(!1)}},Z=async()=>{try{x(!0),await Y.storageResetDatabase(),await R(),a(""),o(null),w(!1),L({message:"Database Reset Complete: The database has been restored to its default state with empty tables (agents, agent_runs, app_settings).",type:"success"})}catch(C){console.error("Failed to reset database:",C),g("Failed to reset database"),L({message:"Reset Failed: Failed to reset the database. Please try again.",type:"error"})}finally{x(!1)}},re=(C,N=100)=>{if(C===null)return"NULL";if(C===void 0)return"";if(typeof C=="boolean")return C?"true":"false";if(typeof C=="object")return JSON.stringify(C);const z=String(C);return z.length>N?z.substring(0,N)+"...":z},F=C=>{const N=C.type_name.toUpperCase();return N.includes("INT")||N.includes("REAL")||N.includes("FLOAT")||N.includes("DOUBLE")?"number":N.includes("BOOL")?"checkbox":"text"};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(te,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(_c,{className:"h-4 w-4 text-primary"}),e.jsx("h3",{className:"text-sm font-semibold",children:"Database Storage"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>E(!0),className:"gap-2 h-8 text-xs",children:[e.jsx(Xe,{className:"h-3 w-3"}),"SQL Query"]}),e.jsxs(A,{variant:"destructive",size:"sm",onClick:()=>w(!0),className:"gap-2 h-8 text-xs",children:[e.jsx(Gn,{className:"h-3 w-3"}),"Reset DB"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(As,{value:n,onValueChange:a,children:[e.jsx(us,{className:"w-[200px] h-8 text-xs",children:e.jsx(Es,{placeholder:"Select a table",children:n&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xg,{className:"h-3 w-3"}),n]})})}),e.jsx(ms,{children:t.map(C=>e.jsx(ht,{value:C.name,className:"text-xs",children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("span",{children:C.name}),e.jsxs("span",{className:"text-[10px] text-muted-foreground ml-2",children:[C.row_count," rows"]})]})},C.name))})]}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-3 w-3 text-muted-foreground"}),e.jsx(we,{placeholder:"Search in table...",value:c,onChange:C=>ee(C.target.value),className:"pl-8 h-8 text-xs"})]}),r&&e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>k({}),className:"gap-2 h-8 text-xs",children:[e.jsx(rt,{className:"h-3 w-3"}),"New Row"]})]})]})}),r&&e.jsxs(te,{className:"overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-muted/50",children:[r.columns.map(C=>e.jsxs("th",{className:"px-3 py-2 text-left text-xs font-medium text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[C.name,C.pk&&e.jsx("span",{className:"text-[10px] text-primary",children:"PK"})]}),e.jsx("div",{className:"text-[10px] font-normal",children:C.type_name})]},C.name)),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-muted-foreground",children:"Actions"})]})}),e.jsx("tbody",{children:e.jsx(ke,{children:r.rows.map((C,N)=>e.jsxs(J.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"border-b hover:bg-muted/25 transition-colors",children:[r.columns.map(z=>{const X=C[z.name],de=re(X,50),ie=X===null?"NULL":X===void 0?"":typeof X=="object"?JSON.stringify(X,null,2):String(X),oe=ie.length>50;return e.jsx("td",{className:"px-3 py-2 text-xs font-mono",children:oe?e.jsx(Ct,{children:e.jsxs(St,{children:[e.jsx(Mt,{asChild:!0,children:e.jsx("span",{className:"cursor-help block truncate max-w-[200px]",children:de})}),e.jsx(vt,{side:"bottom",className:"max-w-[500px] max-h-[300px] overflow-auto",children:e.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:ie})})]})}):e.jsx("span",{className:"block truncate max-w-[200px]",children:de})},z.name)}),e.jsx("td",{className:"px-3 py-2 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(A,{variant:"ghost",size:"icon",onClick:()=>j(C),className:"h-6 w-6",children:e.jsx(Ra,{className:"h-3 w-3"})}),e.jsx(A,{variant:"ghost",size:"icon",onClick:()=>M(C),className:"h-6 w-6 hover:text-destructive",children:e.jsx(dt,{className:"h-3 w-3"})})]})})]},N))})})]})}),r.total_pages>1&&e.jsxs("div",{className:"flex items-center justify-between p-3 border-t",children:[e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Showing ",(i-1)*d+1," to"," ",Math.min(i*d,r.total_rows)," of"," ",r.total_rows," rows"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>O(i-1),disabled:i===1,className:"h-7 text-xs",children:[e.jsx(Ec,{className:"h-3 w-3"}),"Previous"]}),e.jsxs("div",{className:"text-xs",children:["Page ",i," of ",r.total_pages]}),e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>O(i+1),disabled:i===r.total_pages,className:"h-7 text-xs",children:["Next",e.jsx(Be,{className:"h-3 w-3"})]})]})]})]}),m&&e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(ve,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),p&&e.jsx(te,{className:"p-6 border-destructive/50 bg-destructive/10",children:e.jsxs("div",{className:"flex items-center gap-3 text-destructive",children:[e.jsx(ks,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:p})]})}),e.jsx(Je,{open:!!y,onOpenChange:()=>j(null),children:e.jsxs(Ge,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(et,{children:[e.jsx(Ye,{children:"Edit Row"}),e.jsxs(xt,{children:["Update the values for this row in the ",n," table."]})]}),y&&r&&e.jsx("div",{className:"space-y-4",children:r.columns.map(C=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs(he,{htmlFor:`edit-${C.name}`,children:[C.name,C.pk&&e.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"(Primary Key)"})]}),F(C)==="checkbox"?e.jsx("input",{type:"checkbox",id:`edit-${C.name}`,checked:!!y[C.name],onChange:N=>j({...y,[C.name]:N.target.checked}),disabled:C.pk,className:"h-4 w-4"}):e.jsx(we,{id:`edit-${C.name}`,type:F(C),value:y[C.name]??"",onChange:N=>j({...y,[C.name]:N.target.value}),disabled:C.pk,placeholder:C.dflt_value||"NULL"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Type: ",C.type_name,C.notnull&&", NOT NULL",C.dflt_value&&`, Default: ${C.dflt_value}`]})]},C.name))}),e.jsxs(yt,{children:[e.jsx(A,{variant:"outline",onClick:()=>j(null),children:"Cancel"}),e.jsx(A,{onClick:()=>ue(y),disabled:m,children:m?e.jsx(ve,{className:"h-4 w-4 animate-spin"}):"Update"})]})]})}),e.jsx(Je,{open:!!b,onOpenChange:()=>k(null),children:e.jsxs(Ge,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(et,{children:[e.jsx(Ye,{children:"New Row"}),e.jsxs(xt,{children:["Add a new row to the ",n," table."]})]}),b&&r&&e.jsx("div",{className:"space-y-4",children:r.columns.map(C=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs(he,{htmlFor:`new-${C.name}`,children:[C.name,C.notnull&&e.jsx("span",{className:"text-xs text-destructive ml-2",children:"(Required)"})]}),F(C)==="checkbox"?e.jsx("input",{type:"checkbox",id:`new-${C.name}`,checked:b[C.name]||!1,onChange:N=>k({...b,[C.name]:N.target.checked}),className:"h-4 w-4"}):e.jsx(we,{id:`new-${C.name}`,type:F(C),value:b[C.name]??"",onChange:N=>k({...b,[C.name]:N.target.value}),placeholder:C.dflt_value||"NULL"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Type: ",C.type_name,C.dflt_value&&`, Default: ${C.dflt_value}`]})]},C.name))}),e.jsxs(yt,{children:[e.jsx(A,{variant:"outline",onClick:()=>k(null),children:"Cancel"}),e.jsx(A,{onClick:()=>Ne(b),disabled:m,children:m?e.jsx(ve,{className:"h-4 w-4 animate-spin"}):"Insert"})]})]})}),e.jsx(Je,{open:!!v,onOpenChange:()=>M(null),children:e.jsxs(Ge,{children:[e.jsxs(et,{children:[e.jsx(Ye,{children:"Delete Row"}),e.jsx(xt,{children:"Are you sure you want to delete this row? This action cannot be undone."})]}),v&&e.jsx("div",{className:"rounded-md bg-muted p-4",children:e.jsx("pre",{className:"text-xs font-mono overflow-x-auto max-h-[200px] overflow-y-auto",children:JSON.stringify(Object.fromEntries(Object.entries(v).map(([C,N])=>[C,typeof N=="string"&&N.length>100?N.substring(0,100)+"...":N])),null,2)})}),e.jsxs(yt,{children:[e.jsx(A,{variant:"outline",onClick:()=>M(null),children:"Cancel"}),e.jsx(A,{variant:"destructive",onClick:pe,disabled:m,children:m?e.jsx(ve,{className:"h-4 w-4 animate-spin"}):"Delete"})]})]})}),e.jsx(Je,{open:f,onOpenChange:w,children:e.jsxs(Ge,{children:[e.jsxs(et,{children:[e.jsx(Ye,{children:"Reset Database"}),e.jsx(xt,{children:"This will delete all data and recreate the database with its default structure (empty tables for agents, agent_runs, and app_settings). The database will be restored to the same state as when you first installed the app. This action cannot be undone."})]}),e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-md bg-destructive/10 text-destructive",children:[e.jsx(ks,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"All your agents, runs, and settings will be permanently deleted!"})]}),e.jsxs(yt,{children:[e.jsx(A,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),e.jsx(A,{variant:"destructive",onClick:Z,disabled:m,children:m?e.jsx(ve,{className:"h-4 w-4 animate-spin"}):"Reset Database"})]})]})}),e.jsx(Je,{open:S,onOpenChange:E,children:e.jsxs(Ge,{className:"max-w-4xl max-h-[80vh]",children:[e.jsxs(et,{children:[e.jsx(Ye,{children:"SQL Query Editor"}),e.jsx(xt,{children:"Execute raw SQL queries on the database. Use with caution."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{htmlFor:"sql-query",children:"SQL Query"}),e.jsx(hs,{id:"sql-query",value:P,onChange:C=>_(C.target.value),placeholder:"SELECT * FROM agents LIMIT 10;",className:"font-mono text-sm h-32"})]}),Q&&e.jsx("div",{className:"p-3 rounded-md bg-destructive/10 text-destructive text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ot,{className:"h-4 w-4"}),Q]})}),U&&e.jsx("div",{className:"space-y-2",children:U.rows_affected!==void 0?e.jsx("div",{className:"p-3 rounded-md bg-green-500/10 text-green-600 dark:text-green-400 text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(nn,{className:"h-4 w-4"}),"Query executed successfully. ",U.rows_affected," rows affected.",U.last_insert_rowid&&e.jsxs("span",{children:["Last insert ID: ",U.last_insert_rowid]})]})}):e.jsx("div",{className:"border rounded-md overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto max-h-96",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{children:e.jsx("tr",{className:"border-b bg-muted/50",children:U.columns.map((C,N)=>e.jsx("th",{className:"px-2 py-1 text-left font-medium",children:C},N))})}),e.jsx("tbody",{children:U.rows.map((C,N)=>e.jsx("tr",{className:"border-b",children:C.map((z,X)=>{const de=re(z,50),ie=z===null?"NULL":z===void 0?"":typeof z=="object"?JSON.stringify(z,null,2):String(z),oe=ie.length>50;return e.jsx("td",{className:"px-2 py-1 font-mono",children:oe?e.jsx(Ct,{children:e.jsxs(St,{children:[e.jsx(Mt,{asChild:!0,children:e.jsx("span",{className:"cursor-help block truncate max-w-[200px]",children:de})}),e.jsx(vt,{side:"bottom",className:"max-w-[500px] max-h-[300px] overflow-auto",children:e.jsx("pre",{className:"text-xs whitespace-pre-wrap",children:ie})})]})}):e.jsx("span",{className:"block truncate max-w-[200px]",children:de})},X)})},N))})]})})})})]}),e.jsxs(yt,{children:[e.jsx(A,{variant:"outline",onClick:()=>{E(!1),_(""),K(null),W(null)},children:"Close"}),e.jsx(A,{onClick:$,disabled:m||!P.trim(),children:m?e.jsx(ve,{className:"h-4 w-4 animate-spin"}):"Execute"})]})]})}),e.jsx(Lt,{children:se&&e.jsx(Dt,{message:se.message,type:se.type,onDismiss:()=>L(null)})})]})};class nt{static mergeConfigs(s,n,a){const r={},o=["PreToolUse","PostToolUse"],i=["Notification","Stop","SubagentStop"];for(const l of o){let d=[...s[l]||[]];n[l]&&(d=this.mergeMatchers(d,n[l])),a[l]&&(d=this.mergeMatchers(d,a[l])),d.length>0&&(r[l]=d)}for(const l of i){const d=[];s[l]&&d.push(...s[l]),n[l]&&d.push(...n[l]),a[l]&&d.push(...a[l]),d.length>0&&(r[l]=d)}return r}static mergeMatchers(s,n){const a=[...s];for(const r of n){const o=a.findIndex(i=>i.matcher===r.matcher);o>=0?a[o]=r:a.push(r)}return a}static async validateConfig(s){const n=[],a=[];if(!s)return{valid:!0,errors:n,warnings:a};const r=["PreToolUse","PostToolUse"],o=["Notification","Stop","SubagentStop"];for(const i of r){const l=s[i];if(!(!l||!Array.isArray(l)))for(const d of l){if(d.matcher)try{new RegExp(d.matcher)}catch(c){n.push({event:i,matcher:d.matcher,message:`Invalid regex pattern: ${c instanceof Error?c.message:"Unknown error"}`})}if(d.hooks&&Array.isArray(d.hooks))for(const c of d.hooks){(!c.command||!c.command.trim())&&n.push({event:i,matcher:d.matcher,message:"Empty command"});const u=this.checkDangerousPatterns(c.command||"");a.push(...u.map(m=>({event:i,matcher:d.matcher,command:c.command||"",message:m})))}}}for(const i of o){const l=s[i];if(!(!l||!Array.isArray(l)))for(const d of l){(!d.command||!d.command.trim())&&n.push({event:i,message:"Empty command"});const c=this.checkDangerousPatterns(d.command||"");a.push(...c.map(u=>({event:i,command:d.command||"",message:u})))}}return{valid:n.length===0,errors:n,warnings:a}}static checkDangerousPatterns(s){const n=[];if(!s||typeof s!="string")return n;const a=[{pattern:/rm\s+-rf\s+\/(?:\s|$)/,message:"Destructive command on root directory"},{pattern:/rm\s+-rf\s+~/,message:"Destructive command on home directory"},{pattern:/:\s*\(\s*\)\s*\{.*\}\s*;/,message:"Fork bomb pattern detected"},{pattern:/curl.*\|\s*(?:bash|sh)/,message:"Downloading and executing remote code"},{pattern:/wget.*\|\s*(?:bash|sh)/,message:"Downloading and executing remote code"},{pattern:/>\/dev\/sda/,message:"Direct disk write operation"},{pattern:/sudo\s+/,message:"Elevated privileges required"},{pattern:/dd\s+.*of=\/dev\//,message:"Dangerous disk operation"},{pattern:/mkfs\./,message:"Filesystem formatting command"},{pattern:/:(){ :|:& };:/,message:"Fork bomb detected"}];for(const{pattern:r,message:o}of a)r.test(s)&&n.push(o);return s.includes("$")&&!s.includes('"$')&&n.push("Unquoted shell variable detected - potential code injection risk"),n}static escapeCommand(s){return s.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\$/g,"\\$").replace(/`/g,"\\`")}static generateId(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}}const d0=Object.freeze(Object.defineProperty({__proto__:null,HooksManager:nt},Symbol.toStringTag,{value:"Module"})),Xc=["Task","Bash","Glob","Grep","Read","Edit","MultiEdit","Write","WebFetch","WebSearch","Notebook.*","Edit|Write","mcp__.*","mcp__memory__.*","mcp__filesystem__.*","mcp__github__.*"],u0=[{id:"log-bash-commands",name:"Log Shell Commands",description:"Log all bash commands to a file for auditing",event:"PreToolUse",matcher:"Bash",commands:[`jq -r '"(.tool_input.command) - (.tool_input.description // "No description")"' >> ~/.claude/bash-command-log.txt`]},{id:"format-on-save",name:"Auto-format Code",description:"Run code formatters after file modifications",event:"PostToolUse",matcher:"Write|Edit|MultiEdit",commands:['if [[ "$( jq -r .tool_input.file_path )" =~ \\.(ts|tsx|js|jsx)$ ]]; then prettier --write "$( jq -r .tool_input.file_path )"; fi','if [[ "$( jq -r .tool_input.file_path )" =~ \\.go$ ]]; then gofmt -w "$( jq -r .tool_input.file_path )"; fi']},{id:"git-commit-guard",name:"Protect Main Branch",description:"Prevent direct commits to main/master branch",event:"PreToolUse",matcher:"Bash",commands:['if [[ "$(jq -r .tool_input.command)" =~ "git commit" ]] && [[ "$(git branch --show-current 2>/dev/null)" =~ ^(main|master)$ ]]; then echo "Direct commits to main/master branch are not allowed"; exit 2; fi']},{id:"custom-notification",name:"Custom Notifications",description:"Send custom notifications when Claude needs attention",event:"Notification",commands:['osascript -e "display notification \\"$(jq -r .message)\\" with title \\"$(jq -r .title)\\" sound name \\"Glass\\""']},{id:"continue-on-tests",name:"Auto-continue on Test Success",description:"Automatically continue when tests pass",event:"Stop",commands:[`if grep -q "All tests passed" "$( jq -r .transcript_path )"; then echo '{"decision": "block", "reason": "All tests passed. Continue with next task."}'; fi`]}],fs={PreToolUse:{label:"Pre Tool Use",description:"Runs before tool calls, can block and provide feedback",icon:e.jsx(Pr,{className:"h-4 w-4"})},PostToolUse:{label:"Post Tool Use",description:"Runs after successful tool completion",icon:e.jsx(qp,{className:"h-4 w-4"})},Notification:{label:"Notification",description:"Customizes notifications when Claude needs attention",icon:e.jsx(ps,{className:"h-4 w-4"})},Stop:{label:"Stop",description:"Runs when Claude finishes responding",icon:e.jsx(Jp,{className:"h-4 w-4"})},SubagentStop:{label:"Subagent Stop",description:"Runs when a Claude subagent (Task) finishes",icon:e.jsx(Xe,{className:"h-4 w-4"})}},on=({projectPath:t,scope:s,readOnly:n=!1,className:a,onChange:r,hideActions:o=!1})=>{const[i,l]=h.useState("PreToolUse"),[d,c]=h.useState(!1),[u,m]=h.useState([]),[x,p]=h.useState([]),g=Nt.useRef(!0),[y,j]=h.useState(!1),[b,k]=h.useState(!1),[v,M]=h.useState(!1),[f,w]=h.useState(null),[S,E]=h.useState({}),P=["PreToolUse","PostToolUse"],_=["Notification","Stop","SubagentStop"],[U,K]=h.useState(()=>{const F={PreToolUse:[],PostToolUse:[],Notification:[],Stop:[],SubagentStop:[]};return P.forEach(C=>{const N=S==null?void 0:S[C];N&&Array.isArray(N)&&(F[C]=N.map(z=>({...z,id:nt.generateId(),expanded:!1,hooks:(z.hooks||[]).map(X=>({...X,id:nt.generateId()}))})))}),_.forEach(C=>{const N=S==null?void 0:S[C];N&&Array.isArray(N)&&(F[C]=N.map(z=>({...z,id:nt.generateId()})))}),F});h.useEffect(()=>{s==="user"||t?(M(!0),w(null),Y.getHooksConfig(s,t).then(F=>{E(F||{}),j(!1)}).catch(F=>{console.error("Failed to load hooks configuration:",F),w(F instanceof Error?F.message:"Failed to load hooks configuration"),E({})}).finally(()=>{M(!1)})):E({})},[t,s]),h.useEffect(()=>{g.current=!0,j(!1);const F={PreToolUse:[],PostToolUse:[],Notification:[],Stop:[],SubagentStop:[]};P.forEach(C=>{const N=S==null?void 0:S[C];N&&Array.isArray(N)&&(F[C]=N.map(z=>({...z,id:nt.generateId(),expanded:!1,hooks:(z.hooks||[]).map(X=>({...X,id:nt.generateId()}))})))}),_.forEach(C=>{const N=S==null?void 0:S[C];N&&Array.isArray(N)&&(F[C]=N.map(z=>({...z,id:nt.generateId()})))}),K(F)},[S]),h.useEffect(()=>{if(g.current){g.current=!1;return}j(!0)},[U]),h.useEffect(()=>{r&&r(y,()=>{const C={};return P.forEach(N=>{const z=U[N];z.length>0&&(C[N]=z.map(({id:X,expanded:de,...ie})=>({...ie,hooks:ie.hooks.map(({id:oe,...fe})=>fe)})))}),_.forEach(N=>{const z=U[N];z.length>0&&(C[N]=z.map(({id:X,...de})=>de))}),C})},[y,U,r]);const Q=async()=>{if(s!=="user"&&!t)return;k(!0);const F={};P.forEach(C=>{const N=U[C];N.length>0&&(F[C]=N.map(({id:z,expanded:X,...de})=>({...de,hooks:de.hooks.map(({id:ie,...oe})=>oe)})))}),_.forEach(C=>{const N=U[C];N.length>0&&(F[C]=N.map(({id:z,...X})=>X))});try{await Y.updateHooksConfig(s,F,t),E(F),j(!1)}catch(C){console.error("Failed to save hooks:",C),w(C instanceof Error?C.message:"Failed to save hooks")}finally{k(!1)}},W=F=>{if(!P.includes(F))return;const C={id:nt.generateId(),matcher:"",hooks:[],expanded:!0};K(N=>({...N,[F]:[...N[F],C]}))},se=F=>{if(!_.includes(F))return;const C={id:nt.generateId(),type:"command",command:""};K(N=>({...N,[F]:[...N[F],C]}))},L=(F,C,N)=>{P.includes(F)&&K(z=>({...z,[F]:z[F].map(X=>X.id===C?{...X,...N}:X)}))},R=(F,C)=>{P.includes(F)&&K(N=>({...N,[F]:N[F].filter(z=>z.id!==C)}))},O=(F,C,N)=>{_.includes(F)&&K(z=>({...z,[F]:z[F].map(X=>X.id===C?{...X,...N}:X)}))},ee=(F,C)=>{_.includes(F)&&K(N=>({...N,[F]:N[F].filter(z=>z.id!==C)}))},V=F=>{if(P.includes(F.event)){const C={id:nt.generateId(),matcher:F.matcher,hooks:F.commands.map(N=>({id:nt.generateId(),type:"command",command:N})),expanded:!0};K(N=>({...N,[F.event]:[...N[F.event],C]}))}else{const C=F.commands.map(N=>({id:nt.generateId(),type:"command",command:N}));K(N=>({...N,[F.event]:[...N[F.event],...C]}))}l(F.event),c(!1)},ue=async()=>{if(!S){m([]),p([]);return}const F=await nt.validateConfig(S);m(F.errors.map(C=>C.message)),p(F.warnings.map(C=>`${C.message} in command: ${(C.command||"").substring(0,50)}...`))};h.useEffect(()=>{ue()},[S]);const pe=(F,C)=>{if(!P.includes(F))return;const N={id:nt.generateId(),type:"command",command:""};K(z=>({...z,[F]:z[F].map(X=>X.id===C?{...X,hooks:[...X.hooks,N]}:X)}))},Ne=(F,C,N,z)=>{P.includes(F)&&K(X=>({...X,[F]:X[F].map(de=>de.id===C?{...de,hooks:de.hooks.map(ie=>ie.id===N?{...ie,...z}:ie)}:de)}))},$=(F,C,N)=>{P.includes(F)&&K(z=>({...z,[F]:z[F].map(X=>X.id===C?{...X,hooks:X.hooks.filter(de=>de.id!==N)}:X)}))},Z=(F,C)=>e.jsxs(te,{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(A,{variant:"ghost",size:"sm",className:"p-0 h-6 w-6",onClick:()=>L(F,C.id,{expanded:!C.expanded}),children:C.expanded?e.jsx(ze,{className:"h-4 w-4"}):e.jsx(Be,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{htmlFor:`matcher-${C.id}`,children:"Pattern"}),e.jsx(Ct,{children:e.jsxs(St,{children:[e.jsx(Mt,{asChild:!0,children:e.jsx(Tt,{className:"h-3 w-3 text-muted-foreground"})}),e.jsx(vt,{children:e.jsx("p",{children:"Tool name pattern (regex supported). Leave empty to match all tools."})})]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(we,{id:`matcher-${C.id}`,placeholder:"e.g., Bash, Edit|Write, mcp__.*",value:C.matcher||"",onChange:N=>L(F,C.id,{matcher:N.target.value}),disabled:n,className:"flex-1"}),e.jsxs(As,{value:C.matcher||"custom",onValueChange:N=>{N!=="custom"&&L(F,C.id,{matcher:N})},disabled:n,children:[e.jsx(us,{className:"w-40",children:e.jsx(Es,{placeholder:"Common patterns"})}),e.jsxs(ms,{children:[e.jsx(ht,{value:"custom",children:"Custom"}),Xc.map(N=>e.jsx(ht,{value:N,children:N},N))]})]}),!n&&e.jsx(A,{variant:"ghost",size:"sm",onClick:()=>R(F,C.id),children:e.jsx(dt,{className:"h-4 w-4"})})]})]})]}),e.jsx(ke,{children:C.expanded&&e.jsx(J.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4 pl-10",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(he,{children:"Commands"}),!n&&e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>pe(F,C.id),children:[e.jsx(rt,{className:"h-3 w-3 mr-1"}),"Add Command"]})]}),C.hooks.length===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:"No commands added yet"}):e.jsx("div",{className:"space-y-2",children:C.hooks.map(N=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex items-start gap-2",children:e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(hs,{placeholder:"Enter shell command...",value:N.command||"",onChange:z=>Ne(F,C.id,N.id,{command:z.target.value}),disabled:n,className:"font-mono text-sm min-h-[80px]"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"h-3 w-3 text-muted-foreground"}),e.jsx(we,{type:"number",placeholder:"60",value:N.timeout||"",onChange:z=>Ne(F,C.id,N.id,{timeout:z.target.value?parseInt(z.target.value):void 0}),disabled:n,className:"w-20 h-8"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"seconds"})]}),!n&&e.jsx(A,{variant:"ghost",size:"sm",onClick:()=>$(F,C.id,N.id),children:e.jsx(dt,{className:"h-4 w-4"})})]})]})}),(()=>{const z=nt.checkDangerousPatterns(N.command||"");return z.length>0&&e.jsxs("div",{className:"flex items-start gap-2 p-2 bg-yellow-500/10 rounded-md",children:[e.jsx(ks,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),e.jsx("div",{className:"space-y-1",children:z.map((X,de)=>e.jsx("p",{className:"text-xs text-yellow-600",children:X},de))})]})})()]},N.id))})]})})})]},C.id),re=(F,C)=>e.jsxs(te,{className:"p-4 space-y-2",children:[e.jsx("div",{className:"flex items-start gap-2",children:e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx(hs,{placeholder:"Enter shell command...",value:C.command||"",onChange:N=>O(F,C.id,{command:N.target.value}),disabled:n,className:"font-mono text-sm min-h-[80px]"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ut,{className:"h-3 w-3 text-muted-foreground"}),e.jsx(we,{type:"number",placeholder:"60",value:C.timeout||"",onChange:N=>O(F,C.id,{timeout:N.target.value?parseInt(N.target.value):void 0}),disabled:n,className:"w-20 h-8"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"seconds"})]}),!n&&e.jsx(A,{variant:"ghost",size:"sm",onClick:()=>ee(F,C.id),children:e.jsx(dt,{className:"h-4 w-4"})})]})]})}),(()=>{const N=nt.checkDangerousPatterns(C.command||"");return N.length>0&&e.jsxs("div",{className:"flex items-start gap-2 p-2 bg-yellow-500/10 rounded-md",children:[e.jsx(ks,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),e.jsx("div",{className:"space-y-1",children:N.map((z,X)=>e.jsx("p",{className:"text-xs text-yellow-600",children:z},X))})]})})()]},C.id);return e.jsxs("div",{className:D("space-y-6",a),children:[v&&e.jsxs("div",{className:"flex items-center justify-center p-8",children:[e.jsx(ve,{className:"h-6 w-6 animate-spin mr-2"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading hooks configuration..."})]}),f&&!v&&e.jsxs("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-3 text-xs text-destructive flex items-center gap-2",children:[e.jsx(ks,{className:"h-4 w-4 flex-shrink-0"}),f]}),!v&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Hooks Configuration"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Me,{variant:s==="project"?"secondary":s==="local"?"outline":"default",children:[s==="project"?"Project":s==="local"?"Local":"User"," Scope"]}),!n&&e.jsxs(e.Fragment,{children:[e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>c(!0),children:[e.jsx($e,{className:"h-4 w-4 mr-2"}),"Templates"]}),!o&&e.jsxs(A,{variant:y?"default":"outline",size:"sm",onClick:Q,disabled:!y||b||!t,children:[b?e.jsx(ve,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Rt,{className:"h-4 w-4 mr-2"}),b?"Saving...":"Save"]})]})]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Configure shell commands to execute at various points in Claude Code's lifecycle.",s==="local"&&" These settings are not committed to version control."]}),y&&!n&&e.jsx("p",{className:"text-sm text-amber-600",children:"You have unsaved changes. Click Save to persist them."})]}),u.length>0&&e.jsxs("div",{className:"p-3 bg-red-500/10 rounded-md space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-red-600",children:"Validation Errors:"}),u.map((F,C)=>e.jsxs("p",{className:"text-xs text-red-600",children:[" ",F]},C))]}),x.length>0&&e.jsxs("div",{className:"p-3 bg-yellow-500/10 rounded-md space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-yellow-600",children:"Security Warnings:"}),x.map((F,C)=>e.jsxs("p",{className:"text-xs text-yellow-600",children:[" ",F]},C))]}),e.jsxs(ss,{value:i,onValueChange:F=>l(F),children:[e.jsx(qt,{className:"w-full",children:Object.keys(fs).map(F=>{const C=P.includes(F),N=U[F].length;return e.jsxs(Ae,{value:F,className:"flex items-center gap-2",children:[fs[F].icon,e.jsx("span",{className:"hidden sm:inline",children:fs[F].label}),N>0&&e.jsx(Me,{variant:"secondary",className:"ml-1 h-5 px-1",children:N})]},F)})}),Object.keys(fs).map(F=>{const C=P.includes(F),N=U[F];return e.jsxs(Ee,{value:F,className:"space-y-4",children:[e.jsx("div",{className:"space-y-2",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:fs[F].description})}),N.length===0?e.jsxs(te,{className:"p-8 text-center",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"No hooks configured for this event"}),!n&&e.jsxs(A,{onClick:()=>C?W(F):se(F),children:[e.jsx(rt,{className:"h-4 w-4 mr-2"}),"Add Hook"]})]}):e.jsxs("div",{className:"space-y-4",children:[C?N.map(z=>Z(F,z)):N.map(z=>re(F,z)),!n&&e.jsxs(A,{variant:"outline",onClick:()=>C?W(F):se(F),className:"w-full",children:[e.jsx(rt,{className:"h-4 w-4 mr-2"}),"Add Another ",C?"Matcher":"Command"]})]})]},F)})]}),e.jsx(Je,{open:d,onOpenChange:c,children:e.jsxs(Ge,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(et,{children:[e.jsx(Ye,{children:"Hook Templates"}),e.jsx(xt,{children:"Choose a pre-configured hook template to get started quickly"})]}),e.jsx("div",{className:"space-y-4 py-4",children:u0.map(F=>e.jsx(te,{className:"p-4 cursor-pointer hover:bg-accent",onClick:()=>V(F),children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium",children:F.name}),e.jsx(Me,{children:fs[F.event].label})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:F.description}),P.includes(F.event)&&F.matcher&&e.jsxs("p",{className:"text-xs font-mono bg-muted px-2 py-1 rounded inline-block",children:["Matcher: ",F.matcher]})]})},F.id))})]})})]})]})},m0=[{name:"review",description:"Review code for best practices",content:`Review the following code for best practices, potential issues, and improvements:

@$ARGUMENTS`,allowedTools:["Read","Grep"]},{name:"explain",description:"Explain how something works",content:"Explain how $ARGUMENTS works in detail, including its purpose, implementation, and usage examples.",allowedTools:["Read","Grep","WebSearch"]},{name:"fix-issue",description:"Fix a specific issue",content:"Fix issue #$ARGUMENTS following our coding standards and best practices.",allowedTools:["Read","Edit","MultiEdit","Write"]},{name:"test",description:"Write tests for code",content:`Write comprehensive tests for:

@$ARGUMENTS

Include unit tests, edge cases, and integration tests where appropriate.`,allowedTools:["Read","Write","Edit"]}],h0=t=>t.has_bash_commands?Xe:t.has_file_references?Ot:t.accepts_arguments?ps:t.scope==="project"?ut:t.scope==="user"?mt:hn,x0=({projectPath:t,className:s})=>{const[n,a]=h.useState([]),[r,o]=h.useState(!0),[i,l]=h.useState(!1),[d,c]=h.useState(null),[u,m]=h.useState(""),[x,p]=h.useState("all"),[g,y]=h.useState(new Set),[j,b]=h.useState(!1),[k,v]=h.useState(null),[M,f]=h.useState({name:"",namespace:"",content:"",description:"",allowedTools:[],scope:"user"});h.useEffect(()=>{w()},[t]);const w=async()=>{try{o(!0),c(null);const L=await Y.slashCommandsList(t);a(L)}catch(L){console.error("Failed to load slash commands:",L),c("Failed to load commands")}finally{o(!1)}},S=()=>{v(null),f({name:"",namespace:"",content:"",description:"",allowedTools:[],scope:t?"project":"user"}),b(!0)},E=L=>{v(L),f({name:L.name,namespace:L.namespace||"",content:L.content,description:L.description||"",allowedTools:L.allowed_tools,scope:L.scope}),b(!0)},P=async()=>{try{l(!0),c(null),await Y.slashCommandSave(M.scope,M.name,M.namespace||void 0,M.content,M.description||void 0,M.allowedTools,M.scope==="project"?t:void 0),b(!1),await w()}catch(L){console.error("Failed to save command:",L),c(L instanceof Error?L.message:"Failed to save command")}finally{l(!1)}},_=async L=>{if(confirm(`Delete command "${L.full_command}"?`))try{await Y.slashCommandDelete(L.id),await w()}catch(R){console.error("Failed to delete command:",R),c("Failed to delete command")}},U=L=>{y(R=>{const O=new Set(R);return O.has(L)?O.delete(L):O.add(L),O})},K=L=>{f(R=>({...R,allowedTools:R.allowedTools.includes(L)?R.allowedTools.filter(O=>O!==L):[...R.allowedTools,L]}))},Q=L=>{f(R=>({...R,name:L.name,description:L.description,content:L.content,allowedTools:L.allowedTools}))},W=n.filter(L=>{if(x!=="all"&&L.scope!==x)return!1;if(u){const R=u.toLowerCase();return L.name.toLowerCase().includes(R)||L.full_command.toLowerCase().includes(R)||L.description&&L.description.toLowerCase().includes(R)||L.namespace&&L.namespace.toLowerCase().includes(R)}return!0}),se=W.reduce((L,R)=>{const O=R.namespace?`${R.namespace} (${R.scope})`:`${R.scope==="project"?"Project":"User"} Commands`;return L[O]||(L[O]=[]),L[O].push(R),L},{});return e.jsxs("div",{className:D("space-y-4",s),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Slash Commands"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Create custom commands to streamline your workflow"})]}),e.jsxs(A,{onClick:S,size:"sm",className:"gap-2",children:[e.jsx(rt,{className:"h-4 w-4"}),"New Command"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(we,{placeholder:"Search commands...",value:u,onChange:L=>m(L.target.value),className:"pl-9"})]})}),e.jsxs(As,{value:x,onValueChange:L=>p(L),children:[e.jsx(us,{className:"w-[150px]",children:e.jsx(Es,{})}),e.jsxs(ms,{children:[e.jsx(ht,{value:"all",children:"All Commands"}),e.jsx(ht,{value:"project",children:"Project"}),e.jsx(ht,{value:"user",children:"User"})]})]})]}),d&&e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-destructive/10 text-destructive",children:[e.jsx(De,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:d})]}),r?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ve,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):W.length===0?e.jsx(te,{className:"p-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(hn,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:u?"No commands found":"No commands created yet"}),!u&&e.jsx(A,{onClick:S,variant:"outline",size:"sm",className:"mt-4",children:"Create your first command"})]})}):e.jsx("div",{className:"space-y-4",children:Object.entries(se).map(([L,R])=>e.jsxs(te,{className:"overflow-hidden",children:[e.jsx("div",{className:"p-4 bg-muted/50 border-b",children:e.jsx("h4",{className:"text-sm font-medium",children:L})}),e.jsx("div",{className:"divide-y",children:R.map(O=>{const ee=h0(O),V=g.has(O.id);return e.jsx("div",{children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(ee,{className:"h-5 w-5 mt-0.5 text-muted-foreground flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("code",{className:"text-sm font-mono text-primary",children:O.full_command}),O.accepts_arguments&&e.jsx(Me,{variant:"secondary",className:"text-xs",children:"Arguments"})]}),O.description&&e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:O.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[O.allowed_tools.length>0&&e.jsxs("span",{className:"text-muted-foreground",children:[O.allowed_tools.length," tool",O.allowed_tools.length===1?"":"s"]}),O.has_bash_commands&&e.jsx(Me,{variant:"outline",className:"text-xs",children:"Bash"}),O.has_file_references&&e.jsx(Me,{variant:"outline",className:"text-xs",children:"Files"}),e.jsx("button",{onClick:()=>U(O.id),className:"flex items-center gap-1 text-muted-foreground hover:text-foreground transition-colors",children:V?e.jsxs(e.Fragment,{children:[e.jsx(ze,{className:"h-3 w-3"}),"Hide content"]}):e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"h-3 w-3"}),"Show content"]})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{variant:"ghost",size:"icon",onClick:()=>E(O),className:"h-8 w-8",children:e.jsx(_r,{className:"h-4 w-4"})}),e.jsx(A,{variant:"ghost",size:"icon",onClick:()=>_(O),className:"h-8 w-8 text-destructive hover:text-destructive",children:e.jsx(dt,{className:"h-4 w-4"})})]})]}),e.jsx(ke,{children:V&&e.jsx(J.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:e.jsx("div",{className:"mt-4 p-3 bg-muted/50 rounded-md",children:e.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap",children:O.content})})})})]})},O.id)})})]},L))}),e.jsx(Je,{open:j,onOpenChange:b,children:e.jsxs(Ge,{className:"max-w-2xl",children:[e.jsx(et,{children:e.jsx(Ye,{children:k?"Edit Command":"Create New Command"})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{children:"Scope"}),e.jsxs(As,{value:M.scope,onValueChange:L=>f(R=>({...R,scope:L})),disabled:!t&&M.scope==="project",children:[e.jsx(us,{children:e.jsx(Es,{})}),e.jsxs(ms,{children:[e.jsx(ht,{value:"user",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(mt,{className:"h-4 w-4"}),"User (Global)"]})}),e.jsx(ht,{value:"project",disabled:!t,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ut,{className:"h-4 w-4"}),"Project"]})})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:M.scope==="user"?"Available across all projects":"Only available in this project"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{children:"Command Name*"}),e.jsx(we,{placeholder:"e.g., review, fix-issue",value:M.name,onChange:L=>f(R=>({...R,name:L.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{children:"Namespace (Optional)"}),e.jsx(we,{placeholder:"e.g., frontend, backend",value:M.namespace,onChange:L=>f(R=>({...R,namespace:L.target.value}))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{children:"Description (Optional)"}),e.jsx(we,{placeholder:"Brief description of what this command does",value:M.description,onChange:L=>f(R=>({...R,description:L.target.value}))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{children:"Command Content*"}),e.jsx(hs,{placeholder:"Enter the prompt content. Use $ARGUMENTS for dynamic values.",value:M.content,onChange:L=>f(R=>({...R,content:L.target.value})),className:"min-h-[150px] font-mono text-sm"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Use ",e.jsx("code",{children:"$ARGUMENTS"})," for user input, ",e.jsx("code",{children:"@filename"})," for files, and ",e.jsx("code",{children:"!`command`"})," for bash commands"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{children:"Allowed Tools"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Xc.map(L=>e.jsx(A,{variant:M.allowedTools.includes(L)?"default":"outline",size:"sm",onClick:()=>K(L),type:"button",children:L},L))}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Select which tools Claude can use with this command"})]}),!k&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{children:"Examples"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:m0.map(L=>e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>Q(L),className:"justify-start",children:[e.jsx(Wn,{className:"h-4 w-4 mr-2"}),L.name]},L.name))})]}),M.name&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{children:"Preview"}),e.jsx("div",{className:"p-3 bg-muted rounded-md",children:e.jsxs("code",{className:"text-sm",children:["/",M.namespace&&`${M.namespace}:`,M.name,M.content.includes("$ARGUMENTS")&&" [arguments]"]})})]})]}),e.jsxs(yt,{children:[e.jsx(A,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),e.jsx(A,{onClick:P,disabled:!M.name||!M.content||i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Save"]})})]})]})})]})},p0=({onBack:t,className:s})=>{const[n,a]=h.useState(null),[r,o]=h.useState(!0),[i,l]=h.useState(!1),[d,c]=h.useState(null),[u,m]=h.useState("general"),[x,p]=h.useState(null),[g,y]=h.useState(null),[j,b]=h.useState(!1),[k,v]=h.useState(null),[M,f]=h.useState([]),[w,S]=h.useState([]),[E,P]=h.useState([]),[_,U]=h.useState(!1),K=Nt.useRef(null);h.useEffect(()=>{W(),Q()},[]);const Q=async()=>{try{const $=await Y.getClaudeBinaryPath();p($)}catch($){console.error("Failed to load Claude binary path:",$)}},W=async()=>{try{o(!0),c(null);const $=await Y.getClaudeSettings();if(!$||typeof $!="object"){console.warn("Loaded settings is not an object:",$),a({});return}a($),$.permissions&&typeof $.permissions=="object"&&(Array.isArray($.permissions.allow)&&f($.permissions.allow.map((Z,re)=>({id:`allow-${re}`,value:Z}))),Array.isArray($.permissions.deny)&&S($.permissions.deny.map((Z,re)=>({id:`deny-${re}`,value:Z})))),$.env&&typeof $.env=="object"&&!Array.isArray($.env)&&P(Object.entries($.env).map(([Z,re],F)=>({id:`env-${F}`,key:Z,value:re})))}catch($){console.error("Failed to load settings:",$),c("Failed to load settings. Please ensure ~/.claude directory exists."),a({})}finally{o(!1)}},se=async()=>{try{l(!0),c(null),v(null);const $={...n,permissions:{allow:M.map(Z=>Z.value).filter(Z=>Z.trim()),deny:w.map(Z=>Z.value).filter(Z=>Z.trim())},env:E.reduce((Z,{key:re,value:F})=>(re.trim()&&F.trim()&&(Z[re]=F),Z),{})};if(await Y.saveClaudeSettings($),a($),j&&g&&(await Y.setClaudeBinaryPath(g.path),p(g.path),b(!1)),_&&K.current){const Z=K.current();await Y.updateHooksConfig("user",Z),U(!1)}v({message:"Settings saved successfully!",type:"success"})}catch($){console.error("Failed to save settings:",$),c("Failed to save settings."),v({message:"Failed to save settings",type:"error"})}finally{l(!1)}},L=($,Z)=>{a(re=>({...re,[$]:Z}))},R=$=>{const Z={id:`${$}-${Date.now()}`,value:""};$==="allow"?f(re=>[...re,Z]):S(re=>[...re,Z])},O=($,Z,re)=>{$==="allow"?f(F=>F.map(C=>C.id===Z?{...C,value:re}:C)):S(F=>F.map(C=>C.id===Z?{...C,value:re}:C))},ee=($,Z)=>{$==="allow"?f(re=>re.filter(F=>F.id!==Z)):S(re=>re.filter(F=>F.id!==Z))},V=()=>{const $={id:`env-${Date.now()}`,key:"",value:""};P(Z=>[...Z,$])},ue=($,Z,re)=>{P(F=>F.map(C=>C.id===$?{...C,[Z]:re}:C))},pe=$=>{P(Z=>Z.filter(re=>re.id!==$))},Ne=$=>{y($),b($.path!==x)};return e.jsxs("div",{className:D("flex flex-col h-full bg-background text-foreground",s),children:[e.jsxs("div",{className:"max-w-4xl mx-auto w-full flex flex-col h-full",children:[e.jsxs(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex items-center justify-between p-4 border-b border-border",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{variant:"ghost",size:"icon",onClick:t,className:"h-8 w-8",children:e.jsx(pt,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Settings"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Configure Claude Code preferences"})]})]}),e.jsx(A,{onClick:se,disabled:i||r,size:"sm",className:"gap-2 bg-primary hover:bg-primary/90",children:i?e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"h-4 w-4"}),"Save Settings"]})})]}),e.jsx(ke,{children:d&&e.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mx-4 mt-4 p-3 rounded-lg bg-destructive/10 border border-destructive/50 flex items-center gap-2 text-sm text-destructive",children:[e.jsx(De,{className:"h-4 w-4"}),d]})}),r?e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx(ve,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:e.jsxs(ss,{value:u,onValueChange:m,className:"w-full",children:[e.jsxs(qt,{className:"grid grid-cols-7 w-full",children:[e.jsx(Ae,{value:"general",children:"General"}),e.jsx(Ae,{value:"permissions",children:"Permissions"}),e.jsx(Ae,{value:"environment",children:"Environment"}),e.jsx(Ae,{value:"advanced",children:"Advanced"}),e.jsx(Ae,{value:"hooks",children:"Hooks"}),e.jsx(Ae,{value:"commands",children:"Commands"}),e.jsx(Ae,{value:"storage",children:"Storage"})]}),e.jsx(Ee,{value:"general",className:"space-y-6",children:e.jsx(te,{className:"p-6 space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold mb-4",children:"General Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5 flex-1",children:[e.jsx(he,{htmlFor:"coauthored",children:'Include "Co-authored by Claude"'}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Add Claude attribution to git commits and pull requests"})]}),e.jsx(Vn,{id:"coauthored",checked:(n==null?void 0:n.includeCoAuthoredBy)!==!1,onCheckedChange:$=>L("includeCoAuthoredBy",$)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5 flex-1",children:[e.jsx(he,{htmlFor:"verbose",children:"Verbose Output"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Show full bash and command outputs"})]}),e.jsx(Vn,{id:"verbose",checked:(n==null?void 0:n.verbose)===!0,onCheckedChange:$=>L("verbose",$)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{htmlFor:"cleanup",children:"Chat Transcript Retention (days)"}),e.jsx(we,{id:"cleanup",type:"number",min:"1",placeholder:"30",value:(n==null?void 0:n.cleanupPeriodDays)||"",onChange:$=>{const Z=$.target.value?parseInt($.target.value):void 0;L("cleanupPeriodDays",Z)}}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"How long to retain chat transcripts locally (default: 30 days)"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(he,{className:"text-sm font-medium mb-2 block",children:"Claude Code Installation"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Select which Claude Code installation to use. Bundled version is recommended for best compatibility."})]}),e.jsx(Jc,{selectedPath:x,onSelect:Ne}),j&&e.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:" Claude binary path has been changed. Remember to save your settings."})]})]})]})})}),e.jsx(Ee,{value:"permissions",className:"space-y-6",children:e.jsx(te,{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold mb-2",children:"Permission Rules"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Control which tools Claude Code can use without manual approval"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(he,{className:"text-sm font-medium text-green-500",children:"Allow Rules"}),e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>R("allow"),className:"gap-2 hover:border-green-500/50 hover:text-green-500",children:[e.jsx(rt,{className:"h-3 w-3"}),"Add Rule"]})]}),e.jsx("div",{className:"space-y-2",children:M.length===0?e.jsx("p",{className:"text-xs text-muted-foreground py-2",children:"No allow rules configured. Claude will ask for approval for all tools."}):M.map($=>e.jsxs(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-2",children:[e.jsx(we,{placeholder:"e.g., Bash(npm run test:*)",value:$.value,onChange:Z=>O("allow",$.id,Z.target.value),className:"flex-1"}),e.jsx(A,{variant:"ghost",size:"icon",onClick:()=>ee("allow",$.id),className:"h-8 w-8",children:e.jsx(dt,{className:"h-4 w-4"})})]},$.id))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(he,{className:"text-sm font-medium text-red-500",children:"Deny Rules"}),e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>R("deny"),className:"gap-2 hover:border-red-500/50 hover:text-red-500",children:[e.jsx(rt,{className:"h-3 w-3"}),"Add Rule"]})]}),e.jsx("div",{className:"space-y-2",children:w.length===0?e.jsx("p",{className:"text-xs text-muted-foreground py-2",children:"No deny rules configured."}):w.map($=>e.jsxs(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-2",children:[e.jsx(we,{placeholder:"e.g., Bash(curl:*)",value:$.value,onChange:Z=>O("deny",$.id,Z.target.value),className:"flex-1"}),e.jsx(A,{variant:"ghost",size:"icon",onClick:()=>ee("deny",$.id),className:"h-8 w-8",children:e.jsx(dt,{className:"h-4 w-4"})})]},$.id))})]}),e.jsxs("div",{className:"pt-2 space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:e.jsx("strong",{children:"Examples:"})}),e.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1 ml-4",children:[e.jsxs("li",{children:[" ",e.jsx("code",{className:"px-1 py-0.5 rounded bg-green-500/10 text-green-600 dark:text-green-400",children:"Bash"})," - Allow all bash commands"]}),e.jsxs("li",{children:[" ",e.jsx("code",{className:"px-1 py-0.5 rounded bg-green-500/10 text-green-600 dark:text-green-400",children:"Bash(npm run build)"})," - Allow exact command"]}),e.jsxs("li",{children:[" ",e.jsx("code",{className:"px-1 py-0.5 rounded bg-green-500/10 text-green-600 dark:text-green-400",children:"Bash(npm run test:*)"})," - Allow commands with prefix"]}),e.jsxs("li",{children:[" ",e.jsx("code",{className:"px-1 py-0.5 rounded bg-green-500/10 text-green-600 dark:text-green-400",children:"Read(~/.zshrc)"})," - Allow reading specific file"]}),e.jsxs("li",{children:[" ",e.jsx("code",{className:"px-1 py-0.5 rounded bg-green-500/10 text-green-600 dark:text-green-400",children:"Edit(docs/**)"})," - Allow editing files in docs directory"]})]})]})]})})}),e.jsx(Ee,{value:"environment",className:"space-y-6",children:e.jsx(te,{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold",children:"Environment Variables"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Environment variables applied to every Claude Code session"})]}),e.jsxs(A,{variant:"outline",size:"sm",onClick:V,className:"gap-2",children:[e.jsx(rt,{className:"h-3 w-3"}),"Add Variable"]})]}),e.jsx("div",{className:"space-y-3",children:E.length===0?e.jsx("p",{className:"text-xs text-muted-foreground py-2",children:"No environment variables configured."}):E.map($=>e.jsxs(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-2",children:[e.jsx(we,{placeholder:"KEY",value:$.key,onChange:Z=>ue($.id,"key",Z.target.value),className:"flex-1 font-mono text-sm"}),e.jsx("span",{className:"text-muted-foreground",children:"="}),e.jsx(we,{placeholder:"value",value:$.value,onChange:Z=>ue($.id,"value",Z.target.value),className:"flex-1 font-mono text-sm"}),e.jsx(A,{variant:"ghost",size:"icon",onClick:()=>pe($.id),className:"h-8 w-8 hover:text-destructive",children:e.jsx(dt,{className:"h-4 w-4"})})]},$.id))}),e.jsxs("div",{className:"pt-2 space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:e.jsx("strong",{children:"Common variables:"})}),e.jsxs("ul",{className:"text-xs text-muted-foreground space-y-1 ml-4",children:[e.jsxs("li",{children:[" ",e.jsx("code",{className:"px-1 py-0.5 rounded bg-blue-500/10 text-blue-600 dark:text-blue-400",children:"CLAUDE_CODE_ENABLE_TELEMETRY"})," - Enable/disable telemetry (0 or 1)"]}),e.jsxs("li",{children:[" ",e.jsx("code",{className:"px-1 py-0.5 rounded bg-blue-500/10 text-blue-600 dark:text-blue-400",children:"ANTHROPIC_MODEL"})," - Custom model name"]}),e.jsxs("li",{children:[" ",e.jsx("code",{className:"px-1 py-0.5 rounded bg-blue-500/10 text-blue-600 dark:text-blue-400",children:"DISABLE_COST_WARNINGS"})," - Disable cost warnings (1)"]})]})]})]})})}),e.jsx(Ee,{value:"advanced",className:"space-y-6",children:e.jsx(te,{className:"p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold mb-4",children:"Advanced Settings"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Additional configuration options for advanced users"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{htmlFor:"apiKeyHelper",children:"API Key Helper Script"}),e.jsx(we,{id:"apiKeyHelper",placeholder:"/path/to/generate_api_key.sh",value:(n==null?void 0:n.apiKeyHelper)||"",onChange:$=>L("apiKeyHelper",$.target.value||void 0)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Custom script to generate auth values for API requests"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{children:"Raw Settings (JSON)"}),e.jsx("div",{className:"p-3 rounded-md bg-muted font-mono text-xs overflow-x-auto whitespace-pre-wrap",children:e.jsx("pre",{children:JSON.stringify(n,null,2)})}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This shows the raw JSON that will be saved to ~/.claude/settings.json"})]})]})})}),e.jsx(Ee,{value:"hooks",className:"space-y-6",children:e.jsx(te,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold mb-2",children:"User Hooks"}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["Configure hooks that apply to all Claude Code sessions for your user account. These are stored in ",e.jsx("code",{className:"mx-1 px-2 py-1 bg-muted rounded text-xs",children:"~/.claude/settings.json"})]})]}),e.jsx(on,{scope:"user",className:"border-0",hideActions:!0,onChange:($,Z)=>{U($),K.current=Z}},u)]})})}),e.jsx(Ee,{value:"commands",children:e.jsx(te,{className:"p-6",children:e.jsx(x0,{className:"p-0"})})}),e.jsx(Ee,{value:"storage",children:e.jsx(c0,{})})]})})]}),e.jsx(Lt,{children:k&&e.jsx(Dt,{message:k.message,type:k.type,onDismiss:()=>v(null)})})]})},Js={"Interface & Navigation":[{name:"home",icon:Lc},{name:"menu",icon:Of},{name:"settings",icon:Ht},{name:"user",icon:Fr},{name:"users",icon:kg},{name:"log-out",icon:Vc},{name:"bell",icon:Rp},{name:"bookmark",icon:Vp},{name:"calendar",icon:Hn},{name:"clock",icon:Ut},{name:"eye",icon:Fc},{name:"eye-off",icon:rf},{name:"hash",icon:xs},{name:"heart",icon:Nf},{name:"info",icon:Tt},{name:"link",icon:Pf},{name:"lock",icon:Rf},{name:"map",icon:Lf},{name:"message-square",icon:Oc},{name:"mic",icon:$f},{name:"music",icon:Wf},{name:"paperclip",icon:Kf},{name:"phone",icon:Xf},{name:"pin",icon:Zf},{name:"plus",icon:rt},{name:"save",icon:Rt},{name:"share",icon:ig},{name:"star",icon:ug},{name:"tag",icon:pg},{name:"trash",icon:yg},{name:"upload",icon:Ln},{name:"download",icon:Zt},{name:"edit",icon:_r},{name:"copy",icon:Ts}],"Development & Tech":[{name:"bot",icon:ts},{name:"brain",icon:$s},{name:"code",icon:Wn},{name:"terminal",icon:Xe},{name:"cpu",icon:Pc},{name:"database",icon:_c},{name:"git-branch",icon:Qt},{name:"github",icon:Dc},{name:"globe",icon:mt},{name:"hard-drive",icon:Rn},{name:"laptop",icon:Cf},{name:"monitor",icon:Bf},{name:"server",icon:rg},{name:"wifi",icon:Fg},{name:"cloud",icon:Kp},{name:"command",icon:hn},{name:"file-code",icon:Ot},{name:"file-json",icon:Tr},{name:"folder",icon:Ar},{name:"folder-open",icon:ut},{name:"bug",icon:zp},{name:"coffee",icon:Yp}],"Business & Finance":[{name:"briefcase",icon:Tc},{name:"building",icon:$p},{name:"credit-card",icon:Zp},{name:"dollar-sign",icon:Sr},{name:"trending-up",icon:Bc},{name:"trending-down",icon:vg},{name:"bar-chart",icon:Hp},{name:"pie-chart",icon:Wp},{name:"calculator",icon:Bp},{name:"receipt",icon:sg},{name:"wallet",icon:Ag}],"Creative & Design":[{name:"palette",icon:qf},{name:"brush",icon:Op},{name:"camera",icon:Up},{name:"film",icon:cf},{name:"image",icon:bf},{name:"layers",icon:Sf},{name:"layout",icon:Gf},{name:"pen-tool",icon:Jf},{name:"scissors",icon:ag},{name:"type",icon:wg},{name:"zap",icon:ps},{name:"sparkles",icon:pn},{name:"wand-2",icon:Eg}],"Nature & Science":[{name:"beaker",icon:Fp},{name:"atom",icon:Ep},{name:"dna",icon:nf},{name:"flame",icon:hf},{name:"leaf",icon:Af},{name:"mountain",icon:Hf},{name:"sun",icon:mg},{name:"moon",icon:Uf},{name:"cloud-rain",icon:Gp},{name:"snowflake",icon:lg},{name:"tree-pine",icon:jg},{name:"waves",icon:_g},{name:"wind",icon:Rg}],"Gaming & Entertainment":[{name:"gamepad-2",icon:gf},{name:"dice-1",icon:tf},{name:"trophy",icon:Ng},{name:"medal",icon:If},{name:"crown",icon:ef},{name:"rocket",icon:ng},{name:"target",icon:fg},{name:"swords",icon:hg},{name:"shield",icon:Pr}],Communication:[{name:"mail",icon:Df},{name:"send",icon:La},{name:"message-circle",icon:zf},{name:"video",icon:Cg},{name:"voicemail",icon:Sg},{name:"radio",icon:tg},{name:"podcast",icon:Qf},{name:"megaphone",icon:Vf}],Miscellaneous:[{name:"activity",icon:kr},{name:"anchor",icon:Ap},{name:"award",icon:Pp},{name:"battery",icon:_p},{name:"bluetooth",icon:Dp},{name:"compass",icon:Xp},{name:"crosshair",icon:Qp},{name:"flag",icon:mf},{name:"flashlight",icon:xf},{name:"gift",icon:yf},{name:"headphones",icon:vf},{name:"key",icon:kf},{name:"lightbulb",icon:Ef},{name:"package",icon:Er},{name:"puzzle",icon:eg},{name:"search",icon:At},{name:"smile",icon:og},{name:"thumbs-up",icon:gg},{name:"umbrella",icon:bg},{name:"watch",icon:Pg},{name:"wrench",icon:Ia}]},f0=({value:t,onSelect:s,isOpen:n,onClose:a})=>{const[r,o]=h.useState(""),[i,l]=h.useState(null),d=h.useMemo(()=>{if(!r.trim())return Js;const m=r.toLowerCase(),x={};return Object.entries(Js).forEach(([p,g])=>{const y=g.filter(({name:j})=>j.toLowerCase().includes(m));y.length>0&&(x[p]=y)}),x},[r]),c=h.useMemo(()=>Object.values(Js).flat(),[]),u=m=>{s(m),a(),o("")};return e.jsx(Je,{open:n,onOpenChange:a,children:e.jsxs(Ge,{className:"max-w-2xl max-h-[80vh] p-0",children:[e.jsx(et,{className:"px-6 py-4 border-b",children:e.jsx(Ye,{children:"Choose an icon"})}),e.jsx("div",{className:"px-6 py-3 border-b",children:e.jsxs("div",{className:"relative",children:[e.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(we,{placeholder:"Search icons...",value:r,onChange:m=>o(m.target.value),className:"pl-10",autoFocus:!0})]})}),e.jsx("div",{className:"h-[60vh] px-6 py-4 overflow-y-auto",children:Object.keys(d).length===0?e.jsx("div",{className:"flex flex-col items-center justify-center h-32 text-center",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:['No icons found for "',r,'"']})}):e.jsx("div",{className:"space-y-6",children:e.jsx(ke,{mode:"wait",children:Object.entries(d).map(([m,x])=>e.jsxs(J.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:[e.jsx("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:m}),e.jsx("div",{className:"grid grid-cols-10 gap-2",children:x.map(p=>{const g=p.icon;return e.jsxs(J.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>u(p.name),onMouseEnter:()=>l(p.name),onMouseLeave:()=>l(null),className:D("p-2.5 rounded-lg transition-colors relative group","hover:bg-accent hover:text-accent-foreground",t===p.name&&"bg-primary/10 text-primary"),children:[e.jsx(g,{className:"h-5 w-5"}),i===p.name&&e.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-popover text-popover-foreground text-xs rounded shadow-lg whitespace-nowrap z-10",children:p.name})]},p.name)})})]},m))})})}),e.jsx("div",{className:"px-6 py-3 border-t bg-muted/50",children:e.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Click an icon to select  ",c.length," icons available"]})})]})})};Object.values(Js).flat().map(({name:t})=>t);const Cs=Object.values(Js).flat().reduce((t,{name:s,icon:n})=>({...t,[s]:n}),{}),ho=({agent:t,onBack:s,onAgentCreated:n,className:a})=>{const[r,o]=h.useState((t==null?void 0:t.name)||""),[i,l]=h.useState((t==null?void 0:t.icon)||"bot"),[d,c]=h.useState((t==null?void 0:t.system_prompt)||""),[u,m]=h.useState((t==null?void 0:t.default_task)||""),[x,p]=h.useState((t==null?void 0:t.model)||"sonnet"),[g,y]=h.useState(!1),[j,b]=h.useState(null),[k,v]=h.useState(null),[M,f]=h.useState(!1),w=!!t,S=async()=>{if(!r.trim()){b("Agent name is required");return}if(!d.trim()){b("System prompt is required");return}try{y(!0),b(null),w&&t.id?await Y.updateAgent(t.id,r,i,d,u||void 0,x):await Y.createAgent(r,i,d,u||void 0,x),n()}catch(P){console.error("Failed to save agent:",P),b(w?"Failed to update agent":"Failed to create agent"),v({message:w?"Failed to update agent":"Failed to create agent",type:"error"})}finally{y(!1)}},E=()=>{(r!==((t==null?void 0:t.name)||"")||i!==((t==null?void 0:t.icon)||"bot")||d!==((t==null?void 0:t.system_prompt)||"")||u!==((t==null?void 0:t.default_task)||"")||x!==((t==null?void 0:t.model)||"sonnet"))&&!confirm("You have unsaved changes. Are you sure you want to leave?")||s()};return e.jsxs("div",{className:D("flex flex-col h-full bg-background",a),children:[e.jsxs("div",{className:"w-full max-w-5xl mx-auto flex flex-col h-full",children:[e.jsxs(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex items-center justify-between p-4 border-b border-border",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(A,{variant:"ghost",size:"icon",onClick:E,className:"h-8 w-8",children:e.jsx(pt,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:w?"Edit CC Agent":"Create CC Agent"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:w?"Update your Claude Code agent":"Create a new Claude Code agent"})]})]}),e.jsxs(A,{onClick:S,disabled:g||!r.trim()||!d.trim(),size:"sm",children:[g?e.jsx(ve,{className:"mr-2 h-4 w-4 animate-spin"}):e.jsx(Rt,{className:"mr-2 h-4 w-4"}),g?"Saving...":"Save"]})]}),j&&e.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},className:"mx-4 mt-4 rounded-lg border border-destructive/50 bg-destructive/10 p-3 text-xs text-destructive",children:j}),e.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-6",children:e.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsx("h3",{className:"text-sm font-medium mb-4",children:"Basic Information"})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{htmlFor:"name",children:"Agent Name"}),e.jsx(we,{id:"name",value:r,onChange:P=>o(P.target.value),placeholder:"e.g., Code Assistant",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{children:"Agent Icon"}),e.jsxs("div",{onClick:()=>f(!0),className:"h-10 px-3 py-2 bg-background border border-input rounded-md cursor-pointer hover:bg-accent hover:text-accent-foreground transition-colors flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:(()=>{const P=Cs[i]||Cs.bot;return e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:i})]})})()}),e.jsx(ze,{className:"h-4 w-4 text-muted-foreground"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{children:"Model"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{type:"button",onClick:()=>p("sonnet"),className:D("flex-1 px-4 py-2.5 rounded-full border-2 font-medium transition-all","hover:scale-[1.02] active:scale-[0.98]",x==="sonnet"?"border-primary bg-primary text-primary-foreground shadow-lg":"border-muted-foreground/30 hover:border-muted-foreground/50"),children:e.jsxs("div",{className:"flex items-center justify-center gap-2.5",children:[e.jsx("div",{className:D("w-4 h-4 rounded-full border-2 flex items-center justify-center flex-shrink-0",x==="sonnet"?"border-primary-foreground":"border-current"),children:x==="sonnet"&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-foreground"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Claude 4 Sonnet"}),e.jsx("div",{className:"text-xs opacity-80",children:"Faster, efficient for most tasks"})]})]})}),e.jsx("button",{type:"button",onClick:()=>p("opus"),className:D("flex-1 px-4 py-2.5 rounded-full border-2 font-medium transition-all","hover:scale-[1.02] active:scale-[0.98]",x==="opus"?"border-primary bg-primary text-primary-foreground shadow-lg":"border-muted-foreground/30 hover:border-muted-foreground/50"),children:e.jsxs("div",{className:"flex items-center justify-center gap-2.5",children:[e.jsx("div",{className:D("w-4 h-4 rounded-full border-2 flex items-center justify-center flex-shrink-0",x==="opus"?"border-primary-foreground":"border-current"),children:x==="opus"&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-foreground"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Claude 4 Opus"}),e.jsx("div",{className:"text-xs opacity-80",children:"More capable, better for complex tasks"})]})]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{htmlFor:"default-task",children:"Default Task (Optional)"}),e.jsx(we,{id:"default-task",type:"text",placeholder:"e.g., Review this code for security issues",value:u,onChange:P=>m(P.target.value),className:"max-w-md"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"This will be used as the default task placeholder when executing the agent"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{children:"System Prompt"}),e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Define the behavior and capabilities of your CC Agent"}),e.jsx("div",{className:"rounded-lg border border-border overflow-hidden shadow-sm","data-color-mode":"dark",children:e.jsx(Ba,{value:d,onChange:P=>c(P||""),preview:"edit",height:400,visibleDragbar:!1})})]})]})})})]}),e.jsx(Lt,{children:k&&e.jsx(Dt,{message:k.message,type:k.type,onDismiss:()=>v(null)})}),e.jsx(f0,{value:i,onSelect:P=>{l(P),f(!1)},isOpen:M,onClose:()=>f(!1)})]})},g0="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",xo=[],po={allowDangerousHtml:!0},y0=/^(https?|ircs?|mailto|xmpp)$/i,j0=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Va(t){const s=v0(t),n=N0(t);return w0(s.runSync(s.parse(n),n),t)}function v0(t){const s=t.rehypePlugins||xo,n=t.remarkPlugins||xo,a=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...po}:po;return Fd().use(Rd).use(n).use(Dd,a).use(s)}function N0(t){const s=t.children||"",n=new Ld;return typeof s=="string"&&(n.value=s),n}function w0(t,s){const n=s.allowedElements,a=s.allowElement,r=s.components,o=s.disallowedElements,i=s.skipHtml,l=s.unwrapDisallowed,d=s.urlTransform||b0;for(const u of j0)Object.hasOwn(s,u.from)&&Id("Unexpected `"+u.from+"` prop, "+(u.to?"use `"+u.to+"` instead":"remove it")+" (see <"+g0+"#"+u.id+"> for more info)");return s.className&&(t={type:"element",tagName:"div",properties:{className:s.className},children:t.type==="root"?t.children:[t]}),Vd(t,c),Od(t,{Fragment:e.Fragment,components:r,ignoreInvalidStyle:!0,jsx:e.jsx,jsxs:e.jsxs,passKeys:!0,passNode:!0});function c(u,m,x){if(u.type==="raw"&&x&&typeof m=="number")return i?x.children.splice(m,1):x.children[m]={type:"text",value:u.value},m;if(u.type==="element"){let p;for(p in Kn)if(Object.hasOwn(Kn,p)&&Object.hasOwn(u.properties,p)){const g=u.properties[p],y=Kn[p];(y===null||y.includes(u.tagName))&&(u.properties[p]=d(String(g||""),p,u))}}if(u.type==="element"){let p=n?!n.includes(u.tagName):o?o.includes(u.tagName):!1;if(!p&&a&&typeof m=="number"&&(p=!a(u,m,x)),p&&x&&typeof m=="number")return l&&u.children?x.children.splice(m,1,...u.children):x.children.splice(m,1),m}}}function b0(t){const s=t.indexOf(":"),n=t.indexOf("?"),a=t.indexOf("#"),r=t.indexOf("/");return s===-1||r!==-1&&s>r||n!==-1&&s>n||a!==-1&&s>a||y0.test(t.slice(0,s))?t:""}const Wt={'code[class*="language-"]':{color:"#e3e8f0",background:"transparent",textShadow:"none",fontFamily:"var(--font-mono)",fontSize:"0.875em",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{color:"#e3e8f0",background:"transparent",textShadow:"none",fontFamily:"var(--font-mono)",fontSize:"0.875em",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",wordWrap:"normal",lineHeight:"1.5",MozTabSize:"4",OTabSize:"4",tabSize:"4",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:"0",overflow:"auto"},':not(pre) > code[class*="language-"]':{background:"rgba(139, 92, 246, 0.1)",padding:"0.1em 0.3em",borderRadius:"0.3em",whiteSpace:"normal"},comment:{color:"#6b7280",fontStyle:"italic"},prolog:{color:"#6b7280"},doctype:{color:"#6b7280"},cdata:{color:"#6b7280"},punctuation:{color:"#9ca3af"},namespace:{opacity:"0.7"},property:{color:"#f59e0b"},tag:{color:"#8b5cf6"},boolean:{color:"#f59e0b"},number:{color:"#f59e0b"},constant:{color:"#f59e0b"},symbol:{color:"#f59e0b"},deleted:{color:"#ef4444"},selector:{color:"#a78bfa"},"attr-name":{color:"#a78bfa"},string:{color:"#10b981"},char:{color:"#10b981"},builtin:{color:"#8b5cf6"},url:{color:"#10b981"},inserted:{color:"#10b981"},entity:{color:"#a78bfa",cursor:"help"},atrule:{color:"#c084fc"},"attr-value":{color:"#10b981"},keyword:{color:"#c084fc"},function:{color:"#818cf8"},"class-name":{color:"#f59e0b"},regex:{color:"#06b6d4"},important:{color:"#f59e0b",fontWeight:"bold"},variable:{color:"#a78bfa"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},operator:{color:"#9ca3af"},script:{color:"#e3e8f0"},parameter:{color:"#fbbf24"},method:{color:"#818cf8"},field:{color:"#f59e0b"},annotation:{color:"#6b7280"},type:{color:"#a78bfa"},module:{color:"#8b5cf6"}};class k0{diff(s,n,a={}){let r;typeof a=="function"?(r=a,a={}):"callback"in a&&(r=a.callback);const o=this.castInput(s,a),i=this.castInput(n,a),l=this.removeEmpty(this.tokenize(o,a)),d=this.removeEmpty(this.tokenize(i,a));return this.diffWithOptionsObj(l,d,a,r)}diffWithOptionsObj(s,n,a,r){var o;const i=k=>{if(k=this.postProcess(k,a),r){setTimeout(function(){r(k)},0);return}else return k},l=n.length,d=s.length;let c=1,u=l+d;a.maxEditLength!=null&&(u=Math.min(u,a.maxEditLength));const m=(o=a.timeout)!==null&&o!==void 0?o:1/0,x=Date.now()+m,p=[{oldPos:-1,lastComponent:void 0}];let g=this.extractCommon(p[0],n,s,0,a);if(p[0].oldPos+1>=d&&g+1>=l)return i(this.buildValues(p[0].lastComponent,n,s));let y=-1/0,j=1/0;const b=()=>{for(let k=Math.max(y,-c);k<=Math.min(j,c);k+=2){let v;const M=p[k-1],f=p[k+1];M&&(p[k-1]=void 0);let w=!1;if(f){const E=f.oldPos-k;w=f&&0<=E&&E<l}const S=M&&M.oldPos+1<d;if(!w&&!S){p[k]=void 0;continue}if(!S||w&&M.oldPos<f.oldPos?v=this.addToPath(f,!0,!1,0,a):v=this.addToPath(M,!1,!0,1,a),g=this.extractCommon(v,n,s,k,a),v.oldPos+1>=d&&g+1>=l)return i(this.buildValues(v.lastComponent,n,s))||!0;p[k]=v,v.oldPos+1>=d&&(j=Math.min(j,k-1)),g+1>=l&&(y=Math.max(y,k+1))}c++};if(r)(function k(){setTimeout(function(){if(c>u||Date.now()>x)return r(void 0);b()||k()},0)})();else for(;c<=u&&Date.now()<=x;){const k=b();if(k)return k}}addToPath(s,n,a,r,o){const i=s.lastComponent;return i&&!o.oneChangePerToken&&i.added===n&&i.removed===a?{oldPos:s.oldPos+r,lastComponent:{count:i.count+1,added:n,removed:a,previousComponent:i.previousComponent}}:{oldPos:s.oldPos+r,lastComponent:{count:1,added:n,removed:a,previousComponent:i}}}extractCommon(s,n,a,r,o){const i=n.length,l=a.length;let d=s.oldPos,c=d-r,u=0;for(;c+1<i&&d+1<l&&this.equals(a[d+1],n[c+1],o);)c++,d++,u++,o.oneChangePerToken&&(s.lastComponent={count:1,previousComponent:s.lastComponent,added:!1,removed:!1});return u&&!o.oneChangePerToken&&(s.lastComponent={count:u,previousComponent:s.lastComponent,added:!1,removed:!1}),s.oldPos=d,c}equals(s,n,a){return a.comparator?a.comparator(s,n):s===n||!!a.ignoreCase&&s.toLowerCase()===n.toLowerCase()}removeEmpty(s){const n=[];for(let a=0;a<s.length;a++)s[a]&&n.push(s[a]);return n}castInput(s,n){return s}tokenize(s,n){return Array.from(s)}join(s){return s.join("")}postProcess(s,n){return s}get useLongestToken(){return!1}buildValues(s,n,a){const r=[];let o;for(;s;)r.push(s),o=s.previousComponent,delete s.previousComponent,s=o;r.reverse();const i=r.length;let l=0,d=0,c=0;for(;l<i;l++){const u=r[l];if(u.removed)u.value=this.join(a.slice(c,c+u.count)),c+=u.count;else{if(!u.added&&this.useLongestToken){let m=n.slice(d,d+u.count);m=m.map(function(x,p){const g=a[c+p];return g.length>x.length?g:x}),u.value=this.join(m)}else u.value=this.join(n.slice(d,d+u.count));d+=u.count,u.added||(c+=u.count)}}return r}}class C0 extends k0{constructor(){super(...arguments),this.tokenize=M0}equals(s,n,a){return a.ignoreWhitespace?((!a.newlineIsToken||!s.includes(`
`))&&(s=s.trim()),(!a.newlineIsToken||!n.includes(`
`))&&(n=n.trim())):a.ignoreNewlineAtEof&&!a.newlineIsToken&&(s.endsWith(`
`)&&(s=s.slice(0,-1)),n.endsWith(`
`)&&(n=n.slice(0,-1))),super.equals(s,n,a)}}const S0=new C0;function Zc(t,s,n){return S0.diff(t,s,n)}function M0(t,s){s.stripTrailingCr&&(t=t.replace(/\r\n/g,`
`));const n=[],a=t.split(/(\n|\r\n)/);a[a.length-1]||a.pop();for(let r=0;r<a.length;r++){const o=a[r];r%2&&!s.newlineIsToken?n[n.length-1]+=o:n.push(o)}return n}const fo=/(?:https?:\/\/)?(?:localhost|127\.0\.0\.1|0\.0\.0\.0|\[[0-9a-fA-F:]+\]|(?:[a-zA-Z0-9-]+\.)+[a-zA-Z]{2,})(?::[0-9]+)?(?:\/[^\s]*)?/gi,go=/(?:https?:\/\/)?(?:localhost|127\.0\.0\.1|0\.0\.0\.0|\[::1\])(?::[0-9]+)?(?:\/[^\s]*)?/gi;function Qc(t){const s=[],n=new Set;fo.lastIndex=0;let a;for(;(a=fo.exec(t))!==null;){const r=a[0];if(n.has(r))continue;n.add(r);let o=r;r.match(/^https?:\/\//)||(o=`${go.test(r)?"http":"https"}://${r}`);try{new URL(o)}catch{continue}s.push({url:r,fullUrl:o,isLocalhost:go.test(r),startIndex:a.index,endIndex:a.index+r.length})}return s}function T0(t,s){const n=Qc(t);if(n.length===0)return[t];const a=[];let r=0;return n.forEach((o,i)=>{o.startIndex>r&&a.push(t.substring(r,o.startIndex)),a.push(e.jsx("a",{href:o.fullUrl,onClick:l=>{l.preventDefault(),s(o.fullUrl)},className:"text-primary underline hover:text-primary/80 cursor-pointer",title:o.fullUrl,children:o.url},`link-${i}`)),r=o.endIndex}),r<t.length&&a.push(t.substring(r)),a}const A0=({todos:t,result:s})=>{const n={completed:e.jsx(Et,{className:"h-4 w-4 text-green-500"}),in_progress:e.jsx(Ut,{className:"h-4 w-4 text-blue-500 animate-pulse"}),pending:e.jsx(an,{className:"h-4 w-4 text-muted-foreground"})},a={high:"bg-red-500/10 text-red-500 border-red-500/20",medium:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20",low:"bg-green-500/10 text-green-500 border-green-500/20"};return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(qn,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm font-medium",children:"Todo List"})]}),e.jsx("div",{className:"space-y-2",children:t.map((r,o)=>e.jsxs("div",{className:D("flex items-start gap-3 p-3 rounded-lg border bg-card/50",r.status==="completed"&&"opacity-60"),children:[e.jsx("div",{className:"mt-0.5",children:n[r.status]||n.pending}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("p",{className:D("text-sm",r.status==="completed"&&"line-through"),children:r.content}),r.priority&&e.jsx(Me,{variant:"outline",className:D("text-xs",a[r.priority]),children:r.priority})]})]},r.id||o))})]})},E0=({path:t,result:s})=>{if(s){let n="";return typeof s.content=="string"?n=s.content:s.content&&typeof s.content=="object"&&(s.content.text?n=s.content.text:Array.isArray(s.content)?n=s.content.map(a=>typeof a=="string"?a:a.text||JSON.stringify(a)).join(`
`):n=JSON.stringify(s.content,null,2)),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[e.jsx(ut,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm",children:"Directory contents for:"}),e.jsx("code",{className:"text-sm font-mono bg-background px-2 py-0.5 rounded",children:t})]}),n&&e.jsx(ed,{content:n})]})}return e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[e.jsx(ut,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm",children:"Listing directory:"}),e.jsx("code",{className:"text-sm font-mono bg-background px-2 py-0.5 rounded",children:t}),!s&&e.jsxs("div",{className:"ml-auto flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Loading..."})]})]})},ed=({content:t})=>{const[s,n]=h.useState(new Set),r=(c=>{var p;const u=c.split(`
`),m=[];let x=[];for(const g of u){if(g.startsWith("NOTE:"))break;if(!g.trim())continue;const y=((p=g.match(/^(\s*)/))==null?void 0:p[1])||"",j=Math.floor(y.length/2),b=g.match(/^\s*-\s+(.+?)(\/$)?$/);if(!b)continue;const k=b[1],v=g.trim().endsWith("/"),M=k;x=x.slice(0,j),x.push(M),m.push({path:x.join("/"),name:M,type:v?"directory":"file",level:j})}return m})(t),o=c=>{n(u=>{const m=new Set(u);return m.has(c)?m.delete(c):m.add(c),m})},i=(c,u)=>r.filter(m=>{if(m.level!==u+1)return!1;const x=c.split("/").filter(Boolean),p=m.path.split("/").filter(Boolean);if(p.length!==x.length+1)return!1;for(let g=0;g<x.length;g++)if(x[g]!==p[g])return!1;return!0}),l=(c,u=!1)=>{const m=c.type==="directory"&&r.some(g=>g.path.startsWith(c.path+"/")&&g.level===c.level+1),x=s.has(c.path)||u,p=()=>{var y;if(c.type==="directory")return x?e.jsx(ut,{className:"h-3.5 w-3.5 text-blue-500"}):e.jsx(Ar,{className:"h-3.5 w-3.5 text-blue-500"});switch((y=c.name.split(".").pop())==null?void 0:y.toLowerCase()){case"rs":return e.jsx(Ot,{className:"h-3.5 w-3.5 text-orange-500"});case"toml":case"yaml":case"yml":case"json":return e.jsx($e,{className:"h-3.5 w-3.5 text-yellow-500"});case"md":return e.jsx($e,{className:"h-3.5 w-3.5 text-blue-400"});case"js":case"jsx":case"ts":case"tsx":return e.jsx(Ot,{className:"h-3.5 w-3.5 text-yellow-400"});case"py":return e.jsx(Ot,{className:"h-3.5 w-3.5 text-blue-500"});case"go":return e.jsx(Ot,{className:"h-3.5 w-3.5 text-cyan-500"});case"sh":case"bash":return e.jsx(Xe,{className:"h-3.5 w-3.5 text-green-500"});default:return e.jsx($e,{className:"h-3.5 w-3.5 text-muted-foreground"})}};return e.jsxs("div",{children:[e.jsxs("div",{className:D("flex items-center gap-2 py-1 px-2 rounded hover:bg-muted/50 transition-colors cursor-pointer",!u&&"ml-4"),onClick:()=>c.type==="directory"&&m&&o(c.path),children:[c.type==="directory"&&m&&e.jsx(Be,{className:D("h-3 w-3 text-muted-foreground transition-transform",x&&"rotate-90")}),(!m||c.type!=="directory")&&e.jsx("div",{className:"w-3"}),p(),e.jsx("span",{className:"text-sm font-mono",children:c.name})]}),c.type==="directory"&&m&&x&&e.jsx("div",{className:"ml-2",children:i(c.path,c.level).map(g=>l(g))})]},c.path)},d=r.filter(c=>c.level===0);return e.jsx("div",{className:"rounded-lg border bg-muted/20 p-3",children:e.jsx("div",{className:"space-y-1",children:d.map(c=>l(c,!0))})})},P0=({filePath:t,result:s})=>{if(s){let n="";return typeof s.content=="string"?n=s.content:s.content&&typeof s.content=="object"&&(s.content.text?n=s.content.text:Array.isArray(s.content)?n=s.content.map(a=>typeof a=="string"?a:a.text||JSON.stringify(a)).join(`
`):n=JSON.stringify(s.content,null,2)),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[e.jsx($e,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm",children:"File content:"}),e.jsx("code",{className:"text-sm font-mono bg-background px-2 py-0.5 rounded flex-1 truncate",children:t})]}),n&&e.jsx(td,{content:n,filePath:t})]})}return e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[e.jsx($e,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm",children:"Reading file:"}),e.jsx("code",{className:"text-sm font-mono bg-background px-2 py-0.5 rounded flex-1 truncate",children:t}),!s&&e.jsxs("div",{className:"ml-auto flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Loading..."})]})]})},td=({content:t,filePath:s})=>{const[n,a]=h.useState(!1),r=m=>{var g;if(!m)return"text";const x=(g=m.split(".").pop())==null?void 0:g.toLowerCase();return{ts:"typescript",tsx:"tsx",js:"javascript",jsx:"jsx",py:"python",rs:"rust",go:"go",java:"java",cpp:"cpp",c:"c",cs:"csharp",php:"php",rb:"ruby",swift:"swift",kt:"kotlin",scala:"scala",sh:"bash",bash:"bash",zsh:"bash",yaml:"yaml",yml:"yaml",json:"json",xml:"xml",html:"html",css:"css",scss:"scss",sass:"sass",less:"less",sql:"sql",md:"markdown",toml:"ini",ini:"ini",dockerfile:"dockerfile",makefile:"makefile"}[x||""]||"text"},o=m=>{const x=m.split(`
`),p=[];let g=1/0;const y=x.filter(k=>k.trim()!=="");if(y.length===0)return{codeContent:m,startLineNumber:1};if(!(y.filter(k=>/^\s*\d+/.test(k)).length/y.length>.5))return{codeContent:m,startLineNumber:1};for(const k of x){const M=k.trimStart().match(/^(\d+)(.*)$/);if(M){const f=parseInt(M[1],10);g===1/0&&(g=f),p.push(M[2])}else k.trim(),p.push("")}for(;p.length>0&&p[p.length-1]==="";)p.pop();return{codeContent:p.join(`
`),startLineNumber:g===1/0?1:g}},i=r(s),{codeContent:l,startLineNumber:d}=o(t),c=t.split(`
`).filter(m=>m.trim()).length,u=c>20;return e.jsxs("div",{className:"rounded-lg overflow-hidden border bg-zinc-950 w-full",children:[e.jsxs("div",{className:"px-4 py-2 border-b bg-zinc-900/50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{className:"h-3.5 w-3.5 text-muted-foreground"}),e.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:s||"File content"}),u&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",c," lines)"]})]}),u&&e.jsxs("button",{onClick:()=>a(!n),className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(Be,{className:D("h-3 w-3 transition-transform",n&&"rotate-90")}),n?"Collapse":"Expand"]})]}),(!u||n)&&e.jsx("div",{className:"relative overflow-x-auto",children:e.jsx(zt,{language:i,style:Wt,showLineNumbers:!0,startingLineNumber:d,wrapLongLines:!1,customStyle:{margin:0,background:"transparent",lineHeight:"1.6"},codeTagProps:{style:{fontSize:"0.75rem"}},lineNumberStyle:{minWidth:"3.5rem",paddingRight:"1rem",textAlign:"right",opacity:.5},children:l})}),u&&!n&&e.jsx("div",{className:"px-4 py-3 text-xs text-muted-foreground text-center bg-zinc-900/30",children:'Click "Expand" to view the full file'})]})},_0=({pattern:t,result:s})=>{let n="",a=!1;return s&&(a=s.is_error||!1,typeof s.content=="string"?n=s.content:s.content&&typeof s.content=="object"&&(s.content.text?n=s.content.text:Array.isArray(s.content)?n=s.content.map(r=>typeof r=="string"?r:r.text||JSON.stringify(r)).join(`
`):n=JSON.stringify(s.content,null,2))),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[e.jsx(At,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm",children:"Searching for pattern:"}),e.jsx("code",{className:"text-sm font-mono bg-background px-2 py-0.5 rounded",children:t}),!s&&e.jsxs("div",{className:"ml-auto flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Searching..."})]})]}),s&&e.jsx("div",{className:D("p-3 rounded-md border text-xs font-mono whitespace-pre-wrap overflow-x-auto",a?"border-red-500/20 bg-red-500/5 text-red-400":"border-green-500/20 bg-green-500/5 text-green-300"),children:n||(a?"Search failed":"No matches found")})]})},F0=({command:t,description:s,result:n})=>{let a="",r=!1;return n&&(r=n.is_error||!1,typeof n.content=="string"?a=n.content:n.content&&typeof n.content=="object"&&(n.content.text?a=n.content.text:Array.isArray(n.content)?a=n.content.map(o=>typeof o=="string"?o:o.text||JSON.stringify(o)).join(`
`):a=JSON.stringify(n.content,null,2))),e.jsxs("div",{className:"rounded-lg border bg-zinc-950 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-2 bg-zinc-900/50 flex items-center gap-2 border-b",children:[e.jsx(Xe,{className:"h-3.5 w-3.5 text-green-500"}),e.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:"Terminal"}),s&&e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:s})]}),!n&&e.jsxs("div",{className:"ml-auto flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Running..."})]})]}),e.jsxs("div",{className:"p-4 space-y-3",children:[e.jsxs("code",{className:"text-xs font-mono text-green-400 block",children:["$ ",t]}),n&&e.jsx("div",{className:D("mt-3 p-3 rounded-md border text-xs font-mono whitespace-pre-wrap overflow-x-auto",r?"border-red-500/20 bg-red-500/5 text-red-400":"border-green-500/20 bg-green-500/5 text-green-300"),children:a||(r?"Command failed":"Command completed")})]})]})},R0=({filePath:t,content:s,result:n})=>{const[a,r]=h.useState(!1),i=(m=>{var g;const x=(g=m.split(".").pop())==null?void 0:g.toLowerCase();return{ts:"typescript",tsx:"tsx",js:"javascript",jsx:"jsx",py:"python",rs:"rust",go:"go",java:"java",cpp:"cpp",c:"c",cs:"csharp",php:"php",rb:"ruby",swift:"swift",kt:"kotlin",scala:"scala",sh:"bash",bash:"bash",zsh:"bash",yaml:"yaml",yml:"yaml",json:"json",xml:"xml",html:"html",css:"css",scss:"scss",sass:"sass",less:"less",sql:"sql",md:"markdown",toml:"ini",ini:"ini",dockerfile:"dockerfile",makefile:"makefile"}[x||""]||"text"})(t),l=s.length>1e3,d=l?s.substring(0,1e3)+`
...`:s,c=()=>a?Jo.createPortal(e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>r(!1)}),e.jsxs("div",{className:"relative w-[90vw] h-[90vh] max-w-7xl bg-zinc-950 rounded-lg border shadow-2xl overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b bg-zinc-950 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-mono text-muted-foreground",children:t})]}),e.jsx(A,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>r(!1),children:e.jsx(ot,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex-1 overflow-auto",children:e.jsx(zt,{language:i,style:Wt,customStyle:{margin:0,padding:"1.5rem",background:"transparent",fontSize:"0.75rem",lineHeight:"1.5",height:"100%"},showLineNumbers:!0,children:s})})]})]}),document.body):null,u=({codeContent:m,truncated:x})=>e.jsxs("div",{className:"rounded-lg border bg-zinc-950 overflow-hidden w-full",style:{height:x?"440px":"auto",maxHeight:x?"440px":void 0,display:"flex",flexDirection:"column"},children:[e.jsxs("div",{className:"px-4 py-2 border-b bg-zinc-950 flex items-center justify-between sticky top-0 z-10",children:[e.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:"Preview"}),l&&x&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{variant:"outline",className:"text-xs whitespace-nowrap",children:"Truncated to 1000 chars"}),e.jsx(A,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>r(!0),children:e.jsx(Ls,{className:"h-3 w-3"})})]})]}),e.jsx("div",{className:"overflow-auto flex-1",children:e.jsx(zt,{language:i,style:Wt,customStyle:{margin:0,padding:"1rem",background:"transparent",fontSize:"0.75rem",lineHeight:"1.5",overflowX:"auto"},wrapLongLines:!1,children:m})})]});return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-muted/50",children:[e.jsx(qn,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm",children:"Writing to file:"}),e.jsx("code",{className:"text-sm font-mono bg-background px-2 py-0.5 rounded flex-1 truncate",children:t})]}),e.jsx(u,{codeContent:d,truncated:!0}),e.jsx(c,{})]})},D0=({pattern:t,include:s,path:n,exclude:a,result:r})=>{const[o,i]=h.useState(!0);let l="",d=!1;r&&(d=r.is_error||!1,typeof r.content=="string"?l=r.content:r.content&&typeof r.content=="object"&&(r.content.text?l=r.content.text:Array.isArray(r.content)?l=r.content.map(m=>typeof m=="string"?m:m.text||JSON.stringify(m)).join(`
`):l=JSON.stringify(r.content,null,2)));const u=r&&!d?(m=>{const x=m.split(`
`).filter(g=>g.trim()),p=[];return x.forEach(g=>{const y=g.match(/^(.+?):(\d+):(.*)$/);y&&p.push({file:y[1],lineNumber:parseInt(y[2],10),content:y[3]})}),p})(l):[];return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-gradient-to-r from-emerald-500/10 to-teal-500/10 border border-emerald-500/20",children:[e.jsx(At,{className:"h-4 w-4 text-emerald-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Searching with grep"}),!r&&e.jsxs("div",{className:"ml-auto flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx("div",{className:"h-2 w-2 bg-emerald-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Searching..."})]})]}),e.jsx("div",{className:"rounded-lg border bg-muted/20 p-3 space-y-2",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 min-w-[80px]",children:[e.jsx(Wn,{className:"h-3 w-3 text-emerald-500"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Pattern"})]}),e.jsx("code",{className:"flex-1 font-mono text-sm bg-emerald-500/10 border border-emerald-500/20 px-3 py-1.5 rounded-md text-emerald-600 dark:text-emerald-400",children:t})]}),n&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1.5 min-w-[80px]",children:[e.jsx(ut,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Path"})]}),e.jsx("code",{className:"flex-1 font-mono text-xs bg-muted px-2 py-1 rounded truncate",children:n})]}),(s||a)&&e.jsxs("div",{className:"flex gap-4",children:[s&&e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Rc,{className:"h-3 w-3 text-green-500"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Include"})]}),e.jsx("code",{className:"font-mono text-xs bg-green-500/10 border border-green-500/20 px-2 py-0.5 rounded text-green-600 dark:text-green-400",children:s})]}),a&&e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ot,{className:"h-3 w-3 text-red-500"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Exclude"})]}),e.jsx("code",{className:"font-mono text-xs bg-red-500/10 border border-red-500/20 px-2 py-0.5 rounded text-red-600 dark:text-red-400",children:a})]})]})]})}),r&&e.jsx("div",{className:"space-y-2",children:d?e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-red-500/10 border border-red-500/20",children:[e.jsx(De,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),e.jsx("div",{className:"text-sm text-red-600 dark:text-red-400",children:l||"Search failed"})]}):u.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>i(!o),className:"flex items-center gap-2 text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:[o?e.jsx(ze,{className:"h-3.5 w-3.5"}):e.jsx(Be,{className:"h-3.5 w-3.5"}),e.jsxs("span",{children:[u.length," matches found"]})]}),o&&e.jsx("div",{className:"rounded-lg border bg-zinc-950 overflow-hidden",children:e.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:u.map((m,x)=>{const p=m.file.split("/").pop()||m.file,g=m.file.substring(0,m.file.lastIndexOf("/"));return e.jsxs("div",{className:D("flex items-start gap-3 p-3 border-b border-zinc-800 hover:bg-zinc-900/50 transition-colors",x===u.length-1&&"border-b-0"),children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-[60px]",children:[e.jsx($e,{className:"h-3.5 w-3.5 text-emerald-500"}),e.jsx("span",{className:"text-xs font-mono text-emerald-400",children:m.lineNumber})]}),e.jsxs("div",{className:"flex-1 space-y-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs font-medium text-blue-400 truncate",children:p}),g&&e.jsx("span",{className:"text-xs text-muted-foreground truncate",children:g})]}),e.jsx("code",{className:"text-xs font-mono text-zinc-300 block whitespace-pre-wrap break-all",children:m.content.trim()})]})]},x)})})})]}):e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[e.jsx(Tt,{className:"h-5 w-5 text-amber-500 flex-shrink-0"}),e.jsx("div",{className:"text-sm text-amber-600 dark:text-amber-400",children:"No matches found for the given pattern."})]})})]})},Or=t=>{var a;const s=(a=t.split(".").pop())==null?void 0:a.toLowerCase();return{ts:"typescript",tsx:"tsx",js:"javascript",jsx:"jsx",py:"python",rs:"rust",go:"go",java:"java",cpp:"cpp",c:"c",cs:"csharp",php:"php",rb:"ruby",swift:"swift",kt:"kotlin",scala:"scala",sh:"bash",bash:"bash",zsh:"bash",yaml:"yaml",yml:"yaml",json:"json",xml:"xml",html:"html",css:"css",scss:"scss",sass:"sass",less:"less",sql:"sql",md:"markdown",toml:"ini",ini:"ini",dockerfile:"dockerfile",makefile:"makefile"}[s||""]||"text"},L0=({file_path:t,old_string:s,new_string:n,result:a})=>{const r=Zc(s||"",n||"",{newlineIsToken:!0,ignoreWhitespace:!1}),o=Or(t);return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(qn,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm font-medium",children:"Applying Edit to:"}),e.jsx("code",{className:"text-sm font-mono bg-background px-2 py-0.5 rounded flex-1 truncate",children:t})]}),e.jsx("div",{className:"rounded-lg border bg-zinc-950 overflow-hidden text-xs font-mono",children:e.jsx("div",{className:"max-h-[440px] overflow-y-auto overflow-x-auto",children:r.map((i,l)=>{const d=i.added?"bg-green-950/20":i.removed?"bg-red-950/20":"";if(!i.added&&!i.removed&&i.count&&i.count>8)return e.jsxs("div",{className:"px-4 py-1 bg-zinc-900 border-y border-zinc-800 text-center text-zinc-500 text-xs",children:["... ",i.count," unchanged lines ..."]},l);const c=i.value.endsWith(`
`)?i.value.slice(0,-1):i.value;return e.jsxs("div",{className:D(d,"flex"),children:[e.jsx("div",{className:"w-8 select-none text-center flex-shrink-0",children:i.added?e.jsx("span",{className:"text-green-400",children:"+"}):i.removed?e.jsx("span",{className:"text-red-400",children:"-"}):null}),e.jsx("div",{className:"flex-1",children:e.jsx(zt,{language:o,style:Wt,PreTag:"div",wrapLongLines:!1,customStyle:{margin:0,padding:0,background:"transparent"},codeTagProps:{style:{fontSize:"0.75rem",lineHeight:"1.6"}},children:c})})]},l)})})})]})},I0=({content:t})=>{const s=t.split(`
`);let n="";const a=[];let r=!1;for(const c of s){const u=c.replace(/\r$/,"");if(u.includes("The file")&&u.includes("has been updated")){const m=u.match(/The file (.+) has been updated/);m&&(n=m[1])}else if(/^\s*\d+/.test(u)){r=!0;const m=u.match(/^\s*(\d+)\t?(.*)$/);if(m){const[,x,p]=m;a.push({lineNumber:x,code:p})}}else r&&a.push({lineNumber:"",code:u})}const o=a.map(c=>c.code).join(`
`),i=a.find(c=>c.lineNumber!==""),l=i?parseInt(i.lineNumber):1,d=Or(n);return e.jsxs("div",{className:"rounded-lg border bg-zinc-950 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-2 border-b bg-emerald-950/30 flex items-center gap-2",children:[e.jsx(Qt,{className:"h-3.5 w-3.5 text-emerald-500"}),e.jsx("span",{className:"text-xs font-mono text-emerald-400",children:"Edit Result"}),n&&e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:n})]})]}),e.jsx("div",{className:"overflow-x-auto max-h-[440px]",children:e.jsx(zt,{language:d,style:Wt,showLineNumbers:!0,startingLineNumber:l,wrapLongLines:!1,customStyle:{margin:0,background:"transparent",lineHeight:"1.6"},codeTagProps:{style:{fontSize:"0.75rem"}},lineNumberStyle:{minWidth:"3.5rem",paddingRight:"1rem",textAlign:"right",opacity:.5},children:o})})]})},V0=({toolName:t,input:s,result:n})=>{const[a,r]=h.useState(!1),o=t.split("__"),i=o[1]||"",l=o[2]||"",d=y=>y.replace(/-/g," ").replace(/_/g," ").split(" ").map(j=>j.charAt(0).toUpperCase()+j.slice(1)).join(" "),c=y=>y.replace(/_/g," ").split(" ").map(j=>j.charAt(0).toUpperCase()+j.slice(1)).join(" "),u=s&&Object.keys(s).length>0,m=u?JSON.stringify(s,null,2):"",x=m.length>200,g=u?(y=>Math.ceil(y.length/4))(m):0;return e.jsxs("div",{className:"rounded-lg border border-violet-500/20 bg-gradient-to-br from-violet-500/5 to-purple-500/5 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-violet-500/10 to-purple-500/10 border-b border-violet-500/20",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(zc,{className:"h-4 w-4 text-violet-500"}),e.jsx(pn,{className:"h-2.5 w-2.5 text-violet-400 absolute -top-1 -right-1"})]}),e.jsx("span",{className:"text-sm font-medium text-violet-600 dark:text-violet-400",children:"MCP Tool"})]}),u&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Me,{variant:"outline",className:"text-xs border-violet-500/30 text-violet-600 dark:text-violet-400",children:["~",g," tokens"]}),x&&e.jsx("button",{onClick:()=>r(!a),className:"text-violet-500 hover:text-violet-600 transition-colors",children:a?e.jsx(cs,{className:"h-3.5 w-3.5"}):e.jsx(ze,{className:"h-3.5 w-3.5"})})]})]})}),e.jsxs("div",{className:"px-4 py-3 space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-violet-500 font-medium",children:"MCP"}),e.jsx(Be,{className:"h-3.5 w-3.5 text-muted-foreground"}),e.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-medium",children:d(i)}),e.jsx(Be,{className:"h-3.5 w-3.5 text-muted-foreground"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(ps,{className:"h-3.5 w-3.5 text-violet-500"}),e.jsxs("code",{className:"text-sm font-mono font-semibold text-foreground",children:[c(l),e.jsx("span",{className:"text-muted-foreground",children:"()"})]})]})]}),u&&e.jsxs("div",{className:D("transition-all duration-200",!a&&x&&"max-h-[200px]"),children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:D("rounded-lg border bg-zinc-950/50 overflow-hidden",!a&&x&&"max-h-[200px]"),children:[e.jsxs("div",{className:"px-3 py-2 border-b bg-zinc-900/50 flex items-center gap-2",children:[e.jsx(Wn,{className:"h-3 w-3 text-violet-500"}),e.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:"Parameters"})]}),e.jsx("div",{className:D("overflow-auto",!a&&x&&"max-h-[150px]"),children:e.jsx(zt,{language:"json",style:Wt,customStyle:{margin:0,padding:"0.75rem",background:"transparent",fontSize:"0.75rem",lineHeight:"1.5"},wrapLongLines:!1,children:m})})]}),!a&&x&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-12 bg-gradient-to-t from-zinc-950/80 to-transparent pointer-events-none"})]}),!a&&x&&e.jsx("div",{className:"text-center mt-2",children:e.jsxs("button",{onClick:()=>r(!0),className:"text-xs text-violet-500 hover:text-violet-600 transition-colors inline-flex items-center gap-1",children:[e.jsx(ze,{className:"h-3 w-3"}),"Show full parameters"]})})]}),!u&&e.jsx("div",{className:"text-xs text-muted-foreground italic px-2",children:"No parameters required"})]})]})},O0=({commandName:t,commandMessage:s,commandArgs:n})=>e.jsxs("div",{className:"rounded-lg border bg-zinc-950/50 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-2 border-b bg-zinc-900/50 flex items-center gap-2",children:[e.jsx(Xe,{className:"h-3.5 w-3.5 text-blue-500"}),e.jsx("span",{className:"text-xs font-mono text-blue-400",children:"Command"})]}),e.jsxs("div",{className:"p-3 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"$"}),e.jsx("code",{className:"text-sm font-mono text-foreground",children:t}),n&&e.jsx("code",{className:"text-sm font-mono text-muted-foreground",children:n})]}),s&&s!==t&&e.jsx("div",{className:"text-xs text-muted-foreground ml-4",children:s})]})]}),z0=({output:t,onLinkDetected:s})=>{Nt.useEffect(()=>{if(t&&s){const a=Qc(t);a.length>0&&s(a[0].fullUrl)}},[t,s]);const n=a=>{const r=a.split(/(\u001b\[\d+m)/);let o=!1;const i=[];return r.forEach((l,d)=>{if(l==="\x1B[1m"){o=!0;return}else if(l==="\x1B[22m"){o=!1;return}else if(l.match(/\u001b\[\d+m/))return;if(!l)return;const c=T0(l,u=>{s==null||s(u)});o?i.push(e.jsx("span",{className:"font-bold",children:c},d)):i.push(...c)}),i};return e.jsxs("div",{className:"rounded-lg border bg-zinc-950/50 overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-2 bg-zinc-900/50 flex items-center gap-2",children:[e.jsx(Be,{className:"h-3 w-3 text-green-500"}),e.jsx("span",{className:"text-xs font-mono text-green-400",children:"Output"})]}),e.jsx("div",{className:"p-3",children:e.jsx("pre",{className:"text-sm font-mono text-zinc-300 whitespace-pre-wrap",children:t?n(t):e.jsx("span",{className:"text-zinc-500 italic",children:"No output"})})})]})},$0=({summary:t,leafUuid:s})=>e.jsx("div",{className:"rounded-lg border border-blue-500/20 bg-blue-500/5 overflow-hidden",children:e.jsxs("div",{className:"px-4 py-3 flex items-start gap-3",children:[e.jsx("div",{className:"mt-0.5",children:e.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-500/10 flex items-center justify-center",children:e.jsx(Tt,{className:"h-4 w-4 text-blue-500"})})}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("div",{className:"text-xs font-medium text-blue-600 dark:text-blue-400",children:"AI Summary"}),e.jsx("p",{className:"text-sm text-foreground",children:t}),s&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["ID: ",e.jsxs("code",{className:"font-mono",children:[s.slice(0,8),"..."]})]})]})]})}),B0=({file_path:t,edits:s,result:n})=>{const[a,r]=h.useState(!1),o=Or(t);return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(qn,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"Using tool: MultiEdit"})]}),e.jsxs("div",{className:"ml-6 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{className:"h-3 w-3 text-blue-500"}),e.jsx("code",{className:"text-xs font-mono text-blue-500",children:t})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("button",{onClick:()=>r(!a),className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(Be,{className:D("h-3 w-3 transition-transform",a&&"rotate-90")}),s.length," edit",s.length!==1?"s":""]}),a&&e.jsx("div",{className:"space-y-3 mt-3",children:s.map((i,l)=>{const d=Zc(i.old_string||"",i.new_string||"",{newlineIsToken:!0,ignoreWhitespace:!1});return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"text-xs font-medium text-muted-foreground",children:["Edit ",l+1]}),e.jsx("div",{className:"rounded-lg border bg-zinc-950 overflow-hidden text-xs font-mono",children:e.jsx("div",{className:"max-h-[300px] overflow-y-auto overflow-x-auto",children:d.map((c,u)=>{const m=c.added?"bg-green-950/20":c.removed?"bg-red-950/20":"";if(!c.added&&!c.removed&&c.count&&c.count>8)return e.jsxs("div",{className:"px-4 py-1 bg-zinc-900 border-y border-zinc-800 text-center text-zinc-500 text-xs",children:["... ",c.count," unchanged lines ..."]},u);const x=c.value.endsWith(`
`)?c.value.slice(0,-1):c.value;return e.jsxs("div",{className:D(m,"flex"),children:[e.jsx("div",{className:"w-8 select-none text-center flex-shrink-0",children:c.added?e.jsx("span",{className:"text-green-400",children:"+"}):c.removed?e.jsx("span",{className:"text-red-400",children:"-"}):null}),e.jsx("div",{className:"flex-1",children:e.jsx(zt,{language:o,style:Wt,PreTag:"div",wrapLongLines:!1,customStyle:{margin:0,padding:0,background:"transparent"},codeTagProps:{style:{fontSize:"0.75rem",lineHeight:"1.6"}},children:x})})]},u)})})})]},l)})})]})]})]})},U0=({content:t,edits:s})=>s&&s.length>0?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-500/10 rounded-t-md border-b border-green-500/20",children:[e.jsx(Qt,{className:"h-4 w-4 text-green-500"}),e.jsxs("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:[s.length," Changes Applied"]})]}),e.jsx("div",{className:"space-y-4",children:s.map((n,a)=>{const r=n.old_string.split(`
`),o=n.new_string.split(`
`);return e.jsxs("div",{className:"border border-border/50 rounded-md overflow-hidden",children:[e.jsx("div",{className:"px-3 py-1 bg-muted/50 border-b border-border/50",children:e.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Change ",a+1]})}),e.jsxs("div",{className:"font-mono text-xs",children:[r.map((i,l)=>e.jsxs("div",{className:"flex bg-red-500/10 border-l-4 border-red-500",children:[e.jsxs("span",{className:"w-12 px-2 py-1 text-red-600 dark:text-red-400 select-none text-right bg-red-500/10",children:["-",l+1]}),e.jsx("pre",{className:"flex-1 px-3 py-1 text-red-700 dark:text-red-300 overflow-x-auto",children:e.jsx("code",{children:i||" "})})]},`old-${l}`)),o.map((i,l)=>e.jsxs("div",{className:"flex bg-green-500/10 border-l-4 border-green-500",children:[e.jsxs("span",{className:"w-12 px-2 py-1 text-green-600 dark:text-green-400 select-none text-right bg-green-500/10",children:["+",l+1]}),e.jsx("pre",{className:"flex-1 px-3 py-1 text-green-700 dark:text-green-300 overflow-x-auto",children:e.jsx("code",{children:i||" "})})]},`new-${l}`))]})]},a)})})]}):e.jsx("div",{className:"p-3 bg-muted/50 rounded-md border",children:e.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap",children:t})}),H0=({message:t})=>{let s=e.jsx(Tt,{className:"h-4 w-4"}),n="border-blue-500/20 bg-blue-500/5 text-blue-600";return t.toLowerCase().includes("warning")?(s=e.jsx(De,{className:"h-4 w-4"}),n="border-yellow-500/20 bg-yellow-500/5 text-yellow-600"):t.toLowerCase().includes("error")&&(s=e.jsx(De,{className:"h-4 w-4"}),n="border-destructive/20 bg-destructive/5 text-destructive"),e.jsxs("div",{className:D("flex items-start gap-2 p-3 rounded-md border",n),children:[e.jsx("div",{className:"mt-0.5",children:s}),e.jsx("div",{className:"flex-1 text-sm",children:t})]})},W0=({sessionId:t,model:s,cwd:n,tools:a=[]})=>{const[r,o]=h.useState(!1),i=a.filter(x=>!x.startsWith("mcp__")),l=a.filter(x=>x.startsWith("mcp__")),d={task:cg,bash:Xe,glob:ff,grep:At,ls:Ff,exit_plan_mode:Vc,read:$e,edit:Ra,multiedit:Ra,write:Rc,notebookread:Ip,notebookedit:Lp,webfetch:mt,todoread:Ic,todowrite:_f,websearch:Fa},c=x=>{const p=x.toLowerCase();return d[p]||Ia},u=x=>{const p=x.replace(/^mcp__/,""),g=p.split("__");if(g.length>=2){const y=g[0].replace(/_/g," ").replace(/-/g," ").split(" ").map(b=>b.charAt(0).toUpperCase()+b.slice(1)).join(" "),j=g.slice(1).join("__").replace(/_/g," ").split(" ").map(b=>b.charAt(0).toUpperCase()+b.slice(1)).join(" ");return{provider:y,method:j}}return{provider:"MCP",method:p.replace(/_/g," ").split(" ").map(y=>y.charAt(0).toUpperCase()+y.slice(1)).join(" ")}},m=l.reduce((x,p)=>{const{provider:g}=u(p);return x[g]||(x[g]=[]),x[g].push(p),x},{});return e.jsx(te,{className:"border-blue-500/20 bg-blue-500/5",children:e.jsx(qe,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ht,{className:"h-5 w-5 text-blue-500 mt-0.5"}),e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"System Initialized"}),e.jsxs("div",{className:"space-y-2",children:[t&&e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(uf,{className:"h-3.5 w-3.5 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Session ID:"}),e.jsx("code",{className:"font-mono text-xs bg-muted px-1.5 py-0.5 rounded",children:t})]}),s&&e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(Pc,{className:"h-3.5 w-3.5 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Model:"}),e.jsx("code",{className:"font-mono text-xs bg-muted px-1.5 py-0.5 rounded",children:s})]}),n&&e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx(ut,{className:"h-3.5 w-3.5 text-muted-foreground"}),e.jsx("span",{className:"text-muted-foreground",children:"Working Directory:"}),e.jsx("code",{className:"font-mono text-xs bg-muted px-1.5 py-0.5 rounded break-all",children:n})]})]}),i.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ia,{className:"h-3.5 w-3.5 text-muted-foreground"}),e.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Available Tools (",i.length,")"]})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:i.map((x,p)=>{const g=c(x);return e.jsxs(Me,{variant:"secondary",className:"text-xs py-0.5 px-2 flex items-center gap-1",children:[e.jsx(g,{className:"h-3 w-3"}),x]},p)})})]}),l.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>o(!r),className:"flex items-center gap-2 text-xs font-medium text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(Er,{className:"h-3.5 w-3.5"}),e.jsxs("span",{children:["MCP Services (",l.length,")"]}),e.jsx(ze,{className:D("h-3 w-3 transition-transform",r&&"rotate-180")})]}),r&&e.jsx("div",{className:"ml-5 space-y-3",children:Object.entries(m).map(([x,p])=>e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[e.jsx(zc,{className:"h-3 w-3"}),e.jsx("span",{className:"font-medium",children:x}),e.jsxs("span",{className:"text-muted-foreground/60",children:["(",p.length,")"]})]}),e.jsx("div",{className:"ml-4 flex flex-wrap gap-1",children:p.map((g,y)=>{const{method:j}=u(g);return e.jsx(Me,{variant:"outline",className:"text-xs py-0 px-1.5 font-normal",children:j},y)})})]},x))})]}),a.length===0&&e.jsx("div",{className:"text-xs text-muted-foreground italic",children:"No tools available"})]})]})})})},q0=({description:t,prompt:s,result:n})=>{const[a,r]=h.useState(!1);return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ts,{className:"h-4 w-4 text-purple-500"}),e.jsx(pn,{className:"h-2.5 w-2.5 text-purple-400 absolute -top-1 -right-1"})]}),e.jsx("span",{className:"text-sm font-medium",children:"Spawning Sub-Agent Task"})]}),e.jsxs("div",{className:"ml-6 space-y-3",children:[t&&e.jsxs("div",{className:"rounded-lg border border-purple-500/20 bg-purple-500/5 p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(ps,{className:"h-3.5 w-3.5 text-purple-500"}),e.jsx("span",{className:"text-xs font-medium text-purple-600 dark:text-purple-400",children:"Task Description"})]}),e.jsx("p",{className:"text-sm text-foreground ml-5",children:t})]}),s&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>r(!a),className:"flex items-center gap-1.5 text-xs font-medium text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(Be,{className:D("h-3 w-3 transition-transform",a&&"rotate-90")}),e.jsx("span",{children:"Task Instructions"})]}),a&&e.jsx("div",{className:"rounded-lg border bg-muted/30 p-3",children:e.jsx("pre",{className:"text-xs font-mono text-muted-foreground whitespace-pre-wrap",children:s})})]})]})]})},G0=({query:t,result:s})=>{const[n,a]=h.useState(new Set),r=d=>{const c=[],u=d.split(/Links:\s*\[/);return u[0]&&c.push({type:"text",content:u[0].trim()}),u.slice(1).forEach(m=>{try{const x=m.indexOf("]");if(x===-1)return;const p="["+m.substring(0,x+1),g=m.substring(x+1).trim(),y=JSON.parse(p);c.push({type:"links",content:y}),g&&c.push({type:"text",content:g})}catch{c.push({type:"text",content:"Links: ["+m})}}),c},o=d=>{const c=new Set(n);c.has(d)?c.delete(d):c.add(d),a(c)};let i={sections:[],noResults:!1};if(s){let d="";typeof s.content=="string"?d=s.content:s.content&&typeof s.content=="object"&&(s.content.text?d=s.content.text:Array.isArray(s.content)?d=s.content.map(c=>typeof c=="string"?c:c.text||JSON.stringify(c)).join(`
`):d=JSON.stringify(s.content,null,2)),i.noResults=d.toLowerCase().includes("no links found")||d.toLowerCase().includes("no results"),i.sections=r(d)}const l=async d=>{try{await za(d)}catch(c){console.error("Failed to open URL:",c)}};return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-blue-500/5 border border-blue-500/10",children:[e.jsx(mt,{className:"h-4 w-4 text-blue-500/70"}),e.jsx("span",{className:"text-xs font-medium uppercase tracking-wider text-blue-600/70 dark:text-blue-400/70",children:"Web Search"}),e.jsx("span",{className:"text-sm text-muted-foreground/80 flex-1 truncate",children:t})]}),s&&e.jsx("div",{className:"rounded-lg border bg-background/50 backdrop-blur-sm overflow-hidden",children:i.sections.length?i.noResults?e.jsx("div",{className:"px-3 py-2",children:e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(De,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"No results found"})]})}):e.jsx("div",{className:"p-3 space-y-3",children:i.sections.map((d,c)=>{if(d.type==="text")return e.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:e.jsx(Va,{children:d.content})},c);if(d.type==="links"&&Array.isArray(d.content)){const u=d.content,m=n.has(c);return e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("button",{onClick:()=>o(c),className:"flex items-center gap-1.5 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[m?e.jsx(ze,{className:"h-3 w-3"}):e.jsx(Be,{className:"h-3 w-3"}),e.jsxs("span",{children:[u.length," result",u.length!==1?"s":""]})]}),m?e.jsx("div",{className:"grid gap-1.5 ml-4",children:u.map((x,p)=>e.jsx("button",{onClick:()=>l(x.url),className:"group flex flex-col gap-0.5 p-2.5 rounded-md border bg-card/30 hover:bg-card/50 hover:border-blue-500/30 transition-all text-left",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Fa,{className:"h-3.5 w-3.5 text-blue-500/70 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium group-hover:text-blue-500 transition-colors line-clamp-2",children:x.title}),e.jsx("div",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:x.url})]})]})},p))}):e.jsx("div",{className:"flex flex-wrap gap-1.5 ml-4",children:u.map((x,p)=>e.jsxs("button",{onClick:g=>{g.stopPropagation(),l(x.url)},className:"group inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-medium bg-blue-500/5 hover:bg-blue-500/10 border border-blue-500/10 hover:border-blue-500/20 transition-all",children:[e.jsx(Fa,{className:"h-3 w-3 text-blue-500/70"}),e.jsx("span",{className:"truncate max-w-[180px] text-foreground/70 group-hover:text-foreground/90",children:x.title})]},p))})]},c)}return null})}):e.jsxs("div",{className:"px-3 py-2 flex items-center gap-2 text-muted-foreground",children:[e.jsxs("div",{className:"animate-pulse flex items-center gap-1",children:[e.jsx("div",{className:"h-1 w-1 bg-blue-500 rounded-full animate-bounce [animation-delay:-0.3s]"}),e.jsx("div",{className:"h-1 w-1 bg-blue-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),e.jsx("div",{className:"h-1 w-1 bg-blue-500 rounded-full animate-bounce"})]}),e.jsx("span",{className:"text-sm",children:"Searching..."})]})})]})},K0=({thinking:t})=>{const[s,n]=h.useState(!1),a=t.trim();return e.jsxs("div",{className:"rounded-lg border border-gray-500/20 bg-gray-500/5 overflow-hidden",children:[e.jsxs("button",{onClick:()=>n(!s),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-500/10 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ts,{className:"h-4 w-4 text-gray-500"}),e.jsx(pn,{className:"h-2.5 w-2.5 text-gray-400 absolute -top-1 -right-1 animate-pulse"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400 italic",children:"Thinking..."})]}),e.jsx(Be,{className:D("h-4 w-4 text-gray-500 transition-transform",s&&"rotate-90")})]}),s&&e.jsx("div",{className:"px-4 pb-4 pt-2 border-t border-gray-500/20",children:e.jsx("pre",{className:"text-xs font-mono text-gray-600 dark:text-gray-400 whitespace-pre-wrap bg-gray-500/5 p-3 rounded-lg italic",children:a})})]})},J0=({url:t,prompt:s,result:n})=>{const[a,r]=h.useState(!1),[o,i]=h.useState(!1);let l="",d=!n,c=!1;n&&(typeof n.content=="string"?l=n.content:n.content&&typeof n.content=="object"&&(n.content.text?l=n.content.text:Array.isArray(n.content)?l=n.content.map(y=>typeof y=="string"?y:y.text||JSON.stringify(y)).join(`
`):l=JSON.stringify(n.content,null,2)),c=n.is_error||l.toLowerCase().includes("error")||l.toLowerCase().includes("failed"));const u=500,m=l.length>u,x=m&&!o?l.substring(0,u)+"...":l,p=y=>{try{return new URL(y).hostname}catch{return y}},g=async()=>{try{await za(t)}catch(y){console.error("Failed to open URL:",y)}};return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-purple-500/5 border border-purple-500/10",children:[e.jsx(mt,{className:"h-4 w-4 text-purple-500/70"}),e.jsx("span",{className:"text-xs font-medium uppercase tracking-wider text-purple-600/70 dark:text-purple-400/70",children:"Fetching"}),e.jsx("button",{onClick:g,className:"text-sm text-foreground/80 hover:text-foreground flex-1 truncate text-left hover:underline decoration-purple-500/50",children:t})]}),s&&e.jsxs("div",{className:"ml-6 space-y-1",children:[e.jsxs("button",{onClick:()=>r(!a),className:"flex items-center gap-1.5 text-xs font-medium text-muted-foreground hover:text-foreground transition-colors",children:[e.jsx(Be,{className:D("h-3 w-3 transition-transform",a&&"rotate-90")}),e.jsx(Tt,{className:"h-3 w-3"}),e.jsx("span",{children:"Analysis Prompt"})]}),a&&e.jsx("div",{className:"rounded-lg border bg-muted/30 p-3 ml-4",children:e.jsx("p",{className:"text-sm text-foreground/90",children:s})})]})]}),d?e.jsx("div",{className:"rounded-lg border bg-background/50 backdrop-blur-sm overflow-hidden",children:e.jsxs("div",{className:"px-3 py-2 flex items-center gap-2 text-muted-foreground",children:[e.jsxs("div",{className:"animate-pulse flex items-center gap-1",children:[e.jsx("div",{className:"h-1 w-1 bg-purple-500 rounded-full animate-bounce [animation-delay:-0.3s]"}),e.jsx("div",{className:"h-1 w-1 bg-purple-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),e.jsx("div",{className:"h-1 w-1 bg-purple-500 rounded-full animate-bounce"})]}),e.jsxs("span",{className:"text-sm",children:["Fetching content from ",p(t),"..."]})]})}):l?e.jsx("div",{className:"rounded-lg border bg-background/50 backdrop-blur-sm overflow-hidden",children:c?e.jsxs("div",{className:"px-3 py-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[e.jsx(De,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Failed to fetch content"})]}),e.jsx("pre",{className:"mt-2 text-xs font-mono text-muted-foreground whitespace-pre-wrap",children:l})]}):e.jsxs("div",{className:"p-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx($e,{className:"h-3.5 w-3.5"}),e.jsxs("span",{children:["Content from ",p(t)]})]}),m&&e.jsx("button",{onClick:()=>i(!o),className:"text-xs text-purple-500 hover:text-purple-600 transition-colors flex items-center gap-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx(cs,{className:"h-3 w-3"}),"Show less"]}):e.jsxs(e.Fragment,{children:[e.jsx(ze,{className:"h-3 w-3"}),"Show full content"]})})]}),e.jsx("div",{className:"relative",children:e.jsxs("div",{className:D("rounded-lg bg-muted/30 p-3 overflow-hidden",!o&&m&&"max-h-[300px]"),children:[e.jsx("pre",{className:"text-sm font-mono text-foreground/90 whitespace-pre-wrap",children:x}),!o&&m&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-muted/30 to-transparent pointer-events-none"})]})})]})}):e.jsx("div",{className:"rounded-lg border bg-background/50 backdrop-blur-sm overflow-hidden",children:e.jsx("div",{className:"px-3 py-2",children:e.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[e.jsx(Tt,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"No content returned"})]})})})]})},Y0=({todos:t,result:s})=>{let n=t||[];if(!n.length&&s){if(typeof s=="object"&&Array.isArray(s.todos))n=s.todos;else if(typeof s.content=="string")try{const w=JSON.parse(s.content);Array.isArray(w)?n=w:w.todos&&(n=w.todos)}catch{}}const[a,r]=h.useState(""),[o,i]=h.useState("all"),[l,d]=h.useState("list"),[c,u]=h.useState(new Set),m={completed:{icon:e.jsx(Et,{className:"h-4 w-4"}),color:"text-green-500",bgColor:"bg-green-500/10",borderColor:"border-green-500/20",label:"Completed"},in_progress:{icon:e.jsx(Ut,{className:"h-4 w-4 animate-pulse"}),color:"text-blue-500",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/20",label:"In Progress"},pending:{icon:e.jsx(an,{className:"h-4 w-4"}),color:"text-muted-foreground",bgColor:"bg-muted/50",borderColor:"border-muted",label:"Pending"},cancelled:{icon:e.jsx(ot,{className:"h-4 w-4"}),color:"text-red-500",bgColor:"bg-red-500/10",borderColor:"border-red-500/20",label:"Cancelled"}},x=n.filter(w=>{const S=!a||w.content.toLowerCase().includes(a.toLowerCase())||w.id&&w.id.toLowerCase().includes(a.toLowerCase()),E=o==="all"||w.status===o;return S&&E}),p={total:n.length,completed:n.filter(w=>w.status==="completed").length,inProgress:n.filter(w=>w.status==="in_progress").length,pending:n.filter(w=>w.status==="pending").length,cancelled:n.filter(w=>w.status==="cancelled").length,completionRate:n.length>0?Math.round(n.filter(w=>w.status==="completed").length/n.length*100):0},g={pending:x.filter(w=>w.status==="pending"),in_progress:x.filter(w=>w.status==="in_progress"),completed:x.filter(w=>w.status==="completed"),cancelled:x.filter(w=>w.status==="cancelled")},y=w=>{u(S=>{const E=new Set(S);return E.has(w)?E.delete(w):E.add(w),E})},j=()=>{const w=JSON.stringify(n,null,2),S="data:application/json;charset=utf-8,"+encodeURIComponent(w),E="todos.json",P=document.createElement("a");P.setAttribute("href",S),P.setAttribute("download",E),P.click()},b=()=>{let w=`# Todo List

`;w+=`**Total**: ${p.total} | **Completed**: ${p.completed} | **In Progress**: ${p.inProgress} | **Pending**: ${p.pending}

`,["pending","in_progress","completed","cancelled"].forEach(_=>{var K;const U=n.filter(Q=>Q.status===_);U.length>0&&(w+=`## ${((K=m[_])==null?void 0:K.label)||_}

`,U.forEach(Q=>{var se;const W=Q.status==="completed"?"[x]":"[ ]";w+=`- ${W} ${Q.content}${Q.id?` (${Q.id})`:""}
`,((se=Q.dependencies)==null?void 0:se.length)>0&&(w+=`  - Dependencies: ${Q.dependencies.join(", ")}
`)}),w+=`
`)});const E="data:text/markdown;charset=utf-8,"+encodeURIComponent(w),P=document.createElement("a");P.setAttribute("href",E),P.setAttribute("download","todos.md"),P.click()},k=({todo:w,isExpanded:S})=>{var P,_;const E=m[w.status]||m.pending;return e.jsx(J.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:D("group rounded-lg border p-4 transition-all hover:shadow-md cursor-pointer",E.bgColor,E.borderColor,w.status==="completed"&&"opacity-75"),onClick:()=>w.id&&y(w.id),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:D("mt-0.5",E.color),children:E.icon}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("p",{className:D("text-sm",w.status==="completed"&&"line-through"),children:w.content}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[w.id&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(xs,{className:"h-3 w-3"}),e.jsx("span",{className:"font-mono",children:w.id})]}),((P=w.dependencies)==null?void 0:P.length)>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Qt,{className:"h-3 w-3"}),e.jsxs("span",{children:[w.dependencies.length," deps"]})]})]}),e.jsx(ke,{children:S&&((_=w.dependencies)==null?void 0:_.length)>0&&e.jsx(J.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsxs("div",{className:"pt-2 mt-2 border-t space-y-1",children:[e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Dependencies:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:w.dependencies.map(U=>e.jsx(Me,{variant:"outline",className:"text-xs font-mono",children:U},U))})]})})})]})]})})},v=()=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs(te,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Overall Progress"}),e.jsxs("span",{className:"text-2xl font-bold text-primary",children:[p.completionRate,"%"]})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-3 overflow-hidden",children:e.jsx(J.div,{initial:{width:0},animate:{width:`${p.completionRate}%`},transition:{duration:.5,ease:"easeOut"},className:"h-full bg-gradient-to-r from-primary to-primary/80"})})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(m).map(([w,S])=>{const E=p[w]||0,P=p.total>0?Math.round(E/p.total*100):0;return e.jsx(te,{className:D("p-4",S.bgColor),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:S.color,children:S.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:S.label}),e.jsx("p",{className:"text-lg font-semibold",children:E}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[P,"%"]})]})]})},w)})}),e.jsxs(te,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(kr,{className:"h-4 w-4 text-primary"}),e.jsx("h4",{className:"text-sm font-medium",children:"Activity Overview"})]}),e.jsx("div",{className:"space-y-2",children:Object.entries(m).map(([w,S])=>{const E=p[w]||0,P=p.total>0?E/p.total*100:0;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs w-20 text-right",children:S.label}),e.jsx("div",{className:"flex-1 bg-muted rounded-full h-2 overflow-hidden",children:e.jsx(J.div,{initial:{width:0},animate:{width:`${P}%`},transition:{duration:.5,delay:.1},className:D("h-full",S.bgColor)})}),e.jsx("span",{className:"text-xs w-12 text-left",children:E})]},w)})})]})]}),M=()=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Object.entries(g).map(([w,S])=>{const E=m[w];return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 pb-2 border-b",children:[e.jsx("div",{className:E.color,children:E.icon}),e.jsx("h3",{className:"text-sm font-medium",children:E.label}),e.jsx(Me,{variant:"secondary",className:"ml-auto text-xs",children:S.length})]}),e.jsxs("div",{className:"space-y-2",children:[S.map(P=>e.jsx(k,{todo:P,isExpanded:c.has(P.id)},P.id||S.indexOf(P))),S.length===0&&e.jsx("p",{className:"text-xs text-muted-foreground text-center py-4",children:"No todos"})]})]},w)})}),f=()=>{const w=n.filter(P=>!P.dependencies||P.dependencies.length===0),S=new Set,E=(P,_=0)=>{var K;if(S.has(P.id))return null;S.add(P.id);const U=n.filter(Q=>{var W;return((W=Q.dependencies)==null?void 0:W.includes(P.id))&&!S.has(Q.id)});return e.jsxs("div",{className:"relative",children:[_>0&&e.jsx("div",{className:"absolute left-6 top-0 w-px h-6 bg-border"}),e.jsxs("div",{className:D("flex gap-4",_>0&&"ml-12"),children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:D("w-3 h-3 rounded-full border-2 bg-background",(K=m[P.status])==null?void 0:K.borderColor)}),U.length>0&&e.jsx("div",{className:"absolute left-1/2 top-3 w-px h-full bg-border -translate-x-1/2"})]}),e.jsx("div",{className:"flex-1 pb-6",children:e.jsx(k,{todo:P,isExpanded:c.has(P.id)})})]}),U.map(Q=>E(Q,_+1))]},P.id)};return e.jsxs("div",{className:"space-y-4",children:[w.map(P=>E(P)),n.filter(P=>!S.has(P.id)).map(P=>E(P))]})};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ic,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium",children:"Todo Overview"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[p.total," total  ",p.completed," completed  ",p.completionRate,"% done"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(A,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:j,children:[e.jsx(Zt,{className:"h-3 w-3 mr-1"}),"JSON"]}),e.jsxs(A,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:b,children:[e.jsx(Zt,{className:"h-3 w-3 mr-1"}),"Markdown"]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(At,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(we,{type:"text",placeholder:"Search todos...",value:a,onChange:w=>r(w.target.value),className:"pl-9 h-9"})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("div",{className:"flex gap-1 p-1 bg-muted rounded-md",children:["all","pending","in_progress","completed","cancelled"].map(w=>{var S;return e.jsxs(A,{size:"sm",variant:o===w?"default":"ghost",className:"h-7 px-2 text-xs",onClick:()=>i(w),children:[w==="all"?"All":(S=m[w])==null?void 0:S.label,w==="all"&&e.jsx(Me,{variant:"secondary",className:"ml-1 h-4 px-1 text-xs",children:p.total})]},w)})})})]}),e.jsxs(ss,{value:l,onValueChange:w=>d(w),children:[e.jsxs(qt,{className:"grid w-full grid-cols-4",children:[e.jsxs(Ae,{value:"list",className:"text-xs",children:[e.jsx(Tf,{className:"h-4 w-4 mr-1"}),"List"]}),e.jsxs(Ae,{value:"board",className:"text-xs",children:[e.jsx(Mf,{className:"h-4 w-4 mr-1"}),"Board"]}),e.jsxs(Ae,{value:"timeline",className:"text-xs",children:[e.jsx(Qt,{className:"h-4 w-4 mr-1"}),"Timeline"]}),e.jsxs(Ae,{value:"stats",className:"text-xs",children:[e.jsx(Ac,{className:"h-4 w-4 mr-1"}),"Stats"]})]}),e.jsx(Ee,{value:"list",className:"mt-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(ke,{mode:"popLayout",children:x.map(w=>e.jsx(k,{todo:w,isExpanded:c.has(w.id)},w.id||x.indexOf(w)))}),x.length===0&&e.jsx("div",{className:"text-center py-8 text-sm text-muted-foreground",children:a||o!=="all"?"No todos match your filters":"No todos available"})]})}),e.jsx(Ee,{value:"board",className:"mt-4",children:e.jsx(M,{})}),e.jsx(Ee,{value:"timeline",className:"mt-4",children:e.jsx(f,{})}),e.jsx(Ee,{value:"stats",className:"mt-4",children:e.jsx(v,{})})]})]})},X0=({message:t,className:s,streamMessages:n,onLinkDetected:a})=>{var l;const[r,o]=h.useState(new Map);h.useEffect(()=>{const d=new Map;n.forEach(c=>{var u;c.type==="user"&&((u=c.message)!=null&&u.content)&&Array.isArray(c.message.content)&&c.message.content.forEach(m=>{m.type==="tool_result"&&m.tool_use_id&&d.set(m.tool_use_id,m)})}),o(d)},[n]);const i=d=>d&&r.get(d)||null;try{if(t.isMeta&&!t.leafUuid&&!t.summary)return null;if(t.leafUuid&&t.summary&&t.type==="summary")return e.jsx($0,{summary:t.summary,leafUuid:t.leafUuid});if(t.type==="system"&&t.subtype==="init")return e.jsx(W0,{sessionId:t.session_id,model:t.model,cwd:t.cwd,tools:t.tools});if(t.type==="assistant"&&t.message){const d=t.message;let c=!1;const u=e.jsx(te,{className:D("border-primary/20 bg-primary/5",s),children:e.jsx(qe,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ts,{className:"h-5 w-5 text-primary mt-0.5"}),e.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[d.content&&Array.isArray(d.content)&&d.content.map((m,x)=>{var p,g;if(m.type==="text"){const y=typeof m.text=="string"?m.text:((p=m.text)==null?void 0:p.text)||JSON.stringify(m.text||m);return c=!0,e.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:e.jsx(Va,{remarkPlugins:[Kr],components:{code({node:j,inline:b,className:k,children:v,...M}){const f=/language-(\w+)/.exec(k||"");return!b&&f?e.jsx(zt,{style:Wt,language:f[1],PreTag:"div",...M,children:String(v).replace(/\n$/,"")}):e.jsx("code",{className:k,...M,children:v})}},children:y})},x)}if(m.type==="thinking")return c=!0,e.jsx("div",{children:e.jsx(K0,{thinking:m.thinking||"",signature:m.signature})},x);if(m.type==="tool_use"){const y=(g=m.name)==null?void 0:g.toLowerCase(),j=m.input,b=m.id,k=i(b),M=(()=>{var f;return y==="task"&&j?(c=!0,e.jsx(q0,{description:j.description,prompt:j.prompt,result:k})):y==="edit"&&(j!=null&&j.file_path)?(c=!0,e.jsx(L0,{...j,result:k})):y==="multiedit"&&(j!=null&&j.file_path)&&(j!=null&&j.edits)?(c=!0,e.jsx(B0,{...j,result:k})):(f=m.name)!=null&&f.startsWith("mcp__")?(c=!0,e.jsx(V0,{toolName:m.name,input:j,result:k})):y==="todowrite"&&(j!=null&&j.todos)?(c=!0,e.jsx(A0,{todos:j.todos,result:k})):y==="todoread"?(c=!0,e.jsx(Y0,{todos:j==null?void 0:j.todos,result:k})):y==="ls"&&(j!=null&&j.path)?(c=!0,e.jsx(E0,{path:j.path,result:k})):y==="read"&&(j!=null&&j.file_path)?(c=!0,e.jsx(P0,{filePath:j.file_path,result:k})):y==="glob"&&(j!=null&&j.pattern)?(c=!0,e.jsx(_0,{pattern:j.pattern,result:k})):y==="bash"&&(j!=null&&j.command)?(c=!0,e.jsx(F0,{command:j.command,description:j.description,result:k})):y==="write"&&(j!=null&&j.file_path)&&(j!=null&&j.content)?(c=!0,e.jsx(R0,{filePath:j.file_path,content:j.content,result:k})):y==="grep"&&(j!=null&&j.pattern)?(c=!0,e.jsx(D0,{pattern:j.pattern,include:j.include,path:j.path,exclude:j.exclude,result:k})):y==="websearch"&&(j!=null&&j.query)?(c=!0,e.jsx(G0,{query:j.query,result:k})):y==="webfetch"&&(j!=null&&j.url)?(c=!0,e.jsx(J0,{url:j.url,prompt:j.prompt,result:k})):null})();return M?(c=!0,e.jsx("div",{children:M},x)):(c=!0,e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm font-medium",children:["Using tool: ",e.jsx("code",{className:"font-mono",children:m.name})]})]}),m.input&&e.jsx("div",{className:"ml-6 p-2 bg-background rounded-md border",children:e.jsx("pre",{className:"text-xs font-mono overflow-x-auto",children:JSON.stringify(m.input,null,2)})})]},x))}return null}),d.usage&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Tokens: ",d.usage.input_tokens," in, ",d.usage.output_tokens," out"]})]})]})})});return c?u:null}if(t.type==="user"){if(t.isMeta)return null;const d=t.message||t;let c=!1;const u=e.jsx(te,{className:D("border-muted-foreground/20 bg-muted/20",s),children:e.jsx(qe,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Fr,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),e.jsxs("div",{className:"flex-1 space-y-2 min-w-0",children:[(typeof d.content=="string"||d.content&&!Array.isArray(d.content))&&(()=>{const m=typeof d.content=="string"?d.content:String(d.content);if(m.trim()==="")return null;c=!0;const x=m.match(/<command-name>(.+?)<\/command-name>[\s\S]*?<command-message>(.+?)<\/command-message>[\s\S]*?<command-args>(.*?)<\/command-args>/);if(x){const[,g,y,j]=x;return e.jsx(O0,{commandName:g.trim(),commandMessage:y.trim(),commandArgs:j==null?void 0:j.trim()})}const p=m.match(/<local-command-stdout>([\s\S]*?)<\/local-command-stdout>/);if(p){const[,g]=p;return e.jsx(z0,{output:g,onLinkDetected:a})}return e.jsx("div",{className:"text-sm",children:m})})(),Array.isArray(d.content)&&d.content.map((m,x)=>{var p,g,y,j,b,k;if(m.type==="tool_result"){let v=!1;if(m.tool_use_id&&n)for(let _=n.length-1;_>=0;_--){const U=n[_];if(U.type==="assistant"&&((p=U.message)!=null&&p.content)&&Array.isArray(U.message.content)){const K=U.message.content.find(Q=>Q.type==="tool_use"&&Q.id===m.tool_use_id);if(K){const Q=(g=K.name)==null?void 0:g.toLowerCase();(["task","edit","multiedit","todowrite","todoread","ls","read","glob","bash","write","grep","websearch","webfetch"].includes(Q)||(y=K.name)!=null&&y.startsWith("mcp__"))&&(v=!0);break}}}if(v)return null;let M="";typeof m.content=="string"?M=m.content:m.content&&typeof m.content=="object"&&(m.content.text?M=m.content.text:Array.isArray(m.content)?M=m.content.map(_=>typeof _=="string"?_:_.text||JSON.stringify(_)).join(`
`):M=JSON.stringify(m.content,null,2));const f=M.match(/<system-reminder>(.*?)<\/system-reminder>/s);if(f){const _=f[1].trim(),U=M.substring(0,f.index||0).trim(),K=M.substring((f.index||0)+f[0].length).trim();return c=!0,e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Et,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Tool Result"})]}),U&&e.jsx("div",{className:"ml-6 p-2 bg-background rounded-md border",children:e.jsx("pre",{className:"text-xs font-mono overflow-x-auto whitespace-pre-wrap",children:U})}),e.jsx("div",{className:"ml-6",children:e.jsx(H0,{message:_})}),K&&e.jsx("div",{className:"ml-6 p-2 bg-background rounded-md border",children:e.jsx("pre",{className:"text-xs font-mono overflow-x-auto whitespace-pre-wrap",children:K})})]},x)}if(M.includes("has been updated. Here's the result of running `cat -n`"))return c=!0,e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Et,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Edit Result"})]}),e.jsx(I0,{content:M})]},x);if(M.includes("has been updated with multiple edits")||M.includes("MultiEdit completed successfully")||M.includes("Applied multiple edits to"))return c=!0,e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Et,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"MultiEdit Result"})]}),e.jsx(U0,{content:M})]},x);if((()=>{var W;if(!m.tool_use_id||typeof M!="string")return!1;let _=!1;if(n)for(let se=n.length-1;se>=0;se--){const L=n[se];if(L.type==="assistant"&&((W=L.message)!=null&&W.content)&&Array.isArray(L.message.content)&&L.message.content.find(O=>{var ee;return O.type==="tool_use"&&O.id===m.tool_use_id&&((ee=O.name)==null?void 0:ee.toLowerCase())==="ls"})){_=!0;break}}if(!_)return!1;const U=M.split(`
`),K=U.some(se=>/^\s*-\s+/.test(se)),Q=U.some(se=>se.trim().startsWith("NOTE: do any of the files"));return K||Q})())return c=!0,e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Et,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Directory Contents"})]}),e.jsx(ed,{content:M})]},x);if(m.tool_use_id&&typeof M=="string"&&/^\s*\d+/.test(M)){let _;if(n)for(let U=n.length-1;U>=0;U--){const K=n[U];if(K.type==="assistant"&&((j=K.message)!=null&&j.content)&&Array.isArray(K.message.content)){const Q=K.message.content.find(W=>{var se;return W.type==="tool_use"&&W.id===m.tool_use_id&&((se=W.name)==null?void 0:se.toLowerCase())==="read"});if((b=Q==null?void 0:Q.input)!=null&&b.file_path){_=Q.input.file_path;break}}}return c=!0,e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Et,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Read Result"})]}),e.jsx(td,{content:M,filePath:_})]},x)}return!M||M.trim()===""?(c=!0,e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Et,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Tool Result"})]}),e.jsx("div",{className:"ml-6 p-3 bg-muted/50 rounded-md border text-sm text-muted-foreground italic",children:"Tool did not return any output"})]},x)):(c=!0,e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[m.is_error?e.jsx(De,{className:"h-4 w-4 text-destructive"}):e.jsx(Et,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Tool Result"})]}),e.jsx("div",{className:"ml-6 p-2 bg-background rounded-md border",children:e.jsx("pre",{className:"text-xs font-mono overflow-x-auto whitespace-pre-wrap",children:M})})]},x))}if(m.type==="text"){const v=typeof m.text=="string"?m.text:((k=m.text)==null?void 0:k.text)||JSON.stringify(m.text);return c=!0,e.jsx("div",{className:"text-sm",children:v},x)}return null})]})]})})});return c?u:null}if(t.type==="result"){const d=t.is_error||((l=t.subtype)==null?void 0:l.includes("error"));return e.jsx(te,{className:D(d?"border-destructive/20 bg-destructive/5":"border-green-500/20 bg-green-500/5",s),children:e.jsx(qe,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[d?e.jsx(De,{className:"h-5 w-5 text-destructive mt-0.5"}):e.jsx(Et,{className:"h-5 w-5 text-green-500 mt-0.5"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:d?"Execution Failed":"Execution Complete"}),t.result&&e.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:e.jsx(Va,{remarkPlugins:[Kr],components:{code({node:c,inline:u,className:m,children:x,...p}){const g=/language-(\w+)/.exec(m||"");return!u&&g?e.jsx(zt,{style:Wt,language:g[1],PreTag:"div",...p,children:String(x).replace(/\n$/,"")}):e.jsx("code",{className:m,...p,children:x})}},children:t.result})}),t.error&&e.jsx("div",{className:"text-sm text-destructive",children:t.error}),e.jsxs("div",{className:"text-xs text-muted-foreground space-y-1 mt-2",children:[(t.cost_usd!==void 0||t.total_cost_usd!==void 0)&&e.jsxs("div",{children:["Cost: $",(t.cost_usd||t.total_cost_usd).toFixed(4)," USD"]}),t.duration_ms!==void 0&&e.jsxs("div",{children:["Duration: ",(t.duration_ms/1e3).toFixed(2),"s"]}),t.num_turns!==void 0&&e.jsxs("div",{children:["Turns: ",t.num_turns]}),t.usage&&e.jsxs("div",{children:["Total tokens: ",t.usage.input_tokens+t.usage.output_tokens,"(",t.usage.input_tokens," in, ",t.usage.output_tokens," out)"]})]})]})]})})})}return null}catch(d){return console.error("Error rendering stream message:",d,t),e.jsx(te,{className:D("border-destructive/20 bg-destructive/5",s),children:e.jsx(qe,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(De,{className:"h-5 w-5 text-destructive mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:"Error rendering message"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d instanceof Error?d.message:"Unknown error"})]})]})})})}},ln=Nt.memo(X0),Z0=({isExecuting:t,onStop:s,totalTokens:n=0,elapsedTime:a=0,className:r})=>{const o=l=>{const d=Math.floor(l/60),c=l%60;return d>0?`${d}m ${c.toFixed(0)}s`:`${c.toFixed(1)}s`},i=l=>l>=1e3?`${(l/1e3).toFixed(1)}k`:l.toString();return e.jsx(ke,{children:t&&e.jsxs(J.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:D("fixed bottom-6 left-1/2 -translate-x-1/2 z-50","bg-background/95 backdrop-blur-md border rounded-full shadow-lg","px-6 py-3 flex items-center gap-4",r),children:[e.jsx("div",{className:"relative flex items-center justify-center",children:e.jsx("div",{className:"rotating-symbol text-primary"})}),e.jsx("span",{className:"text-sm font-medium",children:"Executing..."}),e.jsx("div",{className:"h-4 w-px bg-border"}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ut,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:o(a)})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(xs,{className:"h-3.5 w-3.5"}),e.jsxs("span",{children:[i(n)," tokens"]})]})]}),e.jsx("div",{className:"h-4 w-px bg-border"}),e.jsxs(A,{size:"sm",variant:"destructive",onClick:s,className:"gap-2",children:[e.jsx(Fn,{className:"h-3.5 w-3.5"}),"Stop"]})]})})};class Ps extends h.Component{constructor(n){super(n);Gr(this,"reset",()=>{this.setState({hasError:!1,error:null})});this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,a){console.error("Error caught by boundary:",n,a)}render(){return this.state.hasError&&this.state.error?this.props.fallback?this.props.fallback(this.state.error,this.reset):e.jsx("div",{className:"flex items-center justify-center min-h-[200px] p-4",children:e.jsx(te,{className:"max-w-md w-full",children:e.jsx(qe,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(De,{className:"h-8 w-8 text-destructive flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Something went wrong"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"An error occurred while rendering this component."}),this.state.error.message&&e.jsxs("details",{className:"mt-2",children:[e.jsx("summary",{className:"text-sm cursor-pointer text-muted-foreground hover:text-foreground",children:"Error details"}),e.jsx("pre",{className:"mt-2 text-xs bg-muted p-2 rounded overflow-auto",children:this.state.error.message})]}),e.jsx(A,{onClick:this.reset,size:"sm",className:"mt-4",children:"Try again"})]})]})})})}):this.props.children}}function gs(t,s,n){let a=n.initialDeps??[],r;function o(){var i,l,d,c;let u;n.key&&((i=n.debug)!=null&&i.call(n))&&(u=Date.now());const m=t();if(!(m.length!==a.length||m.some((g,y)=>a[y]!==g)))return r;a=m;let p;if(n.key&&((l=n.debug)!=null&&l.call(n))&&(p=Date.now()),r=s(...m),n.key&&((d=n.debug)!=null&&d.call(n))){const g=Math.round((Date.now()-u)*100)/100,y=Math.round((Date.now()-p)*100)/100,j=y/16,b=(k,v)=>{for(k=String(k);k.length<v;)k=" "+k;return k};console.info(`%c ${b(y,5)} /${b(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*j,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(c=n==null?void 0:n.onChange)==null||c.call(n,r),r}return o.updateDeps=i=>{a=i},o}function yo(t,s){if(t===void 0)throw new Error("Unexpected undefined");return t}const Q0=(t,s)=>Math.abs(t-s)<=1,ey=(t,s,n)=>{let a;return function(...r){t.clearTimeout(a),a=t.setTimeout(()=>s.apply(this,r),n)}},jo=t=>{const{offsetWidth:s,offsetHeight:n}=t;return{width:s,height:n}},ty=t=>t,sy=t=>{const s=Math.max(t.startIndex-t.overscan,0),n=Math.min(t.endIndex+t.overscan,t.count-1),a=[];for(let r=s;r<=n;r++)a.push(r);return a},ny=(t,s)=>{const n=t.scrollElement;if(!n)return;const a=t.targetWindow;if(!a)return;const r=i=>{const{width:l,height:d}=i;s({width:Math.round(l),height:Math.round(d)})};if(r(jo(n)),!a.ResizeObserver)return()=>{};const o=new a.ResizeObserver(i=>{const l=()=>{const d=i[0];if(d!=null&&d.borderBoxSize){const c=d.borderBoxSize[0];if(c){r({width:c.inlineSize,height:c.blockSize});return}}r(jo(n))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},vo={passive:!0},No=typeof window>"u"?!0:"onscrollend"in window,ay=(t,s)=>{const n=t.scrollElement;if(!n)return;const a=t.targetWindow;if(!a)return;let r=0;const o=t.options.useScrollendEvent&&No?()=>{}:ey(a,()=>{s(r,!1)},t.options.isScrollingResetDelay),i=u=>()=>{const{horizontal:m,isRtl:x}=t.options;r=m?n.scrollLeft*(x&&-1||1):n.scrollTop,o(),s(r,u)},l=i(!0),d=i(!1);d(),n.addEventListener("scroll",l,vo);const c=t.options.useScrollendEvent&&No;return c&&n.addEventListener("scrollend",d,vo),()=>{n.removeEventListener("scroll",l),c&&n.removeEventListener("scrollend",d)}},ry=(t,s,n)=>{if(s!=null&&s.borderBoxSize){const a=s.borderBoxSize[0];if(a)return Math.round(a[n.options.horizontal?"inlineSize":"blockSize"])}return t[n.options.horizontal?"offsetWidth":"offsetHeight"]},iy=(t,{adjustments:s=0,behavior:n},a)=>{var r,o;const i=t+s;(o=(r=a.scrollElement)==null?void 0:r.scrollTo)==null||o.call(r,{[a.options.horizontal?"left":"top"]:i,behavior:n})};class oy{constructor(s){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const a=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(r=>{r.forEach(o=>{const i=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(i):i()})}));return{disconnect:()=>{var r;(r=a())==null||r.disconnect(),n=null},observe:r=>{var o;return(o=a())==null?void 0:o.observe(r,{box:"border-box"})},unobserve:r=>{var o;return(o=a())==null?void 0:o.unobserve(r)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([a,r])=>{typeof r>"u"&&delete n[a]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:ty,rangeExtractor:sy,onChange:()=>{},measureElement:ry,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var a,r;(r=(a=this.options).onChange)==null||r.call(a,this,n)},this.maybeNotify=gs(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const a=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==a){if(this.cleanup(),!a){this.maybeNotify();return}this.scrollElement=a,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(r=>{this.observer.observe(r)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,r=>{this.scrollRect=r,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(r,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<r?"forward":"backward":null,this.scrollOffset=r,this.isScrolling=o,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,a)=>{const r=new Map,o=new Map;for(let i=a-1;i>=0;i--){const l=n[i];if(r.has(l.lane))continue;const d=o.get(l.lane);if(d==null||l.end>d.end?o.set(l.lane,l):l.end<d.end&&r.set(l.lane,!0),r.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((i,l)=>i.end===l.end?i.index-l.index:i.end-l.end)[0]:void 0},this.getMeasurementOptions=gs(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,a,r,o,i)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:a,scrollMargin:r,getItemKey:o,enabled:i}),{key:!1}),this.getMeasurements=gs(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:a,scrollMargin:r,getItemKey:o,enabled:i},l)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(u=>{this.itemSizeCache.set(u.key,u.size)}));const d=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,d);for(let u=d;u<n;u++){const m=o(u),x=this.options.lanes===1?c[u-1]:this.getFurthestMeasurement(c,u),p=x?x.end+this.options.gap:a+r,g=l.get(m),y=typeof g=="number"?g:this.options.estimateSize(u),j=p+y,b=x?x.lane:u%this.options.lanes;c[u]={index:u,start:p,size:y,end:j,key:m,lane:b}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=gs(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,a,r,o)=>this.range=n.length>0&&a>0?ly({measurements:n,outerSize:a,scrollOffset:r,lanes:o}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=gs(()=>{let n=null,a=null;const r=this.calculateRange();return r&&(n=r.startIndex,a=r.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,a]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,a]},(n,a,r,o,i)=>o===null||i===null?[]:n({startIndex:o,endIndex:i,overscan:a,count:r}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const a=this.options.indexAttribute,r=n.getAttribute(a);return r?parseInt(r,10):(console.warn(`Missing attribute name '${a}={index}' on measured element.`),-1)},this._measureElement=(n,a)=>{const r=this.indexFromElement(n),o=this.measurementsCache[r];if(!o)return;const i=o.key,l=this.elementsCache.get(i);l!==n&&(l&&this.observer.unobserve(l),this.observer.observe(n),this.elementsCache.set(i,n)),n.isConnected&&this.resizeItem(r,this.options.measureElement(n,a,this))},this.resizeItem=(n,a)=>{const r=this.measurementsCache[n];if(!r)return;const o=this.itemSizeCache.get(r.key)??r.size,i=a-o;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(r,i,this):this.scrollDirection==="backward"&&r.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(r.index),this.itemSizeCache=new Map(this.itemSizeCache.set(r.key,a)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((a,r)=>{a.isConnected||(this.observer.unobserve(a),this.elementsCache.delete(r))});return}this._measureElement(n,void 0)},this.getVirtualItems=gs(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,a)=>{const r=[];for(let o=0,i=n.length;o<i;o++){const l=n[o],d=a[l];r.push(d)}return r},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const a=this.getMeasurements();if(a.length!==0)return yo(a[sd(0,a.length-1,r=>yo(a[r]).start,n)])},this.getOffsetForAlignment=(n,a,r=0)=>{const o=this.getSize(),i=this.getScrollOffset();a==="auto"&&(a=n>=i+o?"end":"start"),a==="center"?n+=(r-o)/2:a==="end"&&(n-=o);const l=this.getTotalSize()-o;return Math.max(Math.min(l,n),0)},this.getOffsetForIndex=(n,a="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const r=this.measurementsCache[n];if(!r)return;const o=this.getSize(),i=this.getScrollOffset();if(a==="auto")if(r.end>=i+o-this.options.scrollPaddingEnd)a="end";else if(r.start<=i+this.options.scrollPaddingStart)a="start";else return[i,a];const l=a==="end"?r.end+this.options.scrollPaddingEnd:r.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,a,r.size),a]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:a="start",behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,a),{adjustments:void 0,behavior:r})},this.scrollToIndex=(n,{align:a="auto",behavior:r}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const o=this.getOffsetForIndex(n,a);if(!o)return;const[i,l]=o;this._scrollToOffset(i,{adjustments:void 0,behavior:r}),r!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const c=this.getOffsetForIndex(n,l);if(!c)return;const[u]=c,m=this.getScrollOffset();Q0(u,m)||this.scrollToIndex(n,{align:l,behavior:r})}else this.scrollToIndex(n,{align:l,behavior:r})}))},this.scrollBy=(n,{behavior:a}={})=>{this.cancelScrollToIndex(),a==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:a})},this.getTotalSize=()=>{var n;const a=this.getMeasurements();let r;if(a.length===0)r=this.options.paddingStart;else if(this.options.lanes===1)r=((n=a[a.length-1])==null?void 0:n.end)??0;else{const o=Array(this.options.lanes).fill(null);let i=a.length-1;for(;i>=0&&o.some(l=>l===null);){const l=a[i];o[l.lane]===null&&(o[l.lane]=l.end),i--}r=Math.max(...o.filter(l=>l!==null))}return Math.max(r-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:a,behavior:r})=>{this.options.scrollToFn(n,{behavior:r,adjustments:a},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(s)}}const sd=(t,s,n,a)=>{for(;t<=s;){const r=(t+s)/2|0,o=n(r);if(o<a)t=r+1;else if(o>a)s=r-1;else return r}return t>0?t-1:0};function ly({measurements:t,outerSize:s,scrollOffset:n,lanes:a}){const r=t.length-1,o=d=>t[d].start;if(t.length<=a)return{startIndex:0,endIndex:r};let i=sd(0,r,o,n),l=i;if(a===1)for(;l<r&&t[l].end<n+s;)l++;else if(a>1){const d=Array(a).fill(0);for(;l<r&&d.some(u=>u<n+s);){const u=t[l];d[u.lane]=u.end,l++}const c=Array(a).fill(n+s);for(;i>=0&&c.some(u=>u>=n);){const u=t[i];c[u.lane]=u.start,i--}i=Math.max(0,i-i%a),l=Math.min(r,l+(a-1-l%a))}return{startIndex:i,endIndex:l}}const wo=typeof document<"u"?h.useLayoutEffect:h.useEffect;function cy(t){const s=h.useReducer(()=>({}),{})[1],n={...t,onChange:(r,o)=>{var i;o?Jo.flushSync(s):s(),(i=t.onChange)==null||i.call(t,r,o)}},[a]=h.useState(()=>new oy(n));return a.setOptions(n),wo(()=>a._didMount(),[]),wo(()=>a._willUpdate()),a}function Oa(t){return cy({observeElementRect:ny,observeElementOffset:ay,scrollToFn:iy,...t})}const dy=({agent:t,onBack:s,className:n})=>{const[a,r]=h.useState(""),[o,i]=h.useState(t.default_task||""),[l,d]=h.useState(t.model||"sonnet"),[c,u]=h.useState(!1),[m,x]=h.useState([]),[p,g]=h.useState([]),[y,j]=h.useState(null),[b,k]=h.useState(!1),[v,M]=h.useState(!1),[f,w]=h.useState("project"),[S,E]=h.useState(null),[P,_]=h.useState(0),[U,K]=h.useState(0),[Q,W]=h.useState(!1),[se,L]=h.useState(!1),R=h.useRef(null),O=h.useRef(null),ee=h.useRef(null),V=h.useRef(null),ue=h.useRef(null),pe=h.useRef([]),Ne=h.useRef(null),[$,Z]=h.useState(null),re=Nt.useMemo(()=>m.filter((H,be)=>{var ne,I,ae;if(H.isMeta&&!H.leafUuid&&!H.summary)return!1;if(H.type==="user"&&H.message){if(H.isMeta)return!1;const q=H.message;if(!q.content||Array.isArray(q.content)&&q.content.length===0)return!1;if(Array.isArray(q.content)){let ce=!1;for(const le of q.content)if(le.type==="text"){ce=!0;break}else if(le.type==="tool_result"){let ge=!1;if(le.tool_use_id)for(let Pe=be-1;Pe>=0;Pe--){const Ce=m[Pe];if(Ce.type==="assistant"&&((ne=Ce.message)!=null&&ne.content)&&Array.isArray(Ce.message.content)){const _e=Ce.message.content.find(Ue=>Ue.type==="tool_use"&&Ue.id===le.tool_use_id);if(_e){const Ue=(I=_e.name)==null?void 0:I.toLowerCase();(["task","edit","multiedit","todowrite","ls","read","glob","bash","write","grep"].includes(Ue)||(ae=_e.name)!=null&&ae.startsWith("mcp__"))&&(ge=!0);break}}}if(!ge){ce=!0;break}}if(!ce)return!1}}return!0}),[m]),F=Oa({count:re.length,getScrollElement:()=>ee.current,estimateSize:()=>150,overscan:5}),C=Oa({count:re.length,getScrollElement:()=>V.current,estimateSize:()=>150,overscan:5});h.useEffect(()=>()=>{pe.current.forEach(H=>H()),Ne.current&&clearInterval(Ne.current)},[]);const N=()=>{const H=se?V.current:ee.current;if(H){const{scrollTop:be,scrollHeight:ne,clientHeight:I}=H;return ne-be-I<1}return!0};h.useEffect(()=>{if(re.length===0)return;(!Q||N())&&(se?C.scrollToIndex(re.length-1,{align:"end",behavior:"smooth"}):F.scrollToIndex(re.length-1,{align:"end",behavior:"smooth"}))},[re.length,Q,se,F,C]),h.useEffect(()=>(c&&S?Ne.current=setInterval(()=>{K(Math.floor((Date.now()-S)/1e3))},100):Ne.current&&clearInterval(Ne.current),()=>{Ne.current&&clearInterval(Ne.current)}),[c,S]),h.useEffect(()=>{const H=m.reduce((be,ne)=>{var I;return(I=ne.message)!=null&&I.usage?be+ne.message.usage.input_tokens+ne.message.usage.output_tokens:ne.usage?be+ne.usage.input_tokens+ne.usage.output_tokens:be},0);_(H)},[m]);const z=async()=>{try{const H=await $a({directory:!0,multiple:!1,title:"Select Project Directory"});H&&(r(H),j(null))}catch(H){console.error("Failed to select directory:",H);const be=H instanceof Error?H.message:String(H);j(`Failed to select directory: ${be}`)}},X=async()=>{M(!0)},de=async()=>{try{u(!0),E(Date.now()),x([]),g([]),Z(null),pe.current.forEach(q=>q()),pe.current=[];const H=await Y.executeAgent(t.id,a,o,l);console.log("Agent execution started with run ID:",H),Z(H);const be=await Qe(`agent-output:${H}`,q=>{try{g(le=>[...le,q.payload]);const ce=JSON.parse(q.payload);x(le=>[...le,ce])}catch(ce){console.error("Failed to parse message:",ce,q.payload)}}),ne=await Qe(`agent-error:${H}`,q=>{console.error("Agent error:",q.payload),j(q.payload)}),I=await Qe(`agent-complete:${H}`,q=>{u(!1),E(null),q.payload||j("Agent execution failed")}),ae=await Qe(`agent-cancelled:${H}`,()=>{u(!1),E(null),j("Agent execution was cancelled")});pe.current=[be,ne,I,ae]}catch(H){console.error("Failed to execute agent:",H),u(!1),E(null),Z(null),x(be=>[...be,{type:"result",subtype:"error",is_error:!0,result:`Failed to execute agent: ${H instanceof Error?H.message:"Unknown error"}`,duration_ms:0,usage:{input_tokens:0,output_tokens:0}}])}},ie=async()=>{try{if(!$){console.error("No run ID available to stop");return}await Y.killAgentSession($)?console.log(`Successfully stopped agent session ${$}`):console.warn(`Failed to stop agent session ${$} - it may have already finished`),u(!1),E(null),pe.current.forEach(be=>be()),pe.current=[],x(be=>[...be,{type:"result",subtype:"error",is_error:!0,result:"Execution stopped by user",duration_ms:U*1e3,usage:{input_tokens:P,output_tokens:0}}])}catch(H){console.error("Failed to stop agent:",H),u(!1),E(null),x(be=>[...be,{type:"result",subtype:"error",is_error:!0,result:`Failed to stop execution: ${H instanceof Error?H.message:"Unknown error"}`,duration_ms:U*1e3,usage:{input_tokens:P,output_tokens:0}}])}},oe=()=>{c&&!window.confirm(`An agent is currently running. If you navigate away, the agent will continue running in the background. You can view running sessions in the 'Running Sessions' tab within CC Agents.

Do you want to continue?`)||(pe.current.forEach(H=>H()),pe.current=[],s())},fe=async()=>{const H=p.join(`
`);await navigator.clipboard.writeText(H),k(!1)},tt=async()=>{var be;let H=`# Agent Execution: ${t.name}

`;H+=`**Task:** ${o}
`,H+=`**Model:** ${l==="opus"?"Claude 4 Opus":"Claude 4 Sonnet"}
`,H+=`**Date:** ${new Date().toISOString()}

`,H+=`---

`;for(const ne of m)if(ne.type==="system"&&ne.subtype==="init")H+=`## System Initialization

`,H+=`- Session ID: \`${ne.session_id||"N/A"}\`
`,H+=`- Model: \`${ne.model||"default"}\`
`,ne.cwd&&(H+=`- Working Directory: \`${ne.cwd}\`
`),(be=ne.tools)!=null&&be.length&&(H+=`- Tools: ${ne.tools.join(", ")}
`),H+=`
`;else if(ne.type==="assistant"&&ne.message){H+=`## Assistant

`;for(const I of ne.message.content||[])I.type==="text"?H+=`${I.text}

`:I.type==="tool_use"&&(H+=`### Tool: ${I.name}

`,H+=`\`\`\`json
${JSON.stringify(I.input,null,2)}
\`\`\`

`);ne.message.usage&&(H+=`*Tokens: ${ne.message.usage.input_tokens} in, ${ne.message.usage.output_tokens} out*

`)}else if(ne.type==="user"&&ne.message){H+=`## User

`;for(const I of ne.message.content||[])I.type==="text"?H+=`${I.text}

`:I.type==="tool_result"&&(H+=`### Tool Result

`,H+=`\`\`\`
${I.content}
\`\`\`

`)}else if(ne.type==="result"&&(H+=`## Execution Result

`,ne.result&&(H+=`${ne.result}

`),ne.error&&(H+=`**Error:** ${ne.error}

`),ne.cost_usd!==void 0&&(H+=`- **Cost:** $${ne.cost_usd.toFixed(4)} USD
`),ne.duration_ms!==void 0&&(H+=`- **Duration:** ${(ne.duration_ms/1e3).toFixed(2)}s
`),ne.num_turns!==void 0&&(H+=`- **Turns:** ${ne.num_turns}
`),ne.usage)){const I=ne.usage.input_tokens+ne.usage.output_tokens;H+=`- **Total Tokens:** ${I} (${ne.usage.input_tokens} in, ${ne.usage.output_tokens} out)
`}await navigator.clipboard.writeText(H),k(!1)},Re=()=>{const H=t.icon in _s?_s[t.icon]:Xe;return e.jsx(H,{className:"h-5 w-5"})};return e.jsxs("div",{className:D("flex flex-col h-full bg-background",n),children:[e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"sticky top-0 z-20 bg-background border-b border-border",children:e.jsx("div",{className:"w-full max-w-5xl mx-auto",children:e.jsx(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{variant:"ghost",size:"icon",onClick:oe,className:"h-8 w-8",children:e.jsx(pt,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-primary/10 text-primary",children:Re()}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-xl font-bold",children:["Execute: ",t.name]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:l==="opus"?"Claude 4 Opus":"Claude 4 Sonnet"})]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>L(!0),disabled:m.length===0,children:[e.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Fullscreen"]})})]})})})}),e.jsx("div",{className:"sticky top-[73px] z-10 bg-background border-b border-border",children:e.jsxs("div",{className:"w-full max-w-5xl mx-auto p-4 space-y-4",children:[y&&e.jsxs(J.div,{initial:{opacity:0},animate:{opacity:1},className:"rounded-lg border border-destructive/50 bg-destructive/10 p-3 text-xs text-destructive flex items-center gap-2",children:[e.jsx(De,{className:"h-4 w-4 flex-shrink-0"}),y]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{children:"Project Path"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(we,{value:a,onChange:H=>r(H.target.value),placeholder:"Select or enter project path",disabled:c,className:"flex-1"}),e.jsx(A,{variant:"outline",size:"icon",onClick:z,disabled:c,children:e.jsx(ut,{className:"h-4 w-4"})}),e.jsxs(A,{variant:"outline",onClick:X,disabled:c||!a,title:"Configure hooks",children:[e.jsx($c,{className:"h-4 w-4 mr-2"}),"Hooks"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{children:"Model"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"button",onClick:()=>!c&&d("sonnet"),className:D("flex-1 px-3.5 py-2 rounded-full border-2 font-medium transition-all text-sm",!c&&"hover:scale-[1.02] active:scale-[0.98]",c&&"opacity-50 cursor-not-allowed",l==="sonnet"?"border-primary bg-primary text-primary-foreground shadow-lg":"border-muted-foreground/30 hover:border-muted-foreground/50"),disabled:c,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:D("w-3.5 h-3.5 rounded-full border-2 flex items-center justify-center flex-shrink-0",l==="sonnet"?"border-primary-foreground":"border-current"),children:l==="sonnet"&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary-foreground"})}),e.jsx("span",{children:"Claude 4 Sonnet"})]})}),e.jsx("button",{type:"button",onClick:()=>!c&&d("opus"),className:D("flex-1 px-3.5 py-2 rounded-full border-2 font-medium transition-all text-sm",!c&&"hover:scale-[1.02] active:scale-[0.98]",c&&"opacity-50 cursor-not-allowed",l==="opus"?"border-primary bg-primary text-primary-foreground shadow-lg":"border-muted-foreground/30 hover:border-muted-foreground/50"),disabled:c,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:D("w-3.5 h-3.5 rounded-full border-2 flex items-center justify-center flex-shrink-0",l==="opus"?"border-primary-foreground":"border-current"),children:l==="opus"&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary-foreground"})}),e.jsx("span",{children:"Claude 4 Opus"})]})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{children:"Task"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(we,{value:o,onChange:H=>i(H.target.value),placeholder:"Enter the task for the agent",disabled:c,className:"flex-1",onKeyPress:H=>{H.key==="Enter"&&!c&&a&&o.trim()&&de()}}),e.jsx(A,{onClick:c?ie:de,disabled:!a||!o.trim(),variant:c?"destructive":"default",children:c?e.jsxs(e.Fragment,{children:[e.jsx(Fn,{className:"mr-2 h-4 w-4"}),"Stop"]}):e.jsxs(e.Fragment,{children:[e.jsx(xn,{className:"mr-2 h-4 w-4"}),"Execute"]})})]})]})]})}),e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx("div",{className:"w-full max-w-5xl mx-auto h-full",children:e.jsx("div",{ref:ee,className:"h-full overflow-y-auto p-6 space-y-8",onScroll:()=>{Q||W(!0),N()&&W(!1)},children:e.jsxs("div",{ref:O,children:[m.length===0&&!c&&e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[e.jsx(Xe,{className:"h-16 w-16 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Ready to Execute"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a project path and enter a task to run the agent"})]}),c&&m.length===0&&e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ve,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Initializing agent..."})]})}),e.jsx("div",{className:"relative w-full",style:{height:`${F.getTotalSize()}px`},children:e.jsx(ke,{children:F.getVirtualItems().map(H=>{const be=re[H.index];return e.jsx(J.div,{"data-index":H.index,ref:ne=>ne&&F.measureElement(ne),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},className:"absolute inset-x-4 pb-4",style:{top:H.start},children:e.jsx(Ps,{children:e.jsx(ln,{message:be,streamMessages:m})})},H.key)})})}),e.jsx("div",{ref:R})]})})})})]}),e.jsx(Z0,{isExecuting:c,onStop:ie,totalTokens:P,elapsedTime:U}),se&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-background flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[Re(),e.jsxs("h2",{className:"text-lg font-semibold",children:[t.name," - Output"]}),c&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Running"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{trigger:e.jsxs(A,{variant:"ghost",size:"sm",className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"h-4 w-4"}),"Copy Output",e.jsx(ze,{className:"h-3 w-3"})]}),content:e.jsxs("div",{className:"w-44 p-1",children:[e.jsx(A,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:fe,children:"Copy as JSONL"}),e.jsx(A,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:tt,children:"Copy as Markdown"})]}),open:b,onOpenChange:k,align:"end"}),e.jsxs(A,{variant:"ghost",size:"sm",onClick:()=>L(!1),className:"flex items-center gap-2",children:[e.jsx(ot,{className:"h-4 w-4"}),"Close"]})]})]}),e.jsx("div",{className:"flex-1 overflow-hidden p-6",children:e.jsxs("div",{ref:V,className:"h-full overflow-y-auto space-y-8",onScroll:()=>{Q||W(!0),N()&&W(!1)},children:[m.length===0&&!c&&e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[e.jsx(Xe,{className:"h-16 w-16 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Ready to Execute"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a project path and enter a task to run the agent"})]}),c&&m.length===0&&e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ve,{className:"h-6 w-6 animate-spin"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Initializing agent..."})]})}),e.jsx("div",{className:"relative w-full max-w-5xl mx-auto",style:{height:`${C.getTotalSize()}px`},children:e.jsx(ke,{children:C.getVirtualItems().map(H=>{const be=re[H.index];return e.jsx(J.div,{"data-index":H.index,ref:ne=>ne&&C.measureElement(ne),initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},className:"absolute inset-x-4 pb-4",style:{top:H.start},children:e.jsx(Ps,{children:e.jsx(ln,{message:be,streamMessages:m})})},H.key)})})}),e.jsx("div",{ref:ue})]})})]}),e.jsx(Je,{open:v,onOpenChange:M,children:e.jsxs(Ge,{className:"max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[e.jsxs(et,{children:[e.jsx(Ye,{children:"Configure Hooks"}),e.jsx(xt,{children:"Configure hooks that run before, during, and after tool executions. Changes are saved immediately."})]}),e.jsxs(ss,{value:f,onValueChange:w,className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs(qt,{className:"grid w-full grid-cols-2",children:[e.jsx(Ae,{value:"project",children:"Project Settings"}),e.jsx(Ae,{value:"local",children:"Local Settings"})]}),e.jsx(Ee,{value:"project",className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Project hooks are stored in ",e.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:".claude/settings.json"})," and are committed to version control."]}),e.jsx(on,{projectPath:a,scope:"project",className:"border-0"})]})}),e.jsx(Ee,{value:"local",className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Local hooks are stored in ",e.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:".claude/settings.local.json"})," and are not committed to version control."]}),e.jsx(on,{projectPath:a,scope:"local",className:"border-0"})]})})]})]})})]})};function uy({run:t,onClose:s,onOpenFullView:n,className:a}){var re,F,C;const[r,o]=h.useState([]),[i,l]=h.useState([]),[d,c]=h.useState(!0),[u,m]=h.useState(!1),[x,p]=h.useState(!1),[g,y]=h.useState(null),[j,b]=h.useState(!1),[k,v]=h.useState(!1),M=h.useRef(!0),f=h.useRef(!1),w=h.useRef(null),S=h.useRef(null),E=h.useRef(null),P=h.useRef(null),_=h.useRef([]),{getCachedOutput:U,setCachedOutput:K}=Dg(),Q=()=>{const N=u?E.current:w.current;if(N){const{scrollTop:z,scrollHeight:X,clientHeight:de}=N;return X-z-de<1}return!0},W=()=>{if(!k){const N=u?P.current:S.current;N&&N.scrollIntoView({behavior:"smooth"})}};h.useEffect(()=>()=>{_.current.forEach(N=>N()),_.current=[],f.current=!1},[]),h.useEffect(()=>{(!k||Q())&&W()},[r,k,u]);const se=async(N=!1)=>{if(t.id){console.log("[AgentRunOutputViewer] Loading output for run:",{runId:t.id,status:t.status,sessionId:t.session_id,skipCache:N});try{if(!N){const ie=U(t.id);if(ie){console.log("[AgentRunOutputViewer] Found cached output");const oe=ie.output.split(`
`).filter(fe=>fe.trim());if(l(oe),o(ie.messages),Date.now()-ie.lastUpdated<5e3&&t.status!=="running"){console.log("[AgentRunOutputViewer] Using recent cache, skipping refresh");return}}}if(c(!0),t.session_id&&t.session_id!==""){console.log("[AgentRunOutputViewer] Attempting to load from JSONL with session_id:",t.session_id);try{const ie=await Y.loadAgentSessionHistory(t.session_id);console.log("[AgentRunOutputViewer] Successfully loaded JSONL history:",ie.length,"messages");const oe=ie.map(fe=>({...fe,type:fe.type||"assistant"}));if(o(oe),l(ie.map(fe=>JSON.stringify(fe))),K(t.id,{output:ie.map(fe=>JSON.stringify(fe)).join(`
`),messages:oe,lastUpdated:Date.now(),status:t.status}),t.status==="running"){console.log("[AgentRunOutputViewer] Setting up live listeners for running session"),L();try{await Y.streamSessionOutput(t.id)}catch(fe){console.warn("[AgentRunOutputViewer] Failed to start streaming, will poll instead:",fe)}}return}catch(ie){console.warn("[AgentRunOutputViewer] Failed to load from JSONL:",ie),console.warn("[AgentRunOutputViewer] Falling back to regular output method")}}else console.log("[AgentRunOutputViewer] No session_id available, using fallback method");console.log("[AgentRunOutputViewer] Using getSessionOutput fallback");const z=await Y.getSessionOutput(t.id);console.log("[AgentRunOutputViewer] Received raw output:",z.length,"characters");const X=z.split(`
`).filter(ie=>ie.trim());l(X);const de=[];for(const ie of X)try{const oe=JSON.parse(ie);de.push(oe)}catch(oe){console.error("[AgentRunOutputViewer] Failed to parse message:",oe,ie)}if(console.log("[AgentRunOutputViewer] Parsed",de.length,"messages from output"),o(de),K(t.id,{output:z,messages:de,lastUpdated:Date.now(),status:t.status}),t.status==="running"){console.log("[AgentRunOutputViewer] Setting up live listeners for running session (fallback)"),L();try{await Y.streamSessionOutput(t.id)}catch(ie){console.warn("[AgentRunOutputViewer] Failed to start streaming (fallback), will poll instead:",ie)}}}catch(z){console.error("Failed to load agent output:",z),y({message:"Failed to load agent output",type:"error"})}finally{c(!1)}}},L=async()=>{if(!(!t.id||f.current))try{_.current.forEach(ie=>ie()),_.current=[],f.current=!0,setTimeout(()=>{M.current=!1},100);const N=await Qe(`agent-output:${t.id}`,ie=>{try{if(M.current){console.log("[AgentRunOutputViewer] Skipping message during initial load");return}l(fe=>[...fe,ie.payload]);const oe=JSON.parse(ie.payload);o(fe=>[...fe,oe])}catch(oe){console.error("[AgentRunOutputViewer] Failed to parse message:",oe,ie.payload)}}),z=await Qe(`agent-error:${t.id}`,ie=>{console.error("[AgentRunOutputViewer] Agent error:",ie.payload),y({message:ie.payload,type:"error"})}),X=await Qe(`agent-complete:${t.id}`,()=>{y({message:"Agent execution completed",type:"success"})}),de=await Qe(`agent-cancelled:${t.id}`,()=>{y({message:"Agent execution was cancelled",type:"error"})});_.current=[N,z,X,de]}catch(N){console.error("[AgentRunOutputViewer] Failed to set up live event listeners:",N)}},R=async()=>{const N=i.join(`
`);await navigator.clipboard.writeText(N),b(!1),y({message:"Output copied as JSONL",type:"success"})},O=async()=>{var z,X,de,ie;let N=`# Agent Execution: ${t.agent_name}

`;N+=`**Task:** ${t.task}
`,N+=`**Model:** ${t.model==="opus"?"Claude 4 Opus":"Claude 4 Sonnet"}
`,N+=`**Date:** ${rn(t.created_at)}
`,(z=t.metrics)!=null&&z.duration_ms&&(N+=`**Duration:** ${(t.metrics.duration_ms/1e3).toFixed(2)}s
`),(X=t.metrics)!=null&&X.total_tokens&&(N+=`**Total Tokens:** ${t.metrics.total_tokens}
`),(de=t.metrics)!=null&&de.cost_usd&&(N+=`**Cost:** $${t.metrics.cost_usd.toFixed(4)} USD
`),N+=`
---

`;for(const oe of r)if(oe.type==="system"&&oe.subtype==="init")N+=`## System Initialization

`,N+=`- Session ID: \`${oe.session_id||"N/A"}\`
`,N+=`- Model: \`${oe.model||"default"}\`
`,oe.cwd&&(N+=`- Working Directory: \`${oe.cwd}\`
`),(ie=oe.tools)!=null&&ie.length&&(N+=`- Tools: ${oe.tools.join(", ")}
`),N+=`
`;else if(oe.type==="assistant"&&oe.message){N+=`## Assistant

`;for(const fe of oe.message.content||[])fe.type==="text"?N+=`${fe.text}

`:fe.type==="tool_use"&&(N+=`### Tool: ${fe.name}

`,N+=`\`\`\`json
${JSON.stringify(fe.input,null,2)}
\`\`\`

`);oe.message.usage&&(N+=`*Tokens: ${oe.message.usage.input_tokens} in, ${oe.message.usage.output_tokens} out*

`)}else if(oe.type==="user"&&oe.message){N+=`## User

`;for(const fe of oe.message.content||[])fe.type==="text"?N+=`${fe.text}

`:fe.type==="tool_result"&&(N+=`### Tool Result

`,N+=`\`\`\`
${fe.content}
\`\`\`

`)}else oe.type==="result"&&(N+=`## Execution Result

`,oe.result&&(N+=`${oe.result}

`),oe.error&&(N+=`**Error:** ${oe.error}

`));await navigator.clipboard.writeText(N),b(!1),y({message:"Output copied as Markdown",type:"success"})},ee=async()=>{p(!0),await se(),p(!1)},V=async()=>{if(!t.id){console.error("[AgentRunOutputViewer] No run ID available to stop");return}try{if(await Y.killAgentSession(t.id)){console.log(`[AgentRunOutputViewer] Successfully stopped agent session ${t.id}`),y({message:"Agent execution stopped",type:"success"}),_.current.forEach(X=>X()),_.current=[],f.current=!1;const z={type:"result",subtype:"error",is_error:!0,result:"Execution stopped by user",duration_ms:0,usage:{input_tokens:0,output_tokens:0}};o(X=>[...X,z]),setTimeout(()=>{window.location.reload()},1e3)}else console.warn(`[AgentRunOutputViewer] Failed to stop agent session ${t.id} - it may have already finished`),y({message:"Failed to stop agent - it may have already finished",type:"error"})}catch(N){console.error("[AgentRunOutputViewer] Failed to stop agent:",N),y({message:`Failed to stop execution: ${N instanceof Error?N.message:"Unknown error"}`,type:"error"})}},ue=N=>{const z=N.currentTarget,{scrollTop:X,scrollHeight:de,clientHeight:ie}=z,oe=de-X-ie;v(oe>50)};h.useEffect(()=>{if(!t.id)return;const N=U(t.id);if(N){const z=N.output.split(`
`).filter(X=>X.trim());l(z),o(N.messages)}se()},[t.id]);const pe=h.useMemo(()=>r.filter(N=>{var z,X,de;if(N.isMeta&&!N.leafUuid&&!N.summary)return!1;if(N.type==="user"&&N.message){if(N.isMeta)return!1;const ie=N.message;if(!ie.content||Array.isArray(ie.content)&&ie.content.length===0)return!1;if(Array.isArray(ie.content)){let oe=!1;for(const fe of ie.content){if(fe.type==="text"){oe=!0;break}if(fe.type==="tool_result"){let tt=!1;if(fe.tool_use_id)for(let Re=r.indexOf(N)-1;Re>=0;Re--){const H=r[Re];if(H.type==="assistant"&&((z=H.message)!=null&&z.content)&&Array.isArray(H.message.content)){const be=H.message.content.find(ne=>ne.type==="tool_use"&&ne.id===fe.tool_use_id);if(be){const ne=(X=be.name)==null?void 0:X.toLowerCase();(["task","edit","multiedit","todowrite","ls","read","glob","bash","write","grep"].includes(ne)||(de=be.name)!=null&&de.startsWith("mcp__"))&&(tt=!0);break}}}if(!tt){oe=!0;break}}}if(!oe)return!1}}return!0}),[r]),Ne=N=>{const z=_s[N]||ts;return e.jsx(z,{className:"h-5 w-5"})},$=N=>{if(!N)return"N/A";const z=Math.floor(N/1e3);if(z<60)return`${z}s`;const X=Math.floor(z/60),de=z%60;return`${X}m ${de}s`},Z=N=>N?N>=1e3?`${(N/1e3).toFixed(1)}k`:N.toString():"0";return e.jsxs(e.Fragment,{children:[e.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-40",onClick:s}),e.jsx(J.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:`fixed inset-x-4 top-[10%] bottom-[10%] z-50 max-w-4xl mx-auto ${a}`,children:e.jsxs(te,{className:"h-full flex flex-col shadow-xl",children:[e.jsx(Gs,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"mt-0.5",children:Ne(t.agent_icon)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs(Ks,{className:"text-lg flex items-center gap-2",children:[t.agent_name,t.status==="running"&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Running"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1 truncate",children:t.task}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground mt-2",children:[e.jsx(Me,{variant:"outline",className:"text-xs",children:t.model==="opus"?"Claude 4 Opus":"Claude 4 Sonnet"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ut,{className:"h-3 w-3"}),e.jsx("span",{children:rn(t.created_at)})]}),((re=t.metrics)==null?void 0:re.duration_ms)&&e.jsx("span",{children:$(t.metrics.duration_ms)}),((F=t.metrics)==null?void 0:F.total_tokens)&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(xs,{className:"h-3 w-3"}),e.jsx("span",{children:Z(t.metrics.total_tokens)})]}),((C=t.metrics)==null?void 0:C.cost_usd)&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Sr,{className:"h-3 w-3"}),e.jsxs("span",{children:["$",t.metrics.cost_usd.toFixed(4)]})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Jt,{trigger:e.jsxs(A,{variant:"ghost",size:"sm",className:"h-8 px-2",children:[e.jsx(Ts,{className:"h-4 w-4 mr-1"}),"Copy",e.jsx(ze,{className:"h-3 w-3 ml-1"})]}),content:e.jsxs("div",{className:"w-44 p-1",children:[e.jsx(A,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:R,children:"Copy as JSONL"}),e.jsx(A,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:O,children:"Copy as Markdown"})]}),open:j,onOpenChange:b,align:"end"}),n&&e.jsx(A,{variant:"ghost",size:"sm",onClick:n,title:"Open in full view",className:"h-8 px-2",children:e.jsx(Mr,{className:"h-4 w-4"})}),e.jsx(A,{variant:"ghost",size:"sm",onClick:()=>m(!u),title:u?"Exit fullscreen":"Enter fullscreen",className:"h-8 px-2",children:u?e.jsx(Dn,{className:"h-4 w-4"}):e.jsx(Ls,{className:"h-4 w-4"})}),e.jsx(A,{variant:"ghost",size:"sm",onClick:ee,disabled:x,title:"Refresh output",className:"h-8 px-2",children:e.jsx(Da,{className:`h-4 w-4 ${x?"animate-spin":""}`})}),t.status==="running"&&e.jsx(A,{variant:"ghost",size:"sm",onClick:V,disabled:x,title:"Stop execution",className:"h-8 px-2 text-destructive hover:text-destructive",children:e.jsx(Fn,{className:"h-4 w-4"})}),e.jsx(A,{variant:"ghost",size:"sm",onClick:s,className:"h-8 px-2",children:e.jsx(ot,{className:"h-4 w-4"})})]})]})}),e.jsx(qe,{className:`${u?"h-[calc(100vh-120px)]":"flex-1"} p-0 overflow-hidden`,children:d?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Gn,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Loading output..."})]})}):r.length===0?e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:e.jsx("p",{children:"No output available yet"})}):e.jsxs("div",{ref:w,className:"h-full overflow-y-auto p-4 space-y-2",onScroll:ue,children:[e.jsx(ke,{children:pe.map((N,z)=>e.jsx(J.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:e.jsx(Ps,{children:e.jsx(ln,{message:N,streamMessages:r})})},z))}),e.jsx("div",{ref:S})]})})]})}),u&&e.jsxs("div",{className:"fixed inset-0 bg-background z-[60] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[Ne(t.agent_icon),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:t.agent_name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.task})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Jt,{trigger:e.jsxs(A,{variant:"outline",size:"sm",children:[e.jsx(Ts,{className:"h-4 w-4 mr-2"}),"Copy Output",e.jsx(ze,{className:"h-3 w-3 ml-2"})]}),content:e.jsxs("div",{className:"w-44 p-1",children:[e.jsx(A,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:R,children:"Copy as JSONL"}),e.jsx(A,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:O,children:"Copy as Markdown"})]}),align:"end"}),e.jsx(A,{variant:"outline",size:"sm",onClick:ee,disabled:x,children:e.jsx(Da,{className:`h-4 w-4 ${x?"animate-spin":""}`})}),t.status==="running"&&e.jsxs(A,{variant:"outline",size:"sm",onClick:V,disabled:x,children:[e.jsx(Fn,{className:"h-4 w-4 mr-2"}),"Stop"]}),e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>m(!1),children:[e.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Exit Fullscreen"]})]})]}),e.jsx("div",{ref:E,className:"flex-1 overflow-y-auto p-6",onScroll:ue,children:e.jsx("div",{className:"max-w-4xl mx-auto space-y-2",children:r.length===0?e.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No output available yet"}):e.jsxs(e.Fragment,{children:[e.jsx(ke,{children:pe.map((N,z)=>e.jsx(J.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:e.jsx(Ps,{children:e.jsx(ln,{message:N,streamMessages:r})})},z))}),e.jsx("div",{ref:P})]})})})]}),e.jsx(Lt,{children:g&&e.jsx(Dt,{message:g.message,type:g.type,onDismiss:()=>y(null)})})]})}const ua=5,my=({runs:t,onRunClick:s,className:n})=>{const[a,r]=h.useState(1),[o,i]=h.useState(null),l=Math.ceil(t.length/ua),d=(a-1)*ua,c=d+ua,u=t.slice(d,c);Nt.useEffect(()=>{r(1)},[t.length]);const m=y=>{const j=_s[y]||ts;return e.jsx(j,{className:"h-4 w-4"})},x=y=>{if(!y)return"N/A";const j=Math.floor(y/1e3);if(j<60)return`${j}s`;const b=Math.floor(j/60),k=j%60;return`${b}m ${k}s`},p=y=>y?y>=1e3?`${(y/1e3).toFixed(1)}k`:y.toString():"0",g=y=>{s?s(y):i(y)};return t.length===0?e.jsxs("div",{className:D("text-center py-8 text-muted-foreground",n),children:[e.jsx(xn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No execution history yet"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:D("space-y-2",n),children:[e.jsx(ke,{mode:"popLayout",children:u.map((y,j)=>{var b,k;return e.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,delay:j*.05,ease:[.4,0,.2,1]},children:e.jsx(te,{className:D("cursor-pointer transition-all hover:shadow-md hover:scale-[1.01] active:scale-[0.99]",y.status==="running"&&"border-green-500/50"),onClick:()=>g(y),children:e.jsx(qe,{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:m(y.agent_icon)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"text-sm font-medium truncate",children:y.agent_name}),y.status==="running"&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Running"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground truncate mb-1",children:y.task}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ut,{className:"h-3 w-3"}),e.jsx("span",{children:rn(y.created_at)})]}),((b=y.metrics)==null?void 0:b.duration_ms)&&e.jsx("span",{children:x(y.metrics.duration_ms)}),((k=y.metrics)==null?void 0:k.total_tokens)&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(xs,{className:"h-3 w-3"}),e.jsx("span",{children:p(y.metrics.total_tokens)})]})]})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Me,{variant:y.status==="completed"?"default":y.status==="running"?"secondary":y.status==="failed"?"destructive":"outline",className:"text-xs",children:y.status==="completed"?"Completed":y.status==="running"?"Running":y.status==="failed"?"Failed":"Pending"})})]})})})},y.id)})}),l>1&&e.jsx("div",{className:"pt-2",children:e.jsx(Ir,{currentPage:a,totalPages:l,onPageChange:r})})]}),o&&e.jsx(uy,{run:o,onClose:()=>i(null)})]})},hy=({isOpen:t,onClose:s,onImportSuccess:n})=>{const[a,r]=h.useState([]),[o,i]=h.useState(!0),[l,d]=h.useState(null),[c,u]=h.useState(""),[m,x]=h.useState(null),[p,g]=h.useState(!1),[y,j]=h.useState([]);h.useEffect(()=>{t&&(k(),b())},[t]);const b=async()=>{try{const _=await Y.listAgents();j(_)}catch(_){console.error("Failed to fetch existing agents:",_)}},k=async()=>{try{i(!0),d(null);const _=await Y.fetchGitHubAgents();r(_)}catch(_){console.error("Failed to fetch GitHub agents:",_),d("Failed to fetch agents from GitHub. Please check your internet connection.")}finally{i(!1)}},v=async _=>{x({file:_,data:null,loading:!0,error:null});try{const U=await Y.fetchGitHubAgentContent(_.download_url);x({file:_,data:U,loading:!1,error:null})}catch(U){console.error("Failed to fetch agent content:",U),x({file:_,data:null,loading:!1,error:"Failed to load agent details"})}},M=_=>{const U=S(_);return y.some(K=>K.name.toLowerCase()===U.toLowerCase())},f=async()=>{if(m!=null&&m.file)try{g(!0),await Y.importAgentFromGitHub(m.file.download_url),await b(),x(null),n()}catch(_){console.error("Failed to import agent:",_),alert(`Failed to import agent: ${_ instanceof Error?_.message:"Unknown error"}`)}finally{g(!1)}},w=a.filter(_=>_.name.toLowerCase().includes(c.toLowerCase())),S=_=>_.replace(".claudia.json","").replace(/-/g," ").split(" ").map(U=>U.charAt(0).toUpperCase()+U.slice(1)).join(" "),E=_=>{const U=Cs[_]||Cs.bot;return e.jsx(U,{className:"h-8 w-8"})},P=async _=>{_.preventDefault();try{await za("https://github.com/getAsterisk/claudia/tree/main/cc_agents")}catch(U){console.error("Failed to open GitHub link:",U)}};return e.jsxs(Je,{open:t,onOpenChange:s,children:[e.jsxs(Ge,{className:"max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[e.jsx(et,{children:e.jsxs(Ye,{className:"flex items-center gap-2",children:[e.jsx(mt,{className:"h-5 w-5"}),"Import Agent from GitHub"]})}),e.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"px-4 py-3 bg-muted/50 rounded-lg mb-4",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Agents are fetched from"," ",e.jsxs("button",{onClick:P,className:"text-primary hover:underline inline-flex items-center gap-1",children:["github.com/getAsterisk/claudia/cc_agents",e.jsx(mt,{className:"h-3 w-3"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"You can contribute your custom agents to the repository!"})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(At,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(we,{placeholder:"Search agents...",value:c,onChange:_=>u(_.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:o?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(ve,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):l?e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[e.jsx(De,{className:"h-12 w-12 text-destructive mb-4"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:l}),e.jsx(A,{onClick:k,variant:"outline",size:"sm",children:"Try Again"})]}):w.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[e.jsx(Tr,{className:"h-12 w-12 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:c?"No agents found matching your search":"No agents available"})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 pb-4",children:e.jsx(ke,{mode:"popLayout",children:w.map((_,U)=>e.jsx(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2,delay:U*.05},children:e.jsxs(te,{className:"h-full hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>v(_),children:[e.jsxs(qe,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10 text-primary flex-shrink-0",children:(()=>{const K=Cs.bot;return e.jsx(K,{className:"h-6 w-6"})})()}),e.jsx("h3",{className:"text-sm font-semibold line-clamp-2",children:S(_.name)})]}),M(_.name)&&e.jsxs(Me,{variant:"secondary",className:"ml-2 flex-shrink-0",children:[e.jsx(nn,{className:"h-3 w-3 mr-1"}),"Imported"]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[(_.size/1024).toFixed(1)," KB"]})]}),e.jsx(Rr,{className:"p-4 pt-0",children:e.jsxs(A,{size:"sm",variant:"outline",className:"w-full",onClick:K=>{K.stopPropagation(),v(_)},children:[e.jsx(Fc,{className:"h-3 w-3 mr-2"}),"Preview"]})})]})},_.sha))})})})]})]}),e.jsx(ke,{children:m&&e.jsx(Je,{open:!!m,onOpenChange:()=>x(null),children:e.jsxs(Ge,{className:"max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[e.jsx(et,{children:e.jsx(Ye,{children:"Agent Preview"})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:m.loading?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(ve,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):m.error?e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[e.jsx(De,{className:"h-12 w-12 text-destructive mb-4"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:m.error})]}):m.data?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 rounded-lg bg-primary/10 text-primary",children:E(m.data.agent.icon)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold",children:m.data.agent.name}),e.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.jsx(Me,{variant:"outline",children:m.data.agent.model})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"System Prompt"}),e.jsx("div",{className:"bg-muted rounded-lg p-3 max-h-48 overflow-y-auto",children:e.jsx("pre",{className:"text-xs whitespace-pre-wrap font-mono",children:m.data.agent.system_prompt})})]}),m.data.agent.default_task&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Default Task"}),e.jsx("div",{className:"bg-muted rounded-lg p-3",children:e.jsx("p",{className:"text-sm",children:m.data.agent.default_task})})]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.jsxs("p",{children:["Version: ",m.data.version]}),e.jsxs("p",{children:["Exported: ",new Date(m.data.exported_at).toLocaleDateString()]})]})]}):null}),m.data&&e.jsxs("div",{className:"flex justify-end gap-2 mt-4 pt-4 border-t",children:[e.jsx(A,{variant:"outline",onClick:()=>x(null),children:"Cancel"}),e.jsx(A,{onClick:f,disabled:p||M(m.file.name),children:p?e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4 mr-2 animate-spin"}),"Importing..."]}):M(m.file.name)?e.jsxs(e.Fragment,{children:[e.jsx(nn,{className:"h-4 w-4 mr-2"}),"Already Imported"]}):e.jsxs(e.Fragment,{children:[e.jsx(Zt,{className:"h-4 w-4 mr-2"}),"Import Agent"]})})]})]})})})]})},_s=Cs,xy=({onBack:t,className:s})=>{const[n,a]=h.useState([]),[r,o]=h.useState([]),[i,l]=h.useState(!0),[d,c]=h.useState(!1),[u,m]=h.useState(null),[x,p]=h.useState(null),[g,y]=h.useState(1),[j,b]=h.useState("list"),[k,v]=h.useState(null),[M,f]=h.useState(!1),[w,S]=h.useState(!1),[E,P]=h.useState(null),[_,U]=h.useState(!1),K=9;h.useEffect(()=>{Q(),W()},[]);const Q=async()=>{try{l(!0),m(null);const N=await Y.listAgents();a(N)}catch(N){console.error("Failed to load agents:",N),m("Failed to load agents"),p({message:"Failed to load agents",type:"error"})}finally{l(!1)}},W=async()=>{try{c(!0);const N=await Y.listAgentRuns();o(N)}catch(N){console.error("Failed to load runs:",N)}finally{c(!1)}},se=N=>{P(N),S(!0)},L=async()=>{if(E!=null&&E.id)try{U(!0),await Y.deleteAgent(E.id),p({message:"Agent deleted successfully",type:"success"}),await Q(),await W()}catch(N){console.error("Failed to delete agent:",N),p({message:"Failed to delete agent",type:"error"})}finally{U(!1),S(!1),P(null)}},R=()=>{S(!1),P(null)},O=N=>{v(N),b("edit")},ee=N=>{v(N),b("execute")},V=async()=>{b("list"),await Q(),p({message:"Agent created successfully",type:"success"})},ue=async()=>{b("list"),await Q(),p({message:"Agent updated successfully",type:"success"})},pe=async()=>{await W()},Ne=async N=>{try{const z=await Td({defaultPath:`${N.name.toLowerCase().replace(/\s+/g,"-")}.claudia.json`,filters:[{name:"Claudia Agent",extensions:["claudia.json"]}]});if(!z)return;await G("export_agent_to_file",{id:N.id,filePath:z}),p({message:`Agent "${N.name}" exported successfully`,type:"success"})}catch(z){console.error("Failed to export agent:",z),p({message:"Failed to export agent",type:"error"})}},$=async()=>{try{const N=await $a({multiple:!1,filters:[{name:"Claudia Agent",extensions:["claudia.json","json"]}]});if(!N)return;await Y.importAgentFromFile(N),p({message:"Agent imported successfully",type:"success"}),await Q()}catch(N){console.error("Failed to import agent:",N);const z=N instanceof Error?N.message:"Failed to import agent";p({message:z,type:"error"})}},Z=Math.ceil(n.length/K),re=(g-1)*K,F=n.slice(re,re+K),C=N=>{const z=_s[N]||_s.bot;return e.jsx(z,{className:"h-12 w-12"})};return j==="create"?e.jsx(ho,{onBack:()=>b("list"),onAgentCreated:V}):j==="edit"&&k?e.jsx(ho,{agent:k,onBack:()=>b("list"),onAgentCreated:ue}):j==="execute"&&k?e.jsx(dy,{agent:k,onBack:()=>{b("list"),pe()}}):e.jsxs("div",{className:D("flex flex-col h-full bg-background",s),children:[e.jsxs("div",{className:"w-full max-w-6xl mx-auto flex flex-col h-full p-6",children:[e.jsx(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{variant:"ghost",size:"icon",onClick:t,className:"h-8 w-8",children:e.jsx(pt,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"CC Agents"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your Claude Code agents"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Wc,{children:[e.jsx(qc,{asChild:!0,children:e.jsxs(A,{size:"default",variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Zt,{className:"h-4 w-4"}),"Import",e.jsx(ze,{className:"h-3 w-3"})]})}),e.jsxs(Dr,{align:"end",children:[e.jsxs(In,{onClick:$,children:[e.jsx(Tr,{className:"h-4 w-4 mr-2"}),"From File"]}),e.jsxs(In,{onClick:()=>f(!0),children:[e.jsx(mt,{className:"h-4 w-4 mr-2"}),"From GitHub"]})]})]}),e.jsxs(A,{onClick:()=>b("create"),size:"default",className:"flex items-center gap-2",children:[e.jsx(rt,{className:"h-4 w-4"}),"Create CC Agent"]})]})]})}),u&&e.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-4 rounded-lg border border-destructive/50 bg-destructive/10 p-3 text-sm text-destructive",children:u}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx(ke,{mode:"wait",children:e.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"pt-6 space-y-8",children:[e.jsx("div",{children:i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):n.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[e.jsx(ts,{className:"h-16 w-16 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No agents yet"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create your first CC Agent to get started"}),e.jsxs(A,{onClick:()=>b("create"),size:"default",children:[e.jsx(rt,{className:"h-4 w-4 mr-2"}),"Create CC Agent"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:e.jsx(ke,{mode:"popLayout",children:F.map((N,z)=>e.jsx(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2,delay:z*.05},children:e.jsxs(te,{className:"h-full hover:shadow-lg transition-shadow",children:[e.jsxs(qe,{className:"p-6 flex flex-col items-center text-center",children:[e.jsx("div",{className:"mb-4 p-4 rounded-full bg-primary/10 text-primary",children:C(N.icon)}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:N.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Created: ",new Date(N.created_at).toLocaleDateString()]})]}),e.jsxs(Rr,{className:"p-4 pt-0 flex justify-center gap-1 flex-wrap",children:[e.jsxs(A,{size:"sm",variant:"ghost",onClick:()=>ee(N),className:"flex items-center gap-1",title:"Execute agent",children:[e.jsx(xn,{className:"h-3 w-3"}),"Execute"]}),e.jsxs(A,{size:"sm",variant:"ghost",onClick:()=>O(N),className:"flex items-center gap-1",title:"Edit agent",children:[e.jsx(_r,{className:"h-3 w-3"}),"Edit"]}),e.jsxs(A,{size:"sm",variant:"ghost",onClick:()=>Ne(N),className:"flex items-center gap-1",title:"Export agent to .claudia.json",children:[e.jsx(Ln,{className:"h-3 w-3"}),"Export"]}),e.jsxs(A,{size:"sm",variant:"ghost",onClick:()=>se(N),className:"flex items-center gap-1 text-destructive hover:text-destructive",title:"Delete agent",children:[e.jsx(dt,{className:"h-3 w-3"}),"Delete"]})]})]})},N.id))})}),Z>1&&e.jsxs("div",{className:"mt-6 flex justify-center gap-2",children:[e.jsx(A,{size:"sm",variant:"outline",onClick:()=>y(N=>Math.max(1,N-1)),disabled:g===1,children:"Previous"}),e.jsxs("span",{className:"flex items-center px-3 text-sm",children:["Page ",g," of ",Z]}),e.jsx(A,{size:"sm",variant:"outline",onClick:()=>y(N=>Math.min(Z,N+1)),disabled:g===Z,children:"Next"})]})]})}),!i&&n.length>0&&e.jsxs("div",{className:"overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(wf,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("h2",{className:"text-lg font-semibold",children:"Recent Executions"})]}),d?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):e.jsx(my,{runs:r})]})]},"agents")})})]}),e.jsx(Lt,{children:x&&e.jsx(Dt,{message:x.message,type:x.type,onDismiss:()=>p(null)})}),e.jsx(hy,{isOpen:M,onClose:()=>f(!1),onImportSuccess:async()=>{f(!1),await Q(),p({message:"Agent imported successfully from GitHub",type:"success"})}}),e.jsx(Je,{open:w,onOpenChange:S,children:e.jsxs(Ge,{className:"sm:max-w-md",children:[e.jsxs(et,{children:[e.jsxs(Ye,{className:"flex items-center gap-2",children:[e.jsx(dt,{className:"h-5 w-5 text-destructive"}),"Delete Agent"]}),e.jsxs(xt,{children:['Are you sure you want to delete the agent "',E==null?void 0:E.name,'"? This action cannot be undone and will permanently remove the agent and all its associated data.']})]}),e.jsxs(yt,{className:"flex flex-col-reverse sm:flex-row sm:justify-end gap-2",children:[e.jsx(A,{variant:"outline",onClick:R,disabled:_,className:"w-full sm:w-auto",children:"Cancel"}),e.jsx(A,{variant:"destructive",onClick:L,disabled:_,className:"w-full sm:w-auto",children:_?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Deleting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(dt,{className:"h-4 w-4 mr-2"}),"Delete Agent"]})})]})]})})]})},ys=new Map,Gt=new Map,py=t=>{var n;if(t.is_directory)return Ar;const s=(n=t.extension)==null?void 0:n.toLowerCase();return s?["ts","tsx","js","jsx","py","rs","go","java","cpp","c","h"].includes(s)?Ot:["md","txt","json","yaml","yml","toml","xml","html","css"].includes(s)?$e:["png","jpg","jpeg","gif","svg","webp","ico"].includes(s)?of:co:co},fy=t=>{if(t===0)return"";const s=1024,n=["B","KB","MB","GB"],a=Math.floor(Math.log(t)/Math.log(s));return`${parseFloat((t/Math.pow(s,a)).toFixed(1))} ${n[a]}`},gy=({basePath:t,onSelect:s,onClose:n,initialQuery:a="",className:r})=>{const o=a,[i,l]=h.useState(t),[d,c]=h.useState(()=>o.trim()?[]:ys.get(t)||[]),[u,m]=h.useState(()=>{if(o.trim()){const R=`${t}:${o}`;return Gt.get(R)||[]}return[]}),[x,p]=h.useState(!1),[g,y]=h.useState(null),[j,b]=h.useState([t]),[k,v]=h.useState(0),[M,f]=h.useState(()=>{if(o.trim()){const R=`${t}:${o}`;return Gt.has(R)}return ys.has(t)}),w=h.useRef(null),S=h.useRef(null),E=o.trim()?u:d,P=j.length>1,_=i.startsWith(t)?i.slice(t.length)||"/":i;h.useEffect(()=>{U(i)},[i]),h.useEffect(()=>{if(w.current&&clearTimeout(w.current),o.trim()){const R=`${t}:${o}`;Gt.has(R)&&(console.log("[FilePicker] Immediately showing cached search results for:",o),m(Gt.get(R)||[]),f(!0),y(null)),w.current=setTimeout(()=>{K(o)},300)}else m([]),f(!1);return()=>{w.current&&clearTimeout(w.current)}},[o,t]),h.useEffect(()=>{v(0)},[d,u]),h.useEffect(()=>{const R=O=>{const ee=o.trim()?u:d;switch(O.key){case"Escape":O.preventDefault(),n();break;case"Enter":O.preventDefault(),ee.length>0&&k<ee.length&&s(ee[k]);break;case"ArrowUp":O.preventDefault(),v(V=>Math.max(0,V-1));break;case"ArrowDown":O.preventDefault(),v(V=>Math.min(ee.length-1,V+1));break;case"ArrowRight":if(O.preventDefault(),ee.length>0&&k<ee.length){const V=ee[k];V.is_directory&&Q(V.path)}break;case"ArrowLeft":O.preventDefault(),P&&W();break}};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[d,u,k,o,P]),h.useEffect(()=>{if(S.current){const R=S.current.querySelector(`[data-index="${k}"]`);R&&R.scrollIntoView({block:"nearest",behavior:"smooth"})}},[k]);const U=async R=>{try{console.log("[FilePicker] Loading directory:",R),ys.has(R)?(console.log("[FilePicker] Showing cached contents for:",R),c(ys.get(R)||[]),f(!0),y(null)):p(!0);const O=await Y.listDirectoryContents(R);console.log("[FilePicker] Loaded fresh contents:",O.length,"items"),ys.set(R,O),c(O),f(!1),y(null)}catch(O){console.error("[FilePicker] Failed to load directory:",R,O),console.error("[FilePicker] Error details:",O),ys.has(R)||y(O instanceof Error?O.message:"Failed to load directory")}finally{p(!1)}},K=async R=>{try{console.log("[FilePicker] Searching for:",R,"in:",t);const O=`${t}:${R}`;Gt.has(O)?(console.log("[FilePicker] Showing cached search results for:",R),m(Gt.get(O)||[]),f(!0),y(null)):p(!0);const ee=await Y.searchFiles(t,R);console.log("[FilePicker] Fresh search results:",ee.length,"items"),Gt.set(O,ee),m(ee),f(!1),y(null)}catch(O){console.error("[FilePicker] Search failed:",R,O);const ee=`${t}:${R}`;Gt.has(ee)||y(O instanceof Error?O.message:"Search failed")}finally{p(!1)}},Q=R=>{l(R),b(O=>[...O,R])},W=()=>{if(j.length>1){const R=[...j];R.pop();const O=R[R.length-1];(O.startsWith(t)||O===t)&&(l(O),b(R))}},se=R=>{s(R)},L=R=>{R.is_directory&&Q(R.path)};return e.jsxs(J.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:D("absolute bottom-full mb-2 left-0 z-50","w-[500px] h-[400px]","bg-background border border-border rounded-lg shadow-lg","flex flex-col overflow-hidden",r),children:[e.jsx("div",{className:"border-b border-border p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{variant:"ghost",size:"icon",onClick:W,disabled:!P,className:"h-8 w-8",children:e.jsx(pt,{className:"h-4 w-4"})}),e.jsx("span",{className:"text-sm font-mono text-muted-foreground truncate max-w-[300px]",children:_})]}),e.jsx(A,{variant:"ghost",size:"icon",onClick:n,className:"h-8 w-8",children:e.jsx(ot,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto relative",children:[x&&E.length===0&&e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading..."})}),M&&x&&E.length>0&&e.jsx("div",{className:"absolute top-1 right-2 text-xs text-muted-foreground/50 italic",children:"updating..."}),g&&E.length===0&&e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("span",{className:"text-sm text-destructive",children:g})}),!x&&!g&&E.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx(At,{className:"h-8 w-8 text-muted-foreground mb-2"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:o.trim()?"No files found":"Empty directory"})]}),E.length>0&&e.jsx("div",{className:"p-2 space-y-0.5",ref:S,children:E.map((R,O)=>{const ee=py(R),V=o.trim()!=="",ue=O===k;return e.jsxs("button",{"data-index":O,onClick:()=>se(R),onDoubleClick:()=>L(R),onMouseEnter:()=>v(O),className:D("w-full flex items-center gap-2 px-2 py-1.5 rounded-md","hover:bg-accent transition-colors","text-left text-sm",ue&&"bg-accent"),title:R.is_directory?"Click to select  Double-click to enter":"Click to select",children:[e.jsx(ee,{className:D("h-4 w-4 flex-shrink-0",R.is_directory?"text-blue-500":"text-muted-foreground")}),e.jsx("span",{className:"flex-1 truncate",children:R.name}),!R.is_directory&&R.size>0&&e.jsx("span",{className:"text-xs text-muted-foreground",children:fy(R.size)}),R.is_directory&&e.jsx(Be,{className:"h-4 w-4 text-muted-foreground"}),V&&e.jsx("span",{className:"text-xs text-muted-foreground font-mono truncate max-w-[150px]",children:R.path.replace(t,"").replace(/^\//,"")})]},R.path)})})]}),e.jsx("div",{className:"border-t border-border p-2",children:e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:" Navigate  Enter Select   Enter Directory   Go Back  Esc Close"})})]})},bo=t=>t.has_bash_commands?Xe:t.has_file_references?Ot:t.accepts_arguments?ps:t.scope==="project"?ut:t.scope==="user"?mt:hn,yy=({projectPath:t,onSelect:s,onClose:n,initialQuery:a="",className:r})=>{const[o,i]=h.useState([]),[l,d]=h.useState([]),[c,u]=h.useState(!0),[m,x]=h.useState(null),[p,g]=h.useState(0),[y,j]=h.useState(a),b=h.useRef(null);h.useEffect(()=>{k()},[t]),h.useEffect(()=>{if(!o.length){d([]);return}const f=y.toLowerCase();if(!f)d(o);else{const w=o.filter(S=>!!(S.name.toLowerCase().includes(f)||S.full_command.toLowerCase().includes(f)||S.namespace&&S.namespace.toLowerCase().includes(f)||S.description&&S.description.toLowerCase().includes(f)));w.sort((S,E)=>{const P=S.name.toLowerCase()===f,_=E.name.toLowerCase()===f;if(P&&!_)return-1;if(!P&&_)return 1;const U=S.name.toLowerCase().startsWith(f),K=E.name.toLowerCase().startsWith(f);return U&&!K?-1:!U&&K?1:S.name.localeCompare(E.name)}),d(w)}g(0)},[y,o]),h.useEffect(()=>{const f=w=>{switch(w.key){case"Escape":w.preventDefault(),n();break;case"Enter":w.preventDefault(),l.length>0&&p<l.length&&s(l[p]);break;case"ArrowUp":w.preventDefault(),g(S=>Math.max(0,S-1));break;case"ArrowDown":w.preventDefault(),g(S=>Math.min(l.length-1,S+1));break}};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[l,p,s,n]),h.useEffect(()=>{if(b.current){const f=b.current.querySelector(`[data-index="${p}"]`);f&&f.scrollIntoView({block:"nearest",behavior:"smooth"})}},[p]);const k=async()=>{try{u(!0),x(null);const f=await Y.slashCommandsList(t);i(f)}catch(f){console.error("Failed to load slash commands:",f),x(f instanceof Error?f.message:"Failed to load commands"),i([])}finally{u(!1)}},v=f=>{s(f)},M=l.reduce((f,w)=>{const S=w.namespace||"Commands";return f[S]||(f[S]=[]),f[S].push(w),f},{});return h.useEffect(()=>{j(a)},[a]),e.jsxs(J.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:D("absolute bottom-full mb-2 left-0 z-50","w-[600px] h-[400px]","bg-background border border-border rounded-lg shadow-lg","flex flex-col overflow-hidden",r),children:[e.jsx("div",{className:"border-b border-border p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(hn,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"Slash Commands"}),y&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:['Searching: "',y,'"']})]}),e.jsx(A,{variant:"ghost",size:"icon",onClick:n,className:"h-8 w-8",children:e.jsx(ot,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto relative",children:[c&&e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("span",{className:"text-sm text-muted-foreground",children:"Loading commands..."})}),m&&e.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-4",children:[e.jsx(De,{className:"h-8 w-8 text-destructive mb-2"}),e.jsx("span",{className:"text-sm text-destructive text-center",children:m})]}),!c&&!m&&l.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[e.jsx(At,{className:"h-8 w-8 text-muted-foreground mb-2"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:y?"No commands found":"No commands available"}),!y&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-2 text-center px-4",children:["Create commands in ",e.jsx("code",{className:"px-1",children:".claude/commands/"})," or ",e.jsx("code",{className:"px-1",children:"~/.claude/commands/"})]})]}),!c&&!m&&l.length>0&&e.jsx("div",{className:"p-2",ref:b,children:Object.keys(M).length===1?e.jsx("div",{className:"space-y-0.5",children:l.map((f,w)=>{const S=bo(f),E=w===p;return e.jsxs("button",{"data-index":w,onClick:()=>v(f),onMouseEnter:()=>g(w),className:D("w-full flex items-start gap-3 px-3 py-2 rounded-md","hover:bg-accent transition-colors","text-left",E&&"bg-accent"),children:[e.jsx(S,{className:"h-4 w-4 mt-0.5 flex-shrink-0 text-muted-foreground"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"font-mono text-sm text-primary",children:f.full_command}),f.accepts_arguments&&e.jsx("span",{className:"text-xs text-muted-foreground",children:"[args]"})]}),f.description&&e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:f.description}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[f.allowed_tools.length>0&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:[f.allowed_tools.length," tool",f.allowed_tools.length===1?"":"s"]}),f.has_bash_commands&&e.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Bash"}),f.has_file_references&&e.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:"Files"})]})]})]},f.id)})}):e.jsx("div",{className:"space-y-4",children:Object.entries(M).map(([f,w])=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider px-3 mb-1",children:f}),e.jsx("div",{className:"space-y-0.5",children:w.map(S=>{const E=bo(S),P=l.indexOf(S),_=P===p;return e.jsxs("button",{"data-index":P,onClick:()=>v(S),onMouseEnter:()=>g(P),className:D("w-full flex items-start gap-3 px-3 py-2 rounded-md","hover:bg-accent transition-colors","text-left",_&&"bg-accent"),children:[e.jsx(E,{className:"h-4 w-4 mt-0.5 flex-shrink-0 text-muted-foreground"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"font-mono text-sm text-primary",children:S.full_command}),S.accepts_arguments&&e.jsx("span",{className:"text-xs text-muted-foreground",children:"[args]"})]}),S.description&&e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:S.description}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[S.allowed_tools.length>0&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:[S.allowed_tools.length," tool",S.allowed_tools.length===1?"":"s"]}),S.has_bash_commands&&e.jsx("span",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Bash"}),S.has_file_references&&e.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:"Files"})]})]})]},S.id)})})]},f))})})]}),e.jsx("div",{className:"border-t border-border p-2",children:e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:" Navigate  Enter Select  Esc Close"})})]})},ko=({images:t,onRemove:s,className:n})=>{const[a,r]=h.useState(null),[o,i]=h.useState(null),[l,d]=h.useState(new Set),c=t.slice(0,10),u=p=>{d(g=>new Set(g).add(p))},m=(p,g)=>{p.stopPropagation(),s(g)},x=p=>p.startsWith("data:")?p:Ad(p);return c.length===0?null:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:D("flex gap-2 p-2 overflow-x-auto",n),children:[e.jsx(ke,{children:c.map((p,g)=>e.jsxs(J.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.2},className:"relative flex-shrink-0 group",onMouseEnter:()=>i(g),onMouseLeave:()=>i(null),children:[e.jsxs("div",{className:"relative w-16 h-16 rounded-md overflow-hidden border border-border cursor-pointer hover:border-primary transition-colors",onClick:()=>r(g),children:[l.has(g)?e.jsx("div",{className:"w-full h-full bg-muted flex items-center justify-center",children:e.jsx("span",{className:"text-xs text-muted-foreground",children:"Error"})}):e.jsx("img",{src:x(p),alt:`Preview ${g+1}`,className:"w-full h-full object-cover",onError:()=>u(g)}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx(Ls,{className:"h-4 w-4 text-white"})})]}),e.jsx(ke,{children:o===g&&e.jsx(J.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute -top-1 -right-1 w-5 h-5 bg-destructive text-destructive-foreground rounded-full flex items-center justify-center hover:bg-destructive/90 transition-colors",onClick:y=>m(y,g),children:e.jsx(ot,{className:"h-3 w-3"})})})]},`${p}-${g}`))}),t.length>10&&e.jsx("div",{className:"flex-shrink-0 w-16 h-16 rounded-md border border-border bg-muted flex items-center justify-center",children:e.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",t.length-10]})})]}),e.jsx(Je,{open:a!==null,onOpenChange:p=>!p&&r(null),children:e.jsxs(Ge,{className:"max-w-4xl max-h-[90vh] p-0",children:[e.jsx(Ye,{className:"sr-only",children:"Image Preview"}),a!==null&&e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:[e.jsx("img",{src:x(c[a]),alt:`Full preview ${a+1}`,className:"max-w-full max-h-full object-contain",onError:()=>u(a)}),c.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-black/50 text-white rounded-full flex items-center justify-center hover:bg-black/70 transition-colors",onClick:()=>r(p=>p!==null?(p-1+c.length)%c.length:0),children:""}),e.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-black/50 text-white rounded-full flex items-center justify-center hover:bg-black/70 transition-colors",onClick:()=>r(p=>p!==null?(p+1)%c.length:0),children:""})]})]})]})})]})},Vt=[{id:"auto",name:"Auto",description:"Let Claude decide",level:0},{id:"think",name:"Think",description:"Basic reasoning",level:1,phrase:"think"},{id:"think_hard",name:"Think Hard",description:"Deeper analysis",level:2,phrase:"think hard"},{id:"think_harder",name:"Think Harder",description:"Extensive reasoning",level:3,phrase:"think harder"},{id:"ultrathink",name:"Ultrathink",description:"Maximum computation",level:4,phrase:"ultrathink"}],wn=({level:t})=>e.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4].map(s=>e.jsx("div",{className:D("w-1 h-3 rounded-full transition-colors",s<=t?"bg-blue-500":"bg-muted")},s))}),ma=[{id:"sonnet",name:"Claude 4 Sonnet",description:"Faster, efficient for most tasks",icon:e.jsx(ps,{className:"h-4 w-4"})},{id:"opus",name:"Claude 4 Opus",description:"More capable, better for complex tasks",icon:e.jsx(pn,{className:"h-4 w-4"})}],jy=({onSend:t,isLoading:s=!1,disabled:n=!1,defaultModel:a="sonnet",projectPath:r,className:o,onCancel:i},l)=>{var fe,tt,Re,H,be,ne;const[d,c]=h.useState(""),[u,m]=h.useState(a),[x,p]=h.useState("auto"),[g,y]=h.useState(!1),[j,b]=h.useState(!1),[k,v]=h.useState(!1),[M,f]=h.useState(!1),[w,S]=h.useState(""),[E,P]=h.useState(!1),[_,U]=h.useState(""),[K,Q]=h.useState(0),[W,se]=h.useState([]),[L,R]=h.useState(!1),O=h.useRef(null),ee=h.useRef(null),V=h.useRef(null);Nt.useImperativeHandle(l,()=>({addImage:I=>{c(ae=>{if(pe(ae).includes(I))return ae;const ce=I.includes(" ")?`@"${I}"`:`@${I}`,le=ae+(ae.endsWith(" ")||ae===""?"":" ")+ce+" ";return setTimeout(()=>{const ge=g?ee.current:O.current;ge==null||ge.focus(),ge==null||ge.setSelectionRange(le.length,le.length)},0),le})}}),[g]);const ue=I=>{var q;if(I.startsWith("data:image/"))return!0;const ae=(q=I.split(".").pop())==null?void 0:q.toLowerCase();return["png","jpg","jpeg","gif","svg","webp","ico","bmp"].includes(ae||"")},pe=I=>{console.log("[extractImagePaths] Input text length:",I.length);const ae=/@"([^"]+)"/g,q=/@([^@\n\s]+)/g,ce=new Set;let le=Array.from(I.matchAll(ae));console.log("[extractImagePaths] Quoted matches:",le.length);for(const Ce of le){const _e=Ce[1];console.log("[extractImagePaths] Processing quoted path:",_e.startsWith("data:")?"data URL":_e);const Ue=_e.startsWith("data:")||_e.startsWith("/")?_e:r?`${r}/${_e}`:_e;ue(Ue)&&ce.add(Ue)}let ge=I.replace(ae,"");le=Array.from(ge.matchAll(q)),console.log("[extractImagePaths] Unquoted matches:",le.length);for(const Ce of le){const _e=Ce[1].trim();if(_e.includes("data:"))continue;console.log("[extractImagePaths] Processing unquoted path:",_e);const Ue=_e.startsWith("/")?_e:r?`${r}/${_e}`:_e;ue(Ue)&&ce.add(Ue)}const Pe=Array.from(ce);return console.log("[extractImagePaths] Final extracted paths (unique):",Pe.length),Pe};h.useEffect(()=>{console.log("[useEffect] Prompt changed:",d);const I=pe(d);console.log("[useEffect] Setting embeddedImages to:",I),se(I)},[d,r]),h.useEffect(()=>{let I=0;return(async()=>{try{V.current&&V.current();const q=Ed();V.current=await q.onDragDropEvent(ce=>{if(ce.payload.type==="enter"||ce.payload.type==="over")R(!0);else if(ce.payload.type==="leave")R(!1);else if(ce.payload.type==="drop"&&ce.payload.paths){R(!1);const le=Date.now();if(le-I<200)return;I=le;const Pe=ce.payload.paths.filter(ue);Pe.length>0&&c(Ce=>{const _e=pe(Ce),Ue=Pe.filter(lt=>!_e.includes(lt));if(Ue.length===0)return Ce;const wt=Ue.map(lt=>lt.includes(" ")?`@"${lt}"`:`@${lt}`).join(" "),Is=Ce+(Ce.endsWith(" ")||Ce===""?"":" ")+wt+" ";return setTimeout(()=>{const lt=g?ee.current:O.current;lt==null||lt.focus(),lt==null||lt.setSelectionRange(Is.length,Is.length)},0),Is})}})}catch(q){console.error("Failed to set up Tauri drag-drop listener:",q)}})(),()=>{V.current&&(V.current(),V.current=null)}},[]),h.useEffect(()=>{g&&ee.current?ee.current.focus():!g&&O.current&&O.current.focus()},[g]);const Ne=()=>{if(d.trim()&&!n){let I=d.trim();const ae=Vt.find(q=>q.id===x);ae&&ae.phrase&&(I=`${I}.

${ae.phrase}.`),t(I,u),c(""),se([])}},$=I=>{const ae=I.target.value,q=I.target.selectionStart||0;if(ae.length>d.length&&ae[q-1]==="/"&&(q===1||q>1&&/\s/.test(ae[q-2]))&&(console.log("[FloatingPromptInput] / detected for slash command"),P(!0),U(""),Q(q)),r!=null&&r.trim()&&ae.length>d.length&&ae[q-1]==="@"&&(console.log("[FloatingPromptInput] @ detected, projectPath:",r),f(!0),S(""),Q(q)),E&&q>=K){let ce=-1;for(let le=q-1;le>=0;le--){if(ae[le]==="/"){ce=le;break}if(ae[le]===" "||ae[le]===`
`)break}if(ce!==-1){const le=ae.substring(ce+1,q);U(le)}else P(!1),U("")}if(M&&q>=K){let ce=-1;for(let le=q-1;le>=0;le--){if(ae[le]==="@"){ce=le;break}if(ae[le]===" "||ae[le]===`
`)break}if(ce!==-1){const le=ae.substring(ce+1,q);S(le)}else f(!1),S("")}c(ae),Q(q)},Z=I=>{if(O.current){let ae=-1;for(let Ce=K-1;Ce>=0;Ce--){if(d[Ce]==="@"){ae=Ce;break}if(d[Ce]===" "||d[Ce]===`
`)break}if(ae===-1){console.error("[FloatingPromptInput] @ position not found");return}const q=O.current,ce=d.substring(0,ae),le=d.substring(K),ge=I.path.startsWith(r||"")?I.path.slice((r||"").length+1):I.path,Pe=`${ce}@${ge} ${le}`;c(Pe),f(!1),S(""),setTimeout(()=>{q.focus();const Ce=ce.length+ge.length+2;q.setSelectionRange(Ce,Ce)},0)}},re=()=>{f(!1),S(""),setTimeout(()=>{var I;(I=O.current)==null||I.focus()},0)},F=I=>{const ae=g?ee.current:O.current;if(!ae)return;let q=-1;for(let ge=K-1;ge>=0;ge--){if(d[ge]==="/"){q=ge;break}if(d[ge]===" "||d[ge]===`
`)break}if(q===-1){console.error("[FloatingPromptInput] / position not found");return}const ce=d.substring(0,q),le=d.substring(K);if(I.accepts_arguments){const ge=`${ce}${I.full_command} `;c(ge),P(!1),U(""),setTimeout(()=>{ae.focus();const Pe=ce.length+I.full_command.length+1;ae.setSelectionRange(Pe,Pe)},0)}else{const ge=`${ce}${I.full_command} ${le}`;c(ge),P(!1),U(""),setTimeout(()=>{ae.focus();const Pe=ce.length+I.full_command.length+1;ae.setSelectionRange(Pe,Pe)},0)}},C=()=>{P(!1),U(""),setTimeout(()=>{const I=g?ee.current:O.current;I==null||I.focus()},0)},N=I=>{if(M&&I.key==="Escape"){I.preventDefault(),f(!1),S("");return}if(E&&I.key==="Escape"){I.preventDefault(),P(!1),U("");return}I.key==="Enter"&&!I.shiftKey&&!g&&!M&&!E&&(I.preventDefault(),Ne())},z=async I=>{var q;const ae=(q=I.clipboardData)==null?void 0:q.items;if(ae){for(const ce of ae)if(ce.type.startsWith("image/")){I.preventDefault();const le=ce.getAsFile();if(!le)continue;try{const ge=new FileReader;ge.onload=()=>{const Pe=ge.result;c(Ce=>{const _e=`@"${Pe}"`,Ue=Ce+(Ce.endsWith(" ")||Ce===""?"":" ")+_e+" ";return setTimeout(()=>{const wt=g?ee.current:O.current;wt==null||wt.focus(),wt==null||wt.setSelectionRange(Ue.length,Ue.length)},0),Ue})},ge.readAsDataURL(le)}catch(ge){console.error("Failed to paste image:",ge)}}}},X=I=>{I.preventDefault(),I.stopPropagation()},de=I=>{I.preventDefault(),I.stopPropagation()},ie=I=>{const ae=W[I];if(ae.startsWith("data:")){const Pe=`@"${ae}"`,Ce=d.replace(Pe,"").trim();c(Ce);return}const q=ae.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),ce=ae.replace(r+"/","").replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),le=[new RegExp(`@"${q}"\\s?`,"g"),new RegExp(`@${q}\\s?`,"g"),new RegExp(`@"${ce}"\\s?`,"g"),new RegExp(`@${ce}\\s?`,"g")];let ge=d;for(const Pe of le)ge=ge.replace(Pe,"");c(ge.trim())},oe=ma.find(I=>I.id===u)||ma[0];return e.jsxs(e.Fragment,{children:[e.jsx(ke,{children:g&&e.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-background/80 backdrop-blur-sm",onClick:()=>y(!1),children:e.jsxs(J.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-background border border-border rounded-lg shadow-lg w-full max-w-2xl p-4 space-y-4",onClick:I=>I.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Compose your prompt"}),e.jsx(A,{variant:"ghost",size:"icon",onClick:()=>y(!1),className:"h-8 w-8",children:e.jsx(Dn,{className:"h-4 w-4"})})]}),W.length>0&&e.jsx(ko,{images:W,onRemove:ie,className:"border-t border-border pt-2"}),e.jsx(hs,{ref:ee,value:d,onChange:$,onPaste:z,placeholder:"Type your prompt here...",className:"min-h-[200px] resize-none",disabled:n,onDragEnter:X,onDragLeave:X,onDragOver:X,onDrop:de}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Model:"}),e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>b(!j),className:"gap-2",children:[oe.icon,oe.name]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Thinking:"}),e.jsx(Jt,{trigger:e.jsx(Ct,{children:e.jsxs(St,{children:[e.jsx(Mt,{asChild:!0,children:e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>v(!k),className:"gap-2",children:[e.jsx($s,{className:"h-4 w-4"}),e.jsx(wn,{level:((fe=Vt.find(I=>I.id===x))==null?void 0:fe.level)||0})]})}),e.jsxs(vt,{children:[e.jsx("p",{className:"font-medium",children:((tt=Vt.find(I=>I.id===x))==null?void 0:tt.name)||"Auto"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:(Re=Vt.find(I=>I.id===x))==null?void 0:Re.description})]})]})}),content:e.jsx("div",{className:"w-[280px] p-1",children:Vt.map(I=>e.jsxs("button",{onClick:()=>{p(I.id),v(!1)},className:D("w-full flex items-start gap-3 p-3 rounded-md transition-colors text-left","hover:bg-accent",x===I.id&&"bg-accent"),children:[e.jsx($s,{className:"h-4 w-4 mt-0.5"}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("div",{className:"font-medium text-sm",children:I.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:I.description})]}),e.jsx(wn,{level:I.level})]},I.id))}),open:k,onOpenChange:v,align:"start",side:"top"})]})]}),e.jsx(A,{onClick:Ne,disabled:!d.trim()||n,size:"default",className:"min-w-[60px]",children:s?e.jsx("div",{className:"rotating-symbol text-primary-foreground"}):e.jsx(La,{className:"h-4 w-4"})})]})]})})}),e.jsx("div",{className:D("fixed bottom-0 left-0 right-0 z-40 bg-background border-t border-border",L&&"ring-2 ring-primary ring-offset-2",o),onDragEnter:X,onDragLeave:X,onDragOver:X,onDrop:de,children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[W.length>0&&e.jsx(ko,{images:W,onRemove:ie,className:"border-b border-border"}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-end gap-3",children:[e.jsx(Jt,{trigger:e.jsxs(A,{variant:"outline",size:"default",disabled:n,className:"gap-2 min-w-[180px] justify-start",children:[oe.icon,e.jsx("span",{className:"flex-1 text-left",children:oe.name}),e.jsx(cs,{className:"h-4 w-4 opacity-50"})]}),content:e.jsx("div",{className:"w-[300px] p-1",children:ma.map(I=>e.jsxs("button",{onClick:()=>{m(I.id),b(!1)},className:D("w-full flex items-start gap-3 p-3 rounded-md transition-colors text-left","hover:bg-accent",u===I.id&&"bg-accent"),children:[e.jsx("div",{className:"mt-0.5",children:I.icon}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("div",{className:"font-medium text-sm",children:I.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:I.description})]})]},I.id))}),open:j,onOpenChange:b,align:"start",side:"top"}),e.jsx(Jt,{trigger:e.jsx(Ct,{children:e.jsxs(St,{children:[e.jsx(Mt,{asChild:!0,children:e.jsxs(A,{variant:"outline",size:"default",disabled:n,className:"gap-2",children:[e.jsx($s,{className:"h-4 w-4"}),e.jsx(wn,{level:((H=Vt.find(I=>I.id===x))==null?void 0:H.level)||0})]})}),e.jsxs(vt,{children:[e.jsx("p",{className:"font-medium",children:((be=Vt.find(I=>I.id===x))==null?void 0:be.name)||"Auto"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:(ne=Vt.find(I=>I.id===x))==null?void 0:ne.description})]})]})}),content:e.jsx("div",{className:"w-[280px] p-1",children:Vt.map(I=>e.jsxs("button",{onClick:()=>{p(I.id),v(!1)},className:D("w-full flex items-start gap-3 p-3 rounded-md transition-colors text-left","hover:bg-accent",x===I.id&&"bg-accent"),children:[e.jsx($s,{className:"h-4 w-4 mt-0.5"}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("div",{className:"font-medium text-sm",children:I.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:I.description})]}),e.jsx(wn,{level:I.level})]},I.id))}),open:k,onOpenChange:v,align:"start",side:"top"}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(hs,{ref:O,value:d,onChange:$,onKeyDown:N,onPaste:z,placeholder:L?"Drop images here...":"Ask Claude anything...",disabled:n,className:D("min-h-[44px] max-h-[120px] resize-none pr-10",L&&"border-primary"),rows:1}),e.jsx(A,{variant:"ghost",size:"icon",onClick:()=>y(!0),disabled:n,className:"absolute right-1 bottom-1 h-8 w-8",children:e.jsx(Ls,{className:"h-4 w-4"})}),e.jsx(ke,{children:M&&r&&r.trim()&&e.jsx(gy,{basePath:r.trim(),onSelect:Z,onClose:re,initialQuery:w})}),e.jsx(ke,{children:E&&e.jsx(yy,{projectPath:r,onSelect:F,onClose:C,initialQuery:_})})]}),e.jsx(A,{onClick:s?i:Ne,disabled:s?!1:!d.trim()||n,variant:s?"destructive":"default",size:"default",className:"min-w-[60px]",children:s?e.jsxs(e.Fragment,{children:[e.jsx(dg,{className:"h-4 w-4 mr-1"}),"Stop"]}):e.jsx(La,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"mt-2 text-xs text-muted-foreground",children:["Press Enter to send, Shift+Enter for new line",(r==null?void 0:r.trim())&&", @ to mention files, / for commands, drag & drop or paste images"]})]})]})})]})},nd=Nt.forwardRef(jy);nd.displayName="FloatingPromptInput";const vy=({sessionId:t,projectId:s,projectPath:n,currentMessageIndex:a,onCheckpointSelect:r,onFork:o,refreshVersion:i=0,className:l})=>{const[d,c]=h.useState(null),[u,m]=h.useState(null),[x,p]=h.useState(new Set),[g,y]=h.useState(!1),[j,b]=h.useState(!1),[k,v]=h.useState(""),[M,f]=h.useState(!1),[w,S]=h.useState(null),[E,P]=h.useState(null),[_,U]=h.useState(null);h.useEffect(()=>{K()},[t,s,n,i]);const K=async()=>{try{f(!0),S(null);const V=await Y.getSessionTimeline(t,s,n);if(c(V),V.currentCheckpointId&&V.rootNode){const ue=Q(V.rootNode,V.currentCheckpointId);p(new Set(ue))}}catch(V){console.error("Failed to load timeline:",V),S("Failed to load timeline")}finally{f(!1)}},Q=(V,ue,pe=[])=>{if(V.checkpoint.id===ue)return pe;for(const Ne of V.children){const $=Q(Ne,ue,[...pe,V.checkpoint.id]);if($.length>pe.length)return $}return pe},W=async()=>{try{f(!0),S(null),await Y.createCheckpoint(t,s,n,a,k||void 0),v(""),y(!1),await K()}catch(V){console.error("Failed to create checkpoint:",V),S("Failed to create checkpoint")}finally{f(!1)}},se=async V=>{if(confirm(`Restore to checkpoint "${V.description||V.id.slice(0,8)}"? Current state will be saved as a new checkpoint.`))try{f(!0),S(null),await Y.createCheckpoint(t,s,n,a,"Auto-save before restore"),await Y.restoreCheckpoint(V.id,t,s,n),await K(),r(V)}catch(ue){console.error("Failed to restore checkpoint:",ue),S("Failed to restore checkpoint")}finally{f(!1)}},L=async V=>{o(V.id)},R=async V=>{if(!u){m(V);return}try{f(!0),S(null);const ue=await Y.getCheckpointDiff(u.id,V.id,t,s);P(ue),U(V),b(!0)}catch(ue){console.error("Failed to get diff:",ue),S("Failed to compare checkpoints")}finally{f(!1)}},O=V=>{const ue=new Set(x);ue.has(V)?ue.delete(V):ue.add(V),p(ue)},ee=(V,ue=0)=>{const pe=x.has(V.checkpoint.id),Ne=V.children.length>0,$=(d==null?void 0:d.currentCheckpointId)===V.checkpoint.id,Z=(u==null?void 0:u.id)===V.checkpoint.id;return e.jsxs("div",{className:"relative",children:[ue>0&&e.jsx("div",{className:"absolute left-0 top-0 w-6 h-6 border-l-2 border-b-2 border-muted-foreground/30",style:{left:`${(ue-1)*24}px`,borderBottomLeftRadius:"8px"}}),e.jsxs(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.2,delay:ue*.05},className:D("flex items-start gap-2 py-2",ue>0&&"ml-6"),style:{paddingLeft:`${ue*24}px`},children:[Ne&&e.jsx(A,{variant:"ghost",size:"icon",className:"h-6 w-6 -ml-1",onClick:()=>O(V.checkpoint.id),children:pe?e.jsx(ze,{className:"h-3 w-3"}):e.jsx(Be,{className:"h-3 w-3"})}),e.jsx(te,{className:D("flex-1 cursor-pointer transition-all hover:shadow-md",$&&"border-primary ring-2 ring-primary/20",Z&&"border-blue-500 bg-blue-500/5",!Ne&&"ml-5"),onClick:()=>m(V.checkpoint),children:e.jsx(qe,{className:"p-3",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[$&&e.jsx(Me,{variant:"default",className:"text-xs",children:"Current"}),e.jsx("span",{className:"text-xs font-mono text-muted-foreground",children:V.checkpoint.id.slice(0,8)}),e.jsx("span",{className:"text-xs text-muted-foreground",children:_d(new Date(V.checkpoint.timestamp),{addSuffix:!0})})]}),V.checkpoint.description&&e.jsx("p",{className:"text-sm font-medium mb-1",children:V.checkpoint.description}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:V.checkpoint.metadata.userPrompt||"No prompt"}),e.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(xs,{className:"h-3 w-3"}),V.checkpoint.metadata.totalTokens.toLocaleString()," tokens"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ot,{className:"h-3 w-3"}),V.checkpoint.metadata.fileChanges," files"]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ct,{children:e.jsxs(St,{children:[e.jsx(Mt,{asChild:!0,children:e.jsx(A,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:re=>{re.stopPropagation(),se(V.checkpoint)},children:e.jsx(Da,{className:"h-3 w-3"})})}),e.jsx(vt,{children:"Restore to this checkpoint"})]})}),e.jsx(Ct,{children:e.jsxs(St,{children:[e.jsx(Mt,{asChild:!0,children:e.jsx(A,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:re=>{re.stopPropagation(),L(V.checkpoint)},children:e.jsx(jf,{className:"h-3 w-3"})})}),e.jsx(vt,{children:"Fork from this checkpoint"})]})}),e.jsx(Ct,{children:e.jsxs(St,{children:[e.jsx(Mt,{asChild:!0,children:e.jsx(A,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:re=>{re.stopPropagation(),R(V.checkpoint)},children:e.jsx(sf,{className:"h-3 w-3"})})}),e.jsx(vt,{children:"Compare with another checkpoint"})]})})]})]})})})]}),pe&&Ne&&e.jsxs("div",{className:"relative",children:[V.children.length>1&&e.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-muted-foreground/30",style:{left:`${(ue+1)*24-1}px`}}),V.children.map(re=>ee(re,ue+1))]})]},V.checkpoint.id)};return e.jsxs("div",{className:D("space-y-4",l),children:[e.jsx("div",{className:"rounded-lg border border-yellow-500/50 bg-yellow-500/10 p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(De,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),e.jsxs("div",{className:"text-xs",children:[e.jsx("p",{className:"font-medium text-yellow-600",children:"Experimental Feature"}),e.jsx("p",{className:"text-yellow-600/80",children:"Checkpointing may affect directory structure or cause data loss. Use with caution."})]})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qt,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("h3",{className:"text-sm font-medium",children:"Timeline"}),d&&e.jsxs(Me,{variant:"outline",className:"text-xs",children:[d.totalCheckpoints," checkpoints"]})]}),e.jsxs(A,{size:"sm",variant:"default",onClick:()=>y(!0),disabled:M,children:[e.jsx(Rt,{className:"h-3 w-3 mr-1"}),"Checkpoint"]})]}),w&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-destructive",children:[e.jsx(De,{className:"h-3 w-3"}),w]}),d!=null&&d.rootNode?e.jsx("div",{className:"relative overflow-x-auto",children:ee(d.rootNode)}):e.jsx("div",{className:"text-center py-8 text-sm text-muted-foreground",children:M?"Loading timeline...":"No checkpoints yet"}),e.jsx(Je,{open:g,onOpenChange:y,children:e.jsxs(Ge,{children:[e.jsxs(et,{children:[e.jsx(Ye,{children:"Create Checkpoint"}),e.jsx(xt,{children:"Save the current state of your session with an optional description."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{htmlFor:"description",children:"Description (optional)"}),e.jsx(we,{id:"description",placeholder:"e.g., Before major refactoring",value:k,onChange:V=>v(V.target.value),onKeyPress:V=>{V.key==="Enter"&&!M&&W()}})]})}),e.jsxs(yt,{children:[e.jsx(A,{variant:"outline",onClick:()=>y(!1),disabled:M,children:"Cancel"}),e.jsx(A,{onClick:W,disabled:M,children:"Create Checkpoint"})]})]})}),e.jsx(Je,{open:j,onOpenChange:b,children:e.jsxs(Ge,{className:"max-w-3xl",children:[e.jsxs(et,{children:[e.jsx(Ye,{children:"Checkpoint Comparison"}),e.jsxs(xt,{children:['Changes between "',(u==null?void 0:u.description)||(u==null?void 0:u.id.slice(0,8)),'" and "',(_==null?void 0:_.description)||(_==null?void 0:_.id.slice(0,8)),'"']})]}),E&&e.jsxs("div",{className:"space-y-4 py-4 max-h-[60vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(te,{children:e.jsxs(qe,{className:"p-3",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Modified Files"}),e.jsx("div",{className:"text-2xl font-bold",children:E.modifiedFiles.length})]})}),e.jsx(te,{children:e.jsxs(qe,{className:"p-3",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Added Files"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:E.addedFiles.length})]})}),e.jsx(te,{children:e.jsxs(qe,{className:"p-3",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Deleted Files"}),e.jsx("div",{className:"text-2xl font-bold text-red-600",children:E.deletedFiles.length})]})})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs(Me,{variant:E.tokenDelta>0?"default":"secondary",children:[E.tokenDelta>0?"+":"",E.tokenDelta.toLocaleString()," tokens"]})}),E.modifiedFiles.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Modified Files"}),e.jsx("div",{className:"space-y-1",children:E.modifiedFiles.map(V=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"font-mono",children:V.path}),e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsxs("span",{className:"text-green-600",children:["+",V.additions]}),e.jsxs("span",{className:"text-red-600",children:["-",V.deletions]})]})]},V.path))})]}),E.addedFiles.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Added Files"}),e.jsx("div",{className:"space-y-1",children:E.addedFiles.map(V=>e.jsxs("div",{className:"text-xs font-mono text-green-600",children:["+ ",V]},V))})]}),E.deletedFiles.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Deleted Files"}),e.jsx("div",{className:"space-y-1",children:E.deletedFiles.map(V=>e.jsxs("div",{className:"text-xs font-mono text-red-600",children:["- ",V]},V))})]})]}),e.jsx(yt,{children:e.jsx(A,{variant:"outline",onClick:()=>{b(!1),P(null),U(null)},children:"Close"})})]})})]})},Co=({sessionId:t,projectId:s,projectPath:n,onClose:a,className:r})=>{const[o,i]=h.useState(!0),[l,d]=h.useState("smart"),[c,u]=h.useState(0),[m,x]=h.useState(10),[p,g]=h.useState(!1),[y,j]=h.useState(!1),[b,k]=h.useState(null),[v,M]=h.useState(null),f=[{value:"manual",label:"Manual Only"},{value:"per_prompt",label:"After Each Prompt"},{value:"per_tool_use",label:"After Tool Use"},{value:"smart",label:"Smart (Recommended)"}];h.useEffect(()=>{w()},[t,s,n]);const w=async()=>{try{g(!0),k(null);const P=await Y.getCheckpointSettings(t,s,n);i(P.auto_checkpoint_enabled),d(P.checkpoint_strategy),u(P.total_checkpoints)}catch(P){console.error("Failed to load checkpoint settings:",P),k("Failed to load checkpoint settings")}finally{g(!1)}},S=async()=>{try{j(!0),k(null),M(null),await Y.updateCheckpointSettings(t,s,n,o,l),M("Settings saved successfully"),setTimeout(()=>M(null),3e3)}catch(P){console.error("Failed to save checkpoint settings:",P),k("Failed to save checkpoint settings")}finally{j(!1)}},E=async()=>{try{g(!0),k(null),M(null);const P=await Y.cleanupOldCheckpoints(t,s,n,m);M(`Removed ${P} old checkpoints`),setTimeout(()=>M(null),3e3),await w()}catch(P){console.error("Failed to cleanup checkpoints:",P),k("Failed to cleanup checkpoints")}finally{g(!1)}};return e.jsxs(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:D("space-y-6",r),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ht,{className:"h-5 w-5"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Checkpoint Settings"})]}),a&&e.jsx(A,{variant:"ghost",size:"sm",onClick:a,children:"Close"})]}),e.jsx("div",{className:"rounded-lg border border-yellow-500/50 bg-yellow-500/10 p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(De,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),e.jsxs("div",{className:"text-xs",children:[e.jsx("p",{className:"font-medium text-yellow-600",children:"Experimental Feature"}),e.jsx("p",{className:"text-yellow-600/80",children:"Checkpointing may affect directory structure or cause data loss. Use with caution."})]})]})}),b&&e.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},className:"rounded-lg border border-destructive/50 bg-destructive/10 p-3 text-xs text-destructive",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{className:"h-4 w-4"}),b]})}),v&&e.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},className:"rounded-lg border border-green-500/50 bg-green-500/10 p-3 text-xs text-green-600",children:v}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(he,{htmlFor:"auto-checkpoint",children:"Automatic Checkpoints"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically create checkpoints based on the selected strategy"})]}),e.jsx(Vn,{id:"auto-checkpoint",checked:o,onCheckedChange:i,disabled:p})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{htmlFor:"strategy",children:"Checkpoint Strategy"}),e.jsx(On,{value:l,onValueChange:P=>d(P),options:f,disabled:p||!o}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[l==="manual"&&"Checkpoints will only be created manually",l==="per_prompt"&&"A checkpoint will be created after each user prompt",l==="per_tool_use"&&"A checkpoint will be created after each tool use",l==="smart"&&"Checkpoints will be created after destructive operations"]})]}),e.jsx(A,{onClick:S,disabled:p||y,className:"w-full",children:y?e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Rt,{className:"h-4 w-4 mr-2"}),"Save Settings"]})})]}),e.jsxs("div",{className:"border-t pt-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(he,{children:"Storage Management"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total checkpoints: ",c]})]}),e.jsx(Rn,{className:"h-5 w-5 text-muted-foreground"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{htmlFor:"keep-count",children:"Keep Recent Checkpoints"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(we,{id:"keep-count",type:"number",min:"1",max:"100",value:m,onChange:P=>x(parseInt(P.target.value)||10),disabled:p,className:"flex-1"}),e.jsxs(A,{variant:"destructive",onClick:E,disabled:p||c<=m,children:[e.jsx(dt,{className:"h-4 w-4 mr-2"}),"Clean Up"]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Remove old checkpoints, keeping only the most recent ",m]})]})]})]})},Ny=({left:t,right:s,initialSplit:n=50,minLeftWidth:a=200,minRightWidth:r=200,onSplitChange:o,className:i})=>{const[l,d]=h.useState(n),[c,u]=h.useState(!1),m=h.useRef(null),x=h.useRef(0),p=h.useRef(0),g=h.useRef(null),y=v=>{v.preventDefault(),u(!0),x.current=v.clientX,p.current=l,document.body.style.cursor="col-resize",document.body.style.userSelect="none"},j=h.useCallback(v=>{!c||!m.current||(g.current&&cancelAnimationFrame(g.current),g.current=requestAnimationFrame(()=>{const M=m.current.offsetWidth,w=(v.clientX-x.current)/M*100,S=p.current+w,E=a/M*100,P=100-r/M*100,_=Math.min(Math.max(S,E),P);d(_),o==null||o(_)}))},[c,a,r,o]),b=h.useCallback(()=>{g.current&&cancelAnimationFrame(g.current),u(!1),document.body.style.cursor="",document.body.style.userSelect=""},[]);h.useEffect(()=>{if(c)return document.addEventListener("mousemove",j),document.addEventListener("mouseup",b),()=>{document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",b)}},[c,j,b]);const k=v=>{if(!m.current)return;const M=v.shiftKey?10:2,f=m.current.offsetWidth,w=a/f*100,S=100-r/f*100;let E=l;switch(v.key){case"ArrowLeft":v.preventDefault(),E=Math.max(l-M,w);break;case"ArrowRight":v.preventDefault(),E=Math.min(l+M,S);break;case"Home":v.preventDefault(),E=w;break;case"End":v.preventDefault(),E=S;break;default:return}d(E),o==null||o(E)};return e.jsxs("div",{ref:m,className:D("flex h-full w-full relative",i),children:[e.jsx("div",{className:"h-full overflow-hidden",style:{width:`${l}%`},children:t}),e.jsxs("div",{className:D("relative flex-shrink-0 group","w-1 hover:w-2 transition-all duration-150","bg-border hover:bg-primary/50","cursor-col-resize",c&&"bg-primary w-2"),onMouseDown:y,onKeyDown:k,tabIndex:0,role:"separator","aria-label":"Resize panes","aria-valuenow":Math.round(l),"aria-valuemin":0,"aria-valuemax":100,children:[e.jsx("div",{className:"absolute inset-y-0 -left-2 -right-2 z-10"}),e.jsxs("div",{className:D("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2","flex flex-col items-center justify-center gap-1","opacity-0 group-hover:opacity-100 transition-opacity",c&&"opacity-100"),children:[e.jsx("div",{className:"w-1 h-1 bg-primary rounded-full"}),e.jsx("div",{className:"w-1 h-1 bg-primary rounded-full"}),e.jsx("div",{className:"w-1 h-1 bg-primary rounded-full"})]})]}),e.jsx("div",{className:"h-full overflow-hidden flex-1",style:{width:`${100-l}%`},children:s})]})},wy=({initialUrl:t,onClose:s,isMaximized:n=!1,onToggleMaximize:a,onUrlChange:r,className:o})=>{const[i,l]=h.useState(t),[d,c]=h.useState(t),[u,m]=h.useState(!1),[x,p]=h.useState(!1),[g,y]=h.useState(""),j=h.useRef(null),b=h.useRef(null),k=h.useRef(null);h.useEffect(()=>{const _=U=>{U.key==="Escape"&&n&&a&&a()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[n,a]),h.useEffect(()=>{console.log("[WebviewPreview] Component mounted with initialUrl:",t,"isMaximized:",n)},[]),h.useEffect(()=>{n&&b.current&&b.current.focus()},[n]),h.useEffect(()=>{if(i){m(!0),p(!1);const _=setTimeout(()=>{m(!1)},1e3);return()=>clearTimeout(_)}},[i]);const v=_=>{try{const K=new URL(_.startsWith("http")?_:`https://${_}`).href;console.log("[WebviewPreview] Navigating to:",K),l(K),c(K),p(!1),r==null||r(K)}catch{p(!0),y("Invalid URL")}},M=()=>{d.trim()&&v(d)},f=_=>{_.key==="Enter"&&M()},w=()=>{console.log("Go back")},S=()=>{console.log("Go forward")},E=()=>{m(!0),setTimeout(()=>m(!1),1e3)},P=()=>{v(t)};return e.jsxs("div",{ref:b,className:D("flex flex-col h-full bg-background border-l",o),tabIndex:-1,role:"region","aria-label":"Web preview",children:[e.jsxs("div",{className:"border-b bg-muted/30 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(mt,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"Preview"}),u&&e.jsx(ve,{className:"h-3 w-3 animate-spin text-muted-foreground"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[a&&e.jsx(Ct,{children:e.jsxs(St,{children:[e.jsx(Mt,{asChild:!0,children:e.jsx(A,{variant:"ghost",size:"icon",onClick:a,className:"h-7 w-7",children:n?e.jsx(Dn,{className:"h-3.5 w-3.5"}):e.jsx(Ls,{className:"h-3.5 w-3.5"})})}),e.jsx(vt,{children:n?"Exit full screen (ESC)":"Enter full screen"})]})}),e.jsx(A,{variant:"ghost",size:"icon",onClick:s,className:"h-7 w-7 hover:bg-destructive/10 hover:text-destructive",children:e.jsx(ot,{className:"h-3.5 w-3.5"})})]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(A,{variant:"ghost",size:"icon",onClick:w,disabled:!0,className:"h-8 w-8",children:e.jsx(pt,{className:"h-4 w-4"})}),e.jsx(A,{variant:"ghost",size:"icon",onClick:S,disabled:!0,className:"h-8 w-8",children:e.jsx(lo,{className:"h-4 w-4"})}),e.jsx(A,{variant:"ghost",size:"icon",onClick:E,disabled:u,className:"h-8 w-8",children:e.jsx(Gn,{className:D("h-4 w-4",u&&"animate-spin")})}),e.jsx(A,{variant:"ghost",size:"icon",onClick:P,className:"h-8 w-8",children:e.jsx(Lc,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(we,{value:d,onChange:_=>c(_.target.value),onKeyDown:f,placeholder:"Enter URL...",className:"pr-10 h-8 text-sm font-mono"}),d!==i&&e.jsx(A,{variant:"ghost",size:"icon",onClick:M,className:"absolute right-1 top-1 h-6 w-6",children:e.jsx(lo,{className:"h-3 w-3"})})]})]})]}),e.jsxs("div",{className:"flex-1 relative bg-background",ref:k,children:[e.jsx(ke,{children:u&&e.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-background/80 backdrop-blur-sm z-10 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(ve,{className:"h-8 w-8 animate-spin text-primary"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading preview..."})]})})}),x?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8",children:[e.jsx(De,{className:"h-12 w-12 text-destructive mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Failed to load preview"}),e.jsx("p",{className:"text-sm text-muted-foreground text-center mb-4",children:g||"The page could not be loaded. Please check the URL and try again."}),e.jsx(A,{onClick:E,variant:"outline",size:"sm",children:"Try Again"})]}):i?e.jsx("iframe",{ref:j,src:i,className:"absolute inset-0 w-full h-full border-0",title:"Preview",sandbox:"allow-same-origin allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox",onLoad:()=>m(!1),onError:()=>{p(!0),m(!1)}}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-foreground",children:[e.jsx(mt,{className:"h-16 w-16 text-muted-foreground/50 mb-6"}),e.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Enter a URL to preview"}),e.jsx("p",{className:"text-sm text-muted-foreground text-center mb-6 max-w-md",children:"Enter a URL in the address bar above to preview a website."}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:"Try entering"}),e.jsx("code",{className:"px-2 py-1 bg-muted/50 text-foreground rounded font-mono text-xs",children:"localhost:3000"}),e.jsx("span",{children:"or any other URL"})]})]})]})]})},So=Nt.memo(wy),by=({session:t,initialProjectPath:s="",onBack:n,onProjectSettings:a,className:r,onStreamingChange:o})=>{const[i,l]=h.useState(s||(t==null?void 0:t.project_path)||""),[d,c]=h.useState([]),[u,m]=h.useState(!1),[x,p]=h.useState(null),[g,y]=h.useState([]),[j,b]=h.useState(!1),[k,v]=h.useState(!t),[M,f]=h.useState(0),[w,S]=h.useState(null),[E,P]=h.useState(null),[_,U]=h.useState(!1),[K,Q]=h.useState(0),[W,se]=h.useState(!1),[L,R]=h.useState(!1),[O,ee]=h.useState(null),[V,ue]=h.useState(""),[pe,Ne]=h.useState([]),[$,Z]=h.useState(!1),[re,F]=h.useState(""),[C,N]=h.useState(!1),[z,X]=h.useState(50),[de,ie]=h.useState(!1),[oe,fe]=h.useState(!1),tt=h.useRef(null),Re=h.useRef([]),H=h.useRef(!1),be=h.useRef(null),ne=h.useRef([]),I=h.useRef(!0),ae=h.useRef(!1);h.useEffect(()=>{ne.current=pe},[pe]);const q=h.useMemo(()=>t||(w?{id:w.sessionId,project_id:w.projectId,project_path:i,created_at:Date.now()}:null),[t,w,i]),ce=h.useMemo(()=>d.filter((B,Se)=>{var xe,Ke,ye;if(B.isMeta&&!B.leafUuid&&!B.summary)return!1;if(B.type==="user"&&B.message){if(B.isMeta)return!1;const je=B.message;if(!je.content||Array.isArray(je.content)&&je.content.length===0)return!1;if(Array.isArray(je.content)){let He=!1;for(const bt of je.content){if(bt.type==="text"){He=!0;break}if(bt.type==="tool_result"){let fn=!1;if(bt.tool_use_id)for(let Vs=Se-1;Vs>=0;Vs--){const Te=d[Vs];if(Te.type==="assistant"&&((xe=Te.message)!=null&&xe.content)&&Array.isArray(Te.message.content)){const Fe=Te.message.content.find(st=>st.type==="tool_use"&&st.id===bt.tool_use_id);if(Fe){const st=(Ke=Fe.name)==null?void 0:Ke.toLowerCase();(["task","edit","multiedit","todowrite","ls","read","glob","bash","write","grep"].includes(st)||(ye=Fe.name)!=null&&ye.startsWith("mcp__"))&&(fn=!0);break}}}if(!fn){He=!0;break}}}if(!He)return!1}}return!0}),[d]),le=Oa({count:ce.length,getScrollElement:()=>tt.current,estimateSize:()=>150,overscan:5});h.useEffect(()=>{console.log("[ClaudeCodeSession] State update:",{projectPath:i,session:t,extractedSessionInfo:w,effectiveSession:q,messagesCount:d.length,isLoading:u})},[i,t,w,q,d.length,u]),h.useEffect(()=>{t&&(P(t.id),(async()=>(await ge(),I.current&&await Pe()))())},[t]),h.useEffect(()=>{o==null||o(u,E)},[u,E,o]),h.useEffect(()=>{ce.length>0&&le.scrollToIndex(ce.length-1,{align:"end",behavior:"smooth"})},[ce.length,le]),h.useEffect(()=>{const B=d.reduce((Se,xe)=>{var Ke;return(Ke=xe.message)!=null&&Ke.usage?Se+xe.message.usage.input_tokens+xe.message.usage.output_tokens:xe.usage?Se+xe.usage.input_tokens+xe.usage.output_tokens:Se},0);f(B)},[d]);const ge=async()=>{if(t)try{m(!0),p(null);const B=await Y.loadSessionHistory(t.id,t.project_id),Se=B.map(xe=>({...xe,type:xe.type||"assistant"}));c(Se),y(B.map(xe=>JSON.stringify(xe))),v(!1)}catch(B){console.error("Failed to load session history:",B),p("Failed to load session history")}finally{m(!1)}},Pe=async()=>{if(t)try{(await Y.listRunningClaudeSessions()).find(xe=>"process_type"in xe&&xe.process_type&&"ClaudeSession"in xe.process_type?xe.process_type.ClaudeSession.session_id===t.id:!1)&&(console.log("[ClaudeCodeSession] Found active session, reconnecting:",t.id),P(t.id),Ce(t.id))}catch(B){console.error("Failed to check for active sessions:",B)}},Ce=async B=>{if(console.log("[ClaudeCodeSession] Reconnecting to session:",B),ae.current){console.log("[ClaudeCodeSession] Already listening to session, skipping reconnect");return}Re.current.forEach(ye=>ye()),Re.current=[],P(B),ae.current=!0;const Se=await Qe(`claude-output:${B}`,async ye=>{try{if(console.log("[ClaudeCodeSession] Received claude-output on reconnect:",ye.payload),!I.current)return;y(He=>[...He,ye.payload]);const je=JSON.parse(ye.payload);c(He=>[...He,je])}catch(je){console.error("Failed to parse message:",je,ye.payload)}}),xe=await Qe(`claude-error:${B}`,ye=>{console.error("Claude error:",ye.payload),I.current&&p(ye.payload)}),Ke=await Qe(`claude-complete:${B}`,async ye=>{console.log("[ClaudeCodeSession] Received claude-complete on reconnect:",ye.payload),I.current&&(m(!1),H.current=!1)});Re.current=[Se,xe,Ke],I.current&&(m(!0),H.current=!0)},_e=async()=>{try{const B=await $a({directory:!0,multiple:!1,title:"Select Project Directory"});B&&(l(B),p(null))}catch(B){console.error("Failed to select directory:",B);const Se=B instanceof Error?B.message:String(B);p(`Failed to select directory: ${Se}`)}},Ue=async(B,Se)=>{if(console.log("[ClaudeCodeSession] handleSendPrompt called with:",{prompt:B,model:Se,projectPath:i,claudeSessionId:E,effectiveSession:q}),!i){p("Please select a project directory first");return}if(u){const xe={id:`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,prompt:B,model:Se};Ne(Ke=>[...Ke,xe]);return}try{if(m(!0),p(null),H.current=!0,q&&!E&&P(q.id),!ae.current){let xe=function(Te){try{if(!I.current)return;y(st=>[...st,Te]);const Fe=JSON.parse(Te);c(st=>[...st,Fe])}catch(Fe){console.error("Failed to parse message:",Fe,Te)}};Re.current.forEach(Te=>Te()),Re.current=[],ae.current=!0,console.log("[ClaudeCodeSession] Setting up generic event listeners first");let Ke=E||(q==null?void 0:q.id)||null;const ye=async Te=>{console.log("[ClaudeCodeSession] Attaching session-specific listeners for",Te);const Fe=await Qe(`claude-output:${Te}`,It=>{xe(It.payload)}),st=await Qe(`claude-error:${Te}`,It=>{console.error("Claude error (scoped):",It.payload),p(It.payload)}),qr=await Qe(`claude-complete:${Te}`,It=>{console.log("[ClaudeCodeSession] Received claude-complete (scoped):",It.payload),He(It.payload)});Re.current.forEach(It=>It()),Re.current=[Fe,st,qr]},je=await Qe("claude-output",async Te=>{xe(Te.payload);try{const Fe=JSON.parse(Te.payload);if(Fe.type==="system"&&Fe.subtype==="init"&&Fe.session_id&&(!Ke||Ke!==Fe.session_id)){if(console.log("[ClaudeCodeSession] Detected new session_id from generic listener:",Fe.session_id),Ke=Fe.session_id,P(Fe.session_id),!w){const st=i.replace(/[^a-zA-Z0-9]/g,"-");S({sessionId:Fe.session_id,projectId:st})}await ye(Fe.session_id)}}catch{}}),He=async Te=>{if(m(!1),H.current=!1,ae.current=!1,q&&Te)try{(await Y.getCheckpointSettings(q.id,q.project_id,i)).auto_checkpoint_enabled&&(await Y.checkAutoCheckpoint(q.id,q.project_id,i,B),Q(st=>st+1))}catch(Fe){console.error("Failed to check auto checkpoint:",Fe)}if(ne.current.length>0){const[Fe,...st]=ne.current;Ne(st),setTimeout(()=>{Ue(Fe.prompt,Fe.model)},100)}},bt=await Qe("claude-error",Te=>{console.error("Claude error:",Te.payload),p(Te.payload)}),fn=await Qe("claude-complete",Te=>{console.log("[ClaudeCodeSession] Received claude-complete (generic):",Te.payload),He(Te.payload)});Re.current=[je,bt,fn];const Vs={type:"user",message:{content:[{type:"text",text:B}]}};c(Te=>[...Te,Vs]),q&&!k?(console.log("[ClaudeCodeSession] Resuming session:",q.id),await Y.resumeClaudeCode(i,q.id,B,Se)):(console.log("[ClaudeCodeSession] Starting new session"),v(!1),await Y.executeClaudeCode(i,B,Se))}}catch(xe){console.error("Failed to send prompt:",xe),p("Failed to send prompt"),m(!1),H.current=!1}},wt=async()=>{const B=g.join(`
`);await navigator.clipboard.writeText(B),b(!1)},Is=async()=>{var Se,xe,Ke;let B=`# Claude Code Session

`;B+=`**Project:** ${i}
`,B+=`**Date:** ${new Date().toISOString()}

`,B+=`---

`;for(const ye of d)if(ye.type==="system"&&ye.subtype==="init")B+=`## System Initialization

`,B+=`- Session ID: \`${ye.session_id||"N/A"}\`
`,B+=`- Model: \`${ye.model||"default"}\`
`,ye.cwd&&(B+=`- Working Directory: \`${ye.cwd}\`
`),(Se=ye.tools)!=null&&Se.length&&(B+=`- Tools: ${ye.tools.join(", ")}
`),B+=`
`;else if(ye.type==="assistant"&&ye.message){B+=`## Assistant

`;for(const je of ye.message.content||[])if(je.type==="text"){const He=typeof je.text=="string"?je.text:((xe=je.text)==null?void 0:xe.text)||JSON.stringify(je.text||je);B+=`${He}

`}else je.type==="tool_use"&&(B+=`### Tool: ${je.name}

`,B+=`\`\`\`json
${JSON.stringify(je.input,null,2)}
\`\`\`

`);ye.message.usage&&(B+=`*Tokens: ${ye.message.usage.input_tokens} in, ${ye.message.usage.output_tokens} out*

`)}else if(ye.type==="user"&&ye.message){B+=`## User

`;for(const je of ye.message.content||[])if(je.type==="text"){const He=typeof je.text=="string"?je.text:((Ke=je.text)==null?void 0:Ke.text)||JSON.stringify(je.text);B+=`${He}

`}else if(je.type==="tool_result"){B+=`### Tool Result

`;let He="";typeof je.content=="string"?He=je.content:je.content&&typeof je.content=="object"&&(je.content.text?He=je.content.text:Array.isArray(je.content)?He=je.content.map(bt=>typeof bt=="string"?bt:bt.text||JSON.stringify(bt)).join(`
`):He=JSON.stringify(je.content,null,2)),B+=`\`\`\`
${He}
\`\`\`

`}}else ye.type==="result"&&(B+=`## Execution Result

`,ye.result&&(B+=`${ye.result}

`),ye.error&&(B+=`**Error:** ${ye.error}

`));await navigator.clipboard.writeText(B),b(!1)},lt=async()=>{await ge(),Q(B=>B+1)},ad=async()=>{if(!(!E||!u))try{await Y.cancelClaudeExecution(E),Re.current.forEach(Se=>Se()),Re.current=[],m(!1),H.current=!1,ae.current=!1,p(null),Ne([]);const B={type:"system",subtype:"info",result:"Session cancelled by user",timestamp:new Date().toISOString()};c(Se=>[...Se,B])}catch(B){console.error("Failed to cancel execution:",B);const Se={type:"system",subtype:"error",result:`Failed to cancel execution: ${B instanceof Error?B.message:"Unknown error"}. The process may still be running in the background.`,timestamp:new Date().toISOString()};c(xe=>[...xe,Se]),Re.current.forEach(xe=>xe()),Re.current=[],m(!1),H.current=!1,ae.current=!1,p(null)}},rd=B=>{ee(B),ue(`Fork-${new Date().toISOString().slice(0,10)}`),R(!0)},zr=async()=>{if(!(!O||!V.trim()||!q))try{m(!0),p(null);const B=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`;await Y.forkFromCheckpoint(O,q.id,q.project_id,i,B,V),console.log("Forked to new session:",B),R(!1),ee(null),ue("")}catch(B){console.error("Failed to fork checkpoint:",B),p("Failed to fork checkpoint")}finally{m(!1)}},id=B=>{!$&&!C&&(F(B),N(!0))},$r=()=>{Z(!1),ie(!1)},Br=B=>{console.log("[ClaudeCodeSession] Preview URL changed to:",B),F(B)},Ur=()=>{ie(!de),de&&X(50)};h.useEffect(()=>(I.current=!0,()=>{console.log("[ClaudeCodeSession] Component unmounting, cleaning up listeners"),I.current=!1,ae.current=!1,Re.current.forEach(B=>B()),Re.current=[],q&&Y.clearCheckpointManager(q.id).catch(B=>{console.error("Failed to clear checkpoint manager:",B)})}),[q,i]);const Hr=e.jsxs("div",{ref:tt,className:"flex-1 overflow-y-auto relative pb-40",style:{contain:"strict"},children:[e.jsx("div",{className:"relative w-full max-w-5xl mx-auto px-4 pt-8 pb-4",style:{height:`${Math.max(le.getTotalSize(),100)}px`,minHeight:"100px"},children:e.jsx(ke,{children:le.getVirtualItems().map(B=>{const Se=ce[B.index];return e.jsx(J.div,{"data-index":B.index,ref:xe=>xe&&le.measureElement(xe),initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"absolute inset-x-4 pb-4",style:{top:B.start},children:e.jsx(ln,{message:Se,streamMessages:d,onLinkDetected:id})},B.key)})})}),u&&e.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center justify-center py-4 mb-40",children:e.jsx("div",{className:"rotating-symbol text-primary"})}),x&&e.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},className:"rounded-lg border border-destructive/50 bg-destructive/10 p-4 text-sm text-destructive mb-40 w-full max-w-5xl mx-auto",children:x})]}),Wr=!t&&e.jsxs(J.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"p-4 border-b border-border flex-shrink-0",children:[e.jsx(he,{htmlFor:"project-path",className:"text-sm font-medium",children:"Project Directory"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(we,{id:"project-path",value:i,onChange:B=>l(B.target.value),placeholder:"/path/to/your/project",className:"flex-1",disabled:u}),e.jsx(A,{onClick:_e,size:"icon",variant:"outline",disabled:u,children:e.jsx(ut,{className:"h-4 w-4"})})]})]});return $&&de?e.jsx(ke,{children:e.jsx(J.div,{className:"fixed inset-0 z-50 bg-background",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:e.jsx(So,{initialUrl:re,onClose:$r,isMaximized:de,onToggleMaximize:Ur,onUrlChange:Br,className:"h-full"})})}):e.jsxs("div",{className:D("flex flex-col h-full bg-background",r),children:[e.jsxs("div",{className:"w-full h-full flex flex-col",children:[e.jsxs(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex items-center justify-between p-4 border-b border-border",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(A,{variant:"ghost",size:"icon",onClick:n,className:"h-8 w-8",children:e.jsx(pt,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xl font-bold",children:"Claude Code Session"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i?`${i}`:"No project selected"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[i&&a&&e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>a(i),disabled:u,children:[e.jsx(Ht,{className:"h-4 w-4 mr-2"}),"Hooks"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[W&&e.jsx(Co,{sessionId:(q==null?void 0:q.id)||"",projectId:(q==null?void 0:q.project_id)||"",projectPath:i}),e.jsx(Ct,{children:e.jsxs(St,{children:[e.jsx(Mt,{asChild:!0,children:e.jsx(A,{variant:"ghost",size:"icon",onClick:()=>se(!W),className:"h-8 w-8",children:e.jsx(Ht,{className:D("h-4 w-4",W&&"text-primary")})})}),e.jsx(vt,{children:e.jsx("p",{children:"Checkpoint Settings"})})]})}),q&&e.jsx(Ct,{children:e.jsxs(St,{children:[e.jsx(Mt,{asChild:!0,children:e.jsx(A,{variant:"ghost",size:"icon",onClick:()=>U(!_),className:"h-8 w-8",children:e.jsx(Qt,{className:D("h-4 w-4",_&&"text-primary")})})}),e.jsx(vt,{children:e.jsx("p",{children:"Timeline Navigator"})})]})}),d.length>0&&e.jsx(Jt,{trigger:e.jsxs(A,{variant:"ghost",size:"sm",className:"flex items-center gap-2",children:[e.jsx(Ts,{className:"h-4 w-4"}),"Copy Output",e.jsx(ze,{className:"h-3 w-3"})]}),content:e.jsxs("div",{className:"w-44 p-1",children:[e.jsx(A,{variant:"ghost",size:"sm",onClick:Is,className:"w-full justify-start",children:"Copy as Markdown"}),e.jsx(A,{variant:"ghost",size:"sm",onClick:wt,className:"w-full justify-start",children:"Copy as JSONL"})]}),open:j,onOpenChange:b})]})]})]}),e.jsx("div",{className:D("flex-1 overflow-hidden transition-all duration-300",_&&"sm:mr-96"),children:$?e.jsx(Ny,{left:e.jsxs("div",{className:"h-full flex flex-col",children:[Wr,Hr]}),right:e.jsx(So,{initialUrl:re,onClose:$r,isMaximized:de,onToggleMaximize:Ur,onUrlChange:Br}),initialSplit:z,onSplitChange:X,minLeftWidth:400,minRightWidth:400,className:"h-full"}):e.jsxs("div",{className:"h-full flex flex-col max-w-5xl mx-auto",children:[Wr,Hr,u&&d.length===0&&e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"rotating-symbol text-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:t?"Loading session history...":"Initializing Claude Code..."})]})})]})}),e.jsxs(Ps,{children:[e.jsx(ke,{children:pe.length>0&&e.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"fixed bottom-24 left-1/2 -translate-x-1/2 z-30 w-full max-w-3xl px-4",children:e.jsxs("div",{className:"bg-background/95 backdrop-blur-md border rounded-lg shadow-lg p-3 space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs font-medium text-muted-foreground mb-1",children:["Queued Prompts (",pe.length,")"]}),e.jsx(A,{variant:"ghost",size:"icon",onClick:()=>fe(B=>!B),children:oe?e.jsx(cs,{className:"h-3 w-3"}):e.jsx(ze,{className:"h-3 w-3"})})]}),!oe&&pe.map((B,Se)=>e.jsxs(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{delay:Se*.05},className:"flex items-start gap-2 bg-muted/50 rounded-md p-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["#",Se+1]}),e.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-primary/10 text-primary rounded",children:B.model==="opus"?"Opus":"Sonnet"})]}),e.jsx("p",{className:"text-sm line-clamp-2 break-words",children:B.prompt})]}),e.jsx(A,{variant:"ghost",size:"icon",className:"h-6 w-6 flex-shrink-0",onClick:()=>Ne(xe=>xe.filter(Ke=>Ke.id!==B.id)),children:e.jsx(ot,{className:"h-3 w-3"})})]},B.id))]})})}),ce.length>5&&e.jsx(J.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{delay:.5},className:"fixed bottom-32 right-6 z-50",children:e.jsxs("div",{className:"flex items-center bg-background/95 backdrop-blur-md border rounded-full shadow-lg overflow-hidden",children:[e.jsx(A,{variant:"ghost",size:"sm",onClick:()=>{var B;ce.length>0&&((B=tt.current)==null||B.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{tt.current&&(tt.current.scrollTop=1,requestAnimationFrame(()=>{tt.current&&(tt.current.scrollTop=0)}))},500))},className:"px-3 py-2 hover:bg-accent rounded-none",title:"Scroll to top",children:e.jsx(cs,{className:"h-4 w-4"})}),e.jsx("div",{className:"w-px h-4 bg-border"}),e.jsx(A,{variant:"ghost",size:"sm",onClick:()=>{if(ce.length>0){const B=tt.current;B&&B.scrollTo({top:B.scrollHeight,behavior:"smooth"})}},className:"px-3 py-2 hover:bg-accent rounded-none",title:"Scroll to bottom",children:e.jsx(ze,{className:"h-4 w-4"})})]})}),e.jsx("div",{className:D("fixed bottom-0 left-0 right-0 transition-all duration-300 z-50",_&&"sm:right-96"),children:e.jsx(nd,{ref:be,onSend:Ue,onCancel:ad,isLoading:u,disabled:!i,projectPath:i})}),M>0&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-30 pointer-events-none",children:e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsx("div",{className:"flex justify-end px-4 pb-2",children:e.jsx(J.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"bg-background/95 backdrop-blur-md border rounded-full px-3 py-1 shadow-lg pointer-events-auto",children:e.jsxs("div",{className:"flex items-center gap-1.5 text-xs",children:[e.jsx(xs,{className:"h-3 w-3 text-muted-foreground"}),e.jsx("span",{className:"font-mono",children:M.toLocaleString()}),e.jsx("span",{className:"text-muted-foreground",children:"tokens"})]})})})})})]}),e.jsx(ke,{children:_&&q&&e.jsx(J.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:20,stiffness:300},className:"fixed right-0 top-0 h-full w-full sm:w-96 bg-background border-l border-border shadow-xl z-30 overflow-hidden",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Session Timeline"}),e.jsx(A,{variant:"ghost",size:"icon",onClick:()=>U(!1),className:"h-8 w-8",children:e.jsx(ot,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:e.jsx(vy,{sessionId:q.id,projectId:q.project_id,projectPath:i,currentMessageIndex:d.length-1,onCheckpointSelect:lt,onFork:rd,refreshVersion:K})})]})})})]}),e.jsx(Je,{open:L,onOpenChange:R,children:e.jsxs(Ge,{children:[e.jsxs(et,{children:[e.jsx(Ye,{children:"Fork Session"}),e.jsx(xt,{children:"Create a new session branch from the selected checkpoint."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{htmlFor:"fork-name",children:"New Session Name"}),e.jsx(we,{id:"fork-name",placeholder:"e.g., Alternative approach",value:V,onChange:B=>ue(B.target.value),onKeyPress:B=>{B.key==="Enter"&&!u&&zr()}})]})}),e.jsxs(yt,{children:[e.jsx(A,{variant:"outline",onClick:()=>R(!1),disabled:u,children:"Cancel"}),e.jsx(A,{onClick:zr,disabled:u||!V.trim(),children:"Create Fork"})]})]})}),W&&q&&e.jsx(Je,{open:W,onOpenChange:se,children:e.jsx(Ge,{className:"max-w-2xl",children:e.jsx(Co,{sessionId:q.id,projectId:q.project_id,projectPath:i,onClose:()=>se(!1)})})})]})},ky=({onBack:t})=>{const[s,n]=h.useState(!0),[a,r]=h.useState(null),[o,i]=h.useState(null),[l,d]=h.useState(null),[c,u]=h.useState("all"),[m,x]=h.useState("overview");h.useEffect(()=>{p()},[c]);const p=async()=>{try{n(!0),r(null);let v,M;if(c==="all")v=await Y.getUsageStats(),M=await Y.getSessionStats();else{const f=new Date,w=new Date,S=c==="7d"?7:30;w.setDate(w.getDate()-S);const E=P=>{const _=P.getFullYear(),U=String(P.getMonth()+1).padStart(2,"0"),K=String(P.getDate()).padStart(2,"0");return`${_}${U}${K}`};v=await Y.getUsageByDateRange(w.toISOString(),f.toISOString()),M=await Y.getSessionStats(E(w),E(f),"desc")}i(v),d(M)}catch(v){console.error("Failed to load usage stats:",v),r("Failed to load usage statistics. Please try again.")}finally{n(!1)}},g=v=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:4}).format(v),y=v=>new Intl.NumberFormat("en-US").format(v),j=v=>v>=1e6?`${(v/1e6).toFixed(2)}M`:v>=1e3?`${(v/1e3).toFixed(1)}K`:y(v),b=v=>({"claude-4-opus":"Opus 4","claude-4-sonnet":"Sonnet 4","claude-3.5-sonnet":"Sonnet 3.5","claude-3-opus":"Opus 3"})[v]||v,k=v=>v.includes("opus")?"text-purple-500":v.includes("sonnet")?"text-blue-500":"text-gray-500";return e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(A,{variant:"ghost",size:"icon",onClick:t,className:"h-8 w-8",children:e.jsx(pt,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Usage Dashboard"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Track your Claude Code usage and costs"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(df,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("div",{className:"flex space-x-1",children:["all","30d","7d"].map(v=>e.jsx(A,{variant:c===v?"default":"ghost",size:"sm",onClick:()=>u(v),className:"text-xs",children:v==="all"?"All Time":v==="7d"?"Last 7 Days":"Last 30 Days"},v))})]})]})}),e.jsx("div",{className:"flex-1 overflow-auto p-4",children:s?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ve,{className:"h-8 w-8 animate-spin text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading usage statistics..."})]})}):a?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center max-w-md",children:[e.jsx("p",{className:"text-sm text-destructive mb-4",children:a}),e.jsx(A,{onClick:p,size:"sm",children:"Try Again"})]})}):o?e.jsxs(J.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"max-w-6xl mx-auto space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(te,{className:"p-4 shimmer-hover",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Cost"}),e.jsx("p",{className:"text-2xl font-bold mt-1",children:g(o.total_cost)})]}),e.jsx(Sr,{className:"h-8 w-8 text-muted-foreground/20 rotating-symbol"})]})}),e.jsx(te,{className:"p-4 shimmer-hover",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Sessions"}),e.jsx("p",{className:"text-2xl font-bold mt-1",children:y(o.total_sessions)})]}),e.jsx($e,{className:"h-8 w-8 text-muted-foreground/20 rotating-symbol"})]})}),e.jsx(te,{className:"p-4 shimmer-hover",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Tokens"}),e.jsx("p",{className:"text-2xl font-bold mt-1",children:j(o.total_tokens)})]}),e.jsx(kr,{className:"h-8 w-8 text-muted-foreground/20 rotating-symbol"})]})}),e.jsx(te,{className:"p-4 shimmer-hover",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Cost/Session"}),e.jsx("p",{className:"text-2xl font-bold mt-1",children:g(o.total_sessions>0?o.total_cost/o.total_sessions:0)})]}),e.jsx(Bc,{className:"h-8 w-8 text-muted-foreground/20 rotating-symbol"})]})})]}),e.jsxs(ss,{value:m,onValueChange:x,children:[e.jsxs(qt,{className:"grid w-full grid-cols-5",children:[e.jsx(Ae,{value:"overview",children:"Overview"}),e.jsx(Ae,{value:"models",children:"By Model"}),e.jsx(Ae,{value:"projects",children:"By Project"}),e.jsx(Ae,{value:"sessions",children:"By Session"}),e.jsx(Ae,{value:"timeline",children:"Timeline"})]}),e.jsxs(Ee,{value:"overview",className:"space-y-4",children:[e.jsxs(te,{className:"p-6",children:[e.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Token Breakdown"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Input Tokens"}),e.jsx("p",{className:"text-lg font-semibold",children:j(o.total_input_tokens)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Output Tokens"}),e.jsx("p",{className:"text-lg font-semibold",children:j(o.total_output_tokens)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Cache Write"}),e.jsx("p",{className:"text-lg font-semibold",children:j(o.total_cache_creation_tokens)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Cache Read"}),e.jsx("p",{className:"text-lg font-semibold",children:j(o.total_cache_read_tokens)})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(te,{className:"p-6",children:[e.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Most Used Models"}),e.jsx("div",{className:"space-y-3",children:o.by_model.slice(0,3).map(v=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Me,{variant:"outline",className:D("text-xs",k(v.model)),children:b(v.model)}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[v.session_count," sessions"]})]}),e.jsx("span",{className:"text-sm font-medium",children:g(v.total_cost)})]},v.model))})]}),e.jsxs(te,{className:"p-6",children:[e.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Top Projects"}),e.jsx("div",{className:"space-y-3",children:o.by_project.slice(0,3).map(v=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium truncate max-w-[200px]",title:v.project_path,children:v.project_path}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[v.session_count," sessions"]})]}),e.jsx("span",{className:"text-sm font-medium",children:g(v.total_cost)})]},v.project_path))})]})]})]}),e.jsx(Ee,{value:"models",children:e.jsxs(te,{className:"p-6",children:[e.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Usage by Model"}),e.jsx("div",{className:"space-y-4",children:o.by_model.map(v=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Me,{variant:"outline",className:D("text-xs",k(v.model)),children:b(v.model)}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[v.session_count," sessions"]})]}),e.jsx("span",{className:"text-sm font-semibold",children:g(v.total_cost)})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Input: "}),e.jsx("span",{className:"font-medium",children:j(v.input_tokens)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Output: "}),e.jsx("span",{className:"font-medium",children:j(v.output_tokens)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Cache W: "}),e.jsx("span",{className:"font-medium",children:j(v.cache_creation_tokens)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Cache R: "}),e.jsx("span",{className:"font-medium",children:j(v.cache_read_tokens)})]})]})]},v.model))})]})}),e.jsx(Ee,{value:"projects",children:e.jsxs(te,{className:"p-6",children:[e.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Usage by Project"}),e.jsx("div",{className:"space-y-3",children:o.by_project.map(v=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-0",children:[e.jsxs("div",{className:"flex flex-col truncate",children:[e.jsx("span",{className:"text-sm font-medium truncate",title:v.project_path,children:v.project_path}),e.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:[v.session_count," sessions"]}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[j(v.total_tokens)," tokens"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-semibold",children:g(v.total_cost)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[g(v.total_cost/v.session_count),"/session"]})]})]},v.project_path))})]})}),e.jsx(Ee,{value:"sessions",children:e.jsxs(te,{className:"p-6",children:[e.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Usage by Session"}),e.jsx("div",{className:"space-y-3",children:l==null?void 0:l.map(v=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-0",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tc,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-xs font-mono text-muted-foreground truncate max-w-[200px]",title:v.project_path,children:v.project_path.split("/").slice(-2).join("/")})]}),e.jsx("span",{className:"text-sm font-medium mt-1",children:v.project_name})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-semibold",children:g(v.total_cost)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(v.last_used).toLocaleDateString()})]})]},`${v.project_path}-${v.project_name}`))})]})}),e.jsx(Ee,{value:"timeline",children:e.jsxs(te,{className:"p-6",children:[e.jsxs("h3",{className:"text-sm font-semibold mb-6 flex items-center space-x-2",children:[e.jsx(Hn,{className:"h-4 w-4"}),e.jsx("span",{children:"Daily Usage"})]}),o.by_date.length>0?(()=>{const v=Math.max(...o.by_date.map(f=>f.total_cost),0),M=v/2;return e.jsxs("div",{className:"relative pl-8 pr-4",children:[e.jsxs("div",{className:"absolute left-0 top-0 bottom-8 flex flex-col justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:g(v)}),e.jsx("span",{children:g(M)}),e.jsx("span",{children:g(0)})]}),e.jsx("div",{className:"flex items-end space-x-2 h-64 border-l border-b border-border pl-4",children:o.by_date.slice().reverse().map(f=>{const w=v>0?f.total_cost/v*100:0,S=new Date(f.date.replace(/-/g,"/")),E=S.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return e.jsxs("div",{className:"flex-1 h-full flex flex-col items-center justify-end group relative",children:[e.jsxs("div",{className:"absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-10",children:[e.jsxs("div",{className:"bg-background border border-border rounded-lg shadow-lg p-3 whitespace-nowrap",children:[e.jsx("p",{className:"text-sm font-semibold",children:E}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Cost: ",g(f.total_cost)]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[j(f.total_tokens)," tokens"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[f.models_used.length," model",f.models_used.length!==1?"s":""]})]}),e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1",children:e.jsx("div",{className:"border-4 border-transparent border-t-border"})})]}),e.jsx("div",{className:"w-full bg-[#d97757] hover:opacity-80 transition-opacity rounded-t cursor-pointer",style:{height:`${w}%`}}),e.jsx("div",{className:"absolute left-1/2 top-full mt-1 -translate-x-1/2 text-xs text-muted-foreground -rotate-45 origin-top-left whitespace-nowrap pointer-events-none",children:S.toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},f.date)})}),e.jsx("div",{className:"mt-8 text-center text-xs text-muted-foreground",children:"Daily Usage Over Time"})]})})():e.jsx("div",{className:"text-center py-8 text-sm text-muted-foreground",children:"No usage data available for the selected period"})]})})]})]}):null})]})},Cy=({servers:t,loading:s,onServerRemoved:n,onRefresh:a})=>{const[r,o]=h.useState(null),[i,l]=h.useState(null),[d,c]=h.useState(new Set),[u,m]=h.useState(null),x=t.reduce((f,w)=>{const S=w.scope||"local";return f[S]||(f[S]=[]),f[S].push(w),f},{}),p=f=>{c(w=>{const S=new Set(w);return S.has(f)?S.delete(f):S.add(f),S})},g=async(f,w)=>{try{await navigator.clipboard.writeText(f),m(w),setTimeout(()=>m(null),2e3)}catch(S){console.error("Failed to copy command:",S)}},y=async f=>{try{o(f),await Y.mcpRemove(f),n(f)}catch(w){console.error("Failed to remove server:",w)}finally{o(null)}},j=async f=>{try{l(f);const w=await Y.mcpTestConnection(f);console.log("Test result:",w)}catch(w){console.error("Failed to test connection:",w)}finally{l(null)}},b=f=>{switch(f){case"stdio":return e.jsx(Xe,{className:"h-4 w-4 text-amber-500"});case"sse":return e.jsx(mt,{className:"h-4 w-4 text-emerald-500"});default:return e.jsx(ds,{className:"h-4 w-4 text-blue-500"})}},k=f=>{switch(f){case"local":return e.jsx(Fr,{className:"h-3 w-3 text-slate-500"});case"project":return e.jsx(ut,{className:"h-3 w-3 text-orange-500"});case"user":return e.jsx($e,{className:"h-3 w-3 text-purple-500"});default:return null}},v=f=>{switch(f){case"local":return"Local (Project-specific)";case"project":return"Project (Shared via .mcp.json)";case"user":return"User (All projects)";default:return f}},M=f=>{var E;const w=d.has(f.name),S=u===f.name;return e.jsx(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"group p-4 rounded-lg border border-border bg-card hover:bg-accent/5 hover:border-primary/20 transition-all overflow-hidden",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-primary/10 rounded",children:b(f.transport)}),e.jsx("h4",{className:"font-medium truncate",children:f.name}),((E=f.status)==null?void 0:E.running)&&e.jsxs(Me,{variant:"outline",className:"gap-1 flex-shrink-0 border-green-500/50 text-green-600 bg-green-500/10",children:[e.jsx(Cr,{className:"h-3 w-3"}),"Running"]})]}),f.command&&!w&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground font-mono truncate pl-9 flex-1",title:f.command,children:f.command}),e.jsxs(A,{variant:"ghost",size:"sm",onClick:()=>p(f.name),className:"h-6 px-2 text-xs hover:bg-primary/10",children:[e.jsx(ze,{className:"h-3 w-3 mr-1"}),"Show full"]})]}),f.transport==="sse"&&f.url&&!w&&e.jsx("div",{className:"overflow-hidden",children:e.jsx("p",{className:"text-xs text-muted-foreground font-mono truncate pl-9",title:f.url,children:f.url})}),Object.keys(f.env).length>0&&!w&&e.jsx("div",{className:"flex items-center gap-1 text-xs text-muted-foreground pl-9",children:e.jsxs("span",{children:["Environment variables: ",Object.keys(f.env).length]})})]}),e.jsxs("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity flex-shrink-0",children:[e.jsx(A,{variant:"ghost",size:"sm",onClick:()=>j(f.name),disabled:i===f.name,className:"hover:bg-green-500/10 hover:text-green-600",children:i===f.name?e.jsx(ve,{className:"h-4 w-4 animate-spin"}):e.jsx(xn,{className:"h-4 w-4"})}),e.jsx(A,{variant:"ghost",size:"sm",onClick:()=>y(f.name),disabled:r===f.name,className:"hover:bg-destructive/10 hover:text-destructive",children:r===f.name?e.jsx(ve,{className:"h-4 w-4 animate-spin"}):e.jsx(dt,{className:"h-4 w-4"})})]})]}),w&&e.jsxs(J.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"pl-9 space-y-3 pt-2 border-t border-border/50",children:[f.command&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Command"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs(A,{variant:"ghost",size:"sm",onClick:()=>g(f.command,f.name),className:"h-6 px-2 text-xs hover:bg-primary/10",children:[e.jsx(Ts,{className:"h-3 w-3 mr-1"}),S?"Copied!":"Copy"]}),e.jsxs(A,{variant:"ghost",size:"sm",onClick:()=>p(f.name),className:"h-6 px-2 text-xs hover:bg-primary/10",children:[e.jsx(cs,{className:"h-3 w-3 mr-1"}),"Hide"]})]})]}),e.jsx("p",{className:"text-xs font-mono bg-muted/50 p-2 rounded break-all",children:f.command})]}),f.args&&f.args.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Arguments"}),e.jsx("div",{className:"text-xs font-mono bg-muted/50 p-2 rounded space-y-1",children:f.args.map((P,_)=>e.jsxs("div",{className:"break-all",children:[e.jsxs("span",{className:"text-muted-foreground mr-2",children:["[",_,"]"]}),P]},_))})]}),f.transport==="sse"&&f.url&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"URL"}),e.jsx("p",{className:"text-xs font-mono bg-muted/50 p-2 rounded break-all",children:f.url})]}),Object.keys(f.env).length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Environment Variables"}),e.jsx("div",{className:"text-xs font-mono bg-muted/50 p-2 rounded space-y-1",children:Object.entries(f.env).map(([P,_])=>e.jsxs("div",{className:"break-all",children:[e.jsx("span",{className:"text-primary",children:P}),e.jsx("span",{className:"text-muted-foreground mx-1",children:"="}),e.jsx("span",{children:_})]},P))})]})]})]})},f.name)};return s?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(ve,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold",children:"Configured Servers"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.length," server",t.length!==1?"s":""," configured"]})]}),e.jsxs(A,{variant:"outline",size:"sm",onClick:a,className:"gap-2 hover:bg-primary/10 hover:text-primary hover:border-primary/50",children:[e.jsx(Gn,{className:"h-4 w-4"}),"Refresh"]})]}),t.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("div",{className:"p-4 bg-primary/10 rounded-full mb-4",children:e.jsx(ds,{className:"h-12 w-12 text-primary"})}),e.jsx("p",{className:"text-muted-foreground mb-2 font-medium",children:"No MCP servers configured"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Add a server to get started with Model Context Protocol"})]}):e.jsx("div",{className:"space-y-6",children:Object.entries(x).map(([f,w])=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[k(f),e.jsx("span",{className:"font-medium",children:v(f)}),e.jsxs("span",{className:"text-muted-foreground/60",children:["(",w.length,")"]})]}),e.jsx(ke,{children:e.jsx("div",{className:"space-y-2",children:w.map(M)})})]},f))})]})},Sy=({onServerAdded:t,onError:s})=>{const[n,a]=h.useState("stdio"),[r,o]=h.useState(!1),[i,l]=h.useState(""),[d,c]=h.useState(""),[u,m]=h.useState(""),[x,p]=h.useState("local"),[g,y]=h.useState([]),[j,b]=h.useState(""),[k,v]=h.useState(""),[M,f]=h.useState("local"),[w,S]=h.useState([]),E=W=>{const se={id:`env-${Date.now()}`,key:"",value:""};W==="stdio"?y(L=>[...L,se]):S(L=>[...L,se])},P=(W,se,L,R)=>{W==="stdio"?y(O=>O.map(ee=>ee.id===se?{...ee,[L]:R}:ee)):S(O=>O.map(ee=>ee.id===se?{...ee,[L]:R}:ee))},_=(W,se)=>{W==="stdio"?y(L=>L.filter(R=>R.id!==se)):S(L=>L.filter(R=>R.id!==se))},U=async()=>{if(!i.trim()){s("Server name is required");return}if(!d.trim()){s("Command is required");return}try{o(!0);const W=u.trim()?u.split(/\s+/):[],se=g.reduce((R,{key:O,value:ee})=>(O.trim()&&ee.trim()&&(R[O]=ee),R),{}),L=await Y.mcpAdd(i,"stdio",d,W,se,void 0,x);L.success?(l(""),c(""),m(""),y([]),p("local"),t()):s(L.message)}catch(W){s("Failed to add server"),console.error("Failed to add stdio server:",W)}finally{o(!1)}},K=async()=>{if(!j.trim()){s("Server name is required");return}if(!k.trim()){s("URL is required");return}try{o(!0);const W=w.reduce((L,{key:R,value:O})=>(R.trim()&&O.trim()&&(L[R]=O),L),{}),se=await Y.mcpAdd(j,"sse",void 0,[],W,k,M);se.success?(b(""),v(""),S([]),f("local"),t()):s(se.message)}catch(W){s("Failed to add server"),console.error("Failed to add SSE server:",W)}finally{o(!1)}},Q=(W,se)=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(he,{className:"text-sm font-medium",children:"Environment Variables"}),e.jsxs(A,{variant:"outline",size:"sm",onClick:()=>E(W),className:"gap-2",children:[e.jsx(rt,{className:"h-3 w-3"}),"Add Variable"]})]}),se.length>0&&e.jsx("div",{className:"space-y-2",children:se.map(L=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(we,{placeholder:"KEY",value:L.key,onChange:R=>P(W,L.id,"key",R.target.value),className:"flex-1 font-mono text-sm"}),e.jsx("span",{className:"text-muted-foreground",children:"="}),e.jsx(we,{placeholder:"value",value:L.value,onChange:R=>P(W,L.id,"value",R.target.value),className:"flex-1 font-mono text-sm"}),e.jsx(A,{variant:"ghost",size:"icon",onClick:()=>_(W,L.id),className:"h-8 w-8 hover:text-destructive",children:e.jsx(dt,{className:"h-4 w-4"})})]},L.id))})]});return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold",children:"Add MCP Server"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Configure a new Model Context Protocol server"})]}),e.jsxs(ss,{value:n,onValueChange:W=>a(W),children:[e.jsxs(qt,{className:"grid w-full grid-cols-2 max-w-sm mb-6",children:[e.jsxs(Ae,{value:"stdio",className:"gap-2",children:[e.jsx(Xe,{className:"h-4 w-4 text-amber-500"}),"Stdio"]}),e.jsxs(Ae,{value:"sse",className:"gap-2",children:[e.jsx(mt,{className:"h-4 w-4 text-emerald-500"}),"SSE"]})]}),e.jsx(Ee,{value:"stdio",className:"space-y-6",children:e.jsxs(te,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{htmlFor:"stdio-name",children:"Server Name"}),e.jsx(we,{id:"stdio-name",placeholder:"my-server",value:i,onChange:W=>l(W.target.value)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"A unique name to identify this server"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{htmlFor:"stdio-command",children:"Command"}),e.jsx(we,{id:"stdio-command",placeholder:"/path/to/server",value:d,onChange:W=>c(W.target.value),className:"font-mono"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"The command to execute the server"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{htmlFor:"stdio-args",children:"Arguments (optional)"}),e.jsx(we,{id:"stdio-args",placeholder:"arg1 arg2 arg3",value:u,onChange:W=>m(W.target.value),className:"font-mono"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Space-separated command arguments"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{htmlFor:"stdio-scope",children:"Scope"}),e.jsx(On,{value:x,onValueChange:W=>p(W),options:[{value:"local",label:"Local (this project only)"},{value:"project",label:"Project (shared via .mcp.json)"},{value:"user",label:"User (all projects)"}]})]}),Q("stdio",g)]}),e.jsx("div",{className:"pt-2",children:e.jsx(A,{onClick:U,disabled:r,className:"w-full gap-2 bg-primary hover:bg-primary/90",children:r?e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4 animate-spin"}),"Adding Server..."]}):e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"h-4 w-4"}),"Add Stdio Server"]})})})]})}),e.jsx(Ee,{value:"sse",className:"space-y-6",children:e.jsxs(te,{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{htmlFor:"sse-name",children:"Server Name"}),e.jsx(we,{id:"sse-name",placeholder:"sse-server",value:j,onChange:W=>b(W.target.value)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"A unique name to identify this server"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{htmlFor:"sse-url",children:"URL"}),e.jsx(we,{id:"sse-url",placeholder:"https://example.com/sse-endpoint",value:k,onChange:W=>v(W.target.value),className:"font-mono"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"The SSE endpoint URL"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(he,{htmlFor:"sse-scope",children:"Scope"}),e.jsx(On,{value:M,onValueChange:W=>f(W),options:[{value:"local",label:"Local (this project only)"},{value:"project",label:"Project (shared via .mcp.json)"},{value:"user",label:"User (all projects)"}]})]}),Q("sse",w)]}),e.jsx("div",{className:"pt-2",children:e.jsx(A,{onClick:K,disabled:r,className:"w-full gap-2 bg-primary hover:bg-primary/90",children:r?e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4 animate-spin"}),"Adding Server..."]}):e.jsxs(e.Fragment,{children:[e.jsx(rt,{className:"h-4 w-4"}),"Add SSE Server"]})})})]})})]}),e.jsx(te,{className:"p-4 bg-muted/30",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(Tt,{className:"h-4 w-4 text-primary"}),e.jsx("span",{children:"Example Commands"})]}),e.jsx("div",{className:"space-y-2 text-xs text-muted-foreground",children:e.jsxs("div",{className:"font-mono bg-background p-2 rounded",children:[e.jsx("p",{children:' Postgres: /path/to/postgres-mcp-server --connection-string "postgresql://..."'}),e.jsx("p",{children:" Weather API: /usr/local/bin/weather-cli --api-key ABC123"}),e.jsx("p",{children:" SSE Server: https://api.example.com/mcp/stream"})]})})]})})]})},My=({onImportCompleted:t,onError:s})=>{const[n,a]=h.useState(!1),[r,o]=h.useState(!1),[i,l]=h.useState("local"),d=async()=>{try{a(!0);const x=await Y.mcpAddFromClaudeDesktop("user");if(x.servers&&x.servers.length>0){const p=x.servers.filter(y=>y.success),g=x.servers.filter(y=>!y.success);if(p.length>0){const y=`Successfully imported: ${p.map(j=>j.name).join(", ")}`;t(x.imported_count,x.failed_count),g.length===0&&s(y)}if(g.length>0){const y=g.map(j=>`${j.name}: ${j.error||"Unknown error"}`).join(`
`);s(`Failed to import some servers:
${y}`)}}else t(x.imported_count,x.failed_count)}catch(x){console.error("Failed to import from Claude Desktop:",x),s(x.toString()||"Failed to import from Claude Desktop")}finally{a(!1)}},c=async x=>{var g;const p=(g=x.target.files)==null?void 0:g[0];if(p)try{o(!0);const y=await p.text();let j;try{j=JSON.parse(y)}catch{s("Invalid JSON file. Please check the format.");return}if(j.mcpServers){let b=0,k=0;for(const[v,M]of Object.entries(j.mcpServers))try{const f={type:"stdio",command:M.command,args:M.args||[],env:M.env||{}};(await Y.mcpAddJson(v,JSON.stringify(f),i)).success?b++:k++}catch{k++}t(b,k)}else if(j.type&&j.command){const b=prompt("Enter a name for this server:");if(!b)return;const k=await Y.mcpAddJson(b,y,i);k.success?t(1,0):s(k.message)}else s("Unrecognized JSON format. Expected MCP server configuration.")}catch(y){console.error("Failed to import JSON:",y),s("Failed to import JSON file")}finally{o(!1),x.target.value=""}},u=()=>{s("Export functionality coming soon!")},m=async()=>{try{await Y.mcpServe(),s("Claude Code MCP server started. You can now connect to it from other applications.")}catch(x){console.error("Failed to start MCP server:",x),s("Failed to start Claude Code as MCP server")}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold",children:"Import & Export"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Import MCP servers from other sources or export your configuration"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(te,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($c,{className:"h-4 w-4 text-slate-500"}),e.jsx(he,{className:"text-sm font-medium",children:"Import Scope"})]}),e.jsx(On,{value:i,onValueChange:x=>l(x),options:[{value:"local",label:"Local (this project only)"},{value:"project",label:"Project (shared via .mcp.json)"},{value:"user",label:"User (all projects)"}]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Choose where to save imported servers from JSON files"})]})}),e.jsx(te,{className:"p-4 hover:bg-accent/5 transition-colors",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2.5 bg-blue-500/10 rounded-lg",children:e.jsx(Zt,{className:"h-5 w-5 text-blue-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Import from Claude Desktop"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Automatically imports all MCP servers from Claude Desktop. Installs to user scope (available across all projects)."})]})]}),e.jsx(A,{onClick:d,disabled:n,className:"w-full gap-2 bg-primary hover:bg-primary/90",children:n?e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4 animate-spin"}),"Importing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Zt,{className:"h-4 w-4"}),"Import from Claude Desktop"]})})]})}),e.jsx(te,{className:"p-4 hover:bg-accent/5 transition-colors",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2.5 bg-purple-500/10 rounded-lg",children:e.jsx($e,{className:"h-5 w-5 text-purple-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Import from JSON"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Import server configuration from a JSON file"})]})]}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:".json",onChange:c,disabled:r,className:"hidden",id:"json-file-input"}),e.jsx(A,{onClick:()=>{var x;return(x=document.getElementById("json-file-input"))==null?void 0:x.click()},disabled:r,className:"w-full gap-2",variant:"outline",children:r?e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4 animate-spin"}),"Importing..."]}):e.jsxs(e.Fragment,{children:[e.jsx($e,{className:"h-4 w-4"}),"Choose JSON File"]})})]})]})}),e.jsx(te,{className:"p-4 opacity-60",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2.5 bg-muted rounded-lg",children:e.jsx(Ln,{className:"h-5 w-5 text-muted-foreground"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Export Configuration"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Export your MCP server configuration"})]})]}),e.jsxs(A,{onClick:u,disabled:!0,variant:"secondary",className:"w-full gap-2",children:[e.jsx(Ln,{className:"h-4 w-4"}),"Export (Coming Soon)"]})]})}),e.jsx(te,{className:"p-4 border-primary/20 bg-primary/5 hover:bg-primary/10 transition-colors",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2.5 bg-green-500/20 rounded-lg",children:e.jsx(ds,{className:"h-5 w-5 text-green-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Use Claude Code as MCP Server"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Start Claude Code as an MCP server that other applications can connect to"})]})]}),e.jsxs(A,{onClick:m,variant:"outline",className:"w-full gap-2 border-green-500/20 hover:bg-green-500/10 hover:text-green-600 hover:border-green-500/50",children:[e.jsx(ds,{className:"h-4 w-4"}),"Start MCP Server"]})]})})]}),e.jsx(te,{className:"p-4 bg-muted/30",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(Tt,{className:"h-4 w-4 text-primary"}),e.jsx("span",{children:"JSON Format Examples"})]}),e.jsxs("div",{className:"space-y-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground mb-1",children:"Single server:"}),e.jsx("pre",{className:"bg-background p-3 rounded-lg overflow-x-auto",children:`{
  "type": "stdio",
  "command": "/path/to/server",
  "args": ["--arg1", "value"],
  "env": { "KEY": "value" }
}`})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-muted-foreground mb-1",children:"Multiple servers (.mcp.json format):"}),e.jsx("pre",{className:"bg-background p-3 rounded-lg overflow-x-auto",children:`{
  "mcpServers": {
    "server1": {
      "command": "/path/to/server1",
      "args": [],
      "env": {}
    },
    "server2": {
      "command": "/path/to/server2",
      "args": ["--port", "8080"],
      "env": { "API_KEY": "..." }
    }
  }
}`})]})]})]})})]})},Ty=({onBack:t,className:s})=>{const[n,a]=h.useState("servers"),[r,o]=h.useState([]),[i,l]=h.useState(!0),[d,c]=h.useState(null),[u,m]=h.useState(null);h.useEffect(()=>{x()},[]);const x=async()=>{try{l(!0),c(null),console.log("MCPManager: Loading servers...");const j=await Y.mcpList();console.log("MCPManager: Received server list:",j),console.log("MCPManager: Server count:",j.length),o(j)}catch(j){console.error("MCPManager: Failed to load MCP servers:",j),c("Failed to load MCP servers. Make sure Claude Code is installed.")}finally{l(!1)}},p=()=>{x(),m({message:"MCP server added successfully!",type:"success"}),a("servers")},g=j=>{o(b=>b.filter(k=>k.name!==j)),m({message:`Server "${j}" removed successfully!`,type:"success"})},y=(j,b)=>{x(),m(b===0?{message:`Successfully imported ${j} server${j>1?"s":""}!`,type:"success"}:{message:`Imported ${j} server${j>1?"s":""}, ${b} failed`,type:"error"})};return e.jsxs("div",{className:`flex flex-col h-full bg-background text-foreground ${s||""}`,children:[e.jsxs("div",{className:"max-w-5xl mx-auto w-full flex flex-col h-full",children:[e.jsx(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex items-center justify-between p-4 border-b border-border",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{variant:"ghost",size:"icon",onClick:t,className:"h-8 w-8",children:e.jsx(pt,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(ds,{className:"h-5 w-5 text-blue-500"}),"MCP Servers"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage Model Context Protocol servers"})]})]})}),e.jsx(ke,{children:d&&e.jsxs(J.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mx-4 mt-4 p-3 rounded-lg bg-destructive/10 border border-destructive/50 flex items-center gap-2 text-sm text-destructive",children:[e.jsx(De,{className:"h-4 w-4"}),d]})}),i?e.jsx("div",{className:"flex-1 flex items-center justify-center",children:e.jsx(ve,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):e.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:e.jsxs(ss,{value:n,onValueChange:a,className:"space-y-6",children:[e.jsxs(qt,{className:"grid w-full max-w-md grid-cols-3",children:[e.jsxs(Ae,{value:"servers",className:"gap-2",children:[e.jsx(ds,{className:"h-4 w-4 text-blue-500"}),"Servers"]}),e.jsxs(Ae,{value:"add",className:"gap-2",children:[e.jsx(rt,{className:"h-4 w-4 text-green-500"}),"Add Server"]}),e.jsxs(Ae,{value:"import",className:"gap-2",children:[e.jsx(Zt,{className:"h-4 w-4 text-purple-500"}),"Import/Export"]})]}),e.jsx(Ee,{value:"servers",className:"mt-6",children:e.jsx(te,{children:e.jsx(Cy,{servers:r,loading:!1,onServerRemoved:g,onRefresh:x})})}),e.jsx(Ee,{value:"add",className:"mt-6",children:e.jsx(te,{children:e.jsx(Sy,{onServerAdded:p,onError:j=>m({message:j,type:"error"})})})}),e.jsx(Ee,{value:"import",className:"mt-6",children:e.jsx(te,{className:"overflow-hidden",children:e.jsx(My,{onImportCompleted:y,onError:j=>m({message:j,type:"error"})})})})]})})]}),e.jsx(Lt,{children:u&&e.jsx(Dt,{message:u.message,type:u.type,onDismiss:()=>m(null)})})]})};async function Mo(t,s){await G("plugin:opener|open_url",{url:t,with:s})}const Ay="/assets/asterisk-logo-B09BSk2Z.png",Ey="/assets/claudia-nfo-CGCcrpzI.ogg",Py=({onClose:t})=>{const s=h.useRef(null),n=h.useRef(null),[a,r]=h.useState(!1),[o,i]=h.useState(0);h.useEffect(()=>{const c=new Audio(Ey);return c.loop=!0,c.volume=.7,c.muted=!0,s.current=c,c.play().then(()=>{c.muted=!1}).catch(u=>{console.error("Audio autoplay failed:",u)}),()=>{s.current&&(s.current.pause(),s.current.src="",s.current=null)}},[]);const l=()=>{s.current&&(s.current.muted=!a,r(!a))};h.useEffect(()=>{const c=setInterval(()=>{i(u=>u+1)},30);return()=>clearInterval(c)},[]),h.useEffect(()=>{if(n.current){const c=n.current.scrollHeight-n.current.clientHeight;o>=c?(i(0),n.current.scrollTop=0):n.current.scrollTop=o}},[o]);const d=[{type:"header",text:"CLAUDIA v0.1.0"},{type:"subheader",text:"[ A STRATEGIC PROJECT BY ASTERISK ]"},{type:"spacer"},{type:"section",title:" CREDITS "},{type:"credit",role:"POWERED BY",name:"Anthropic Claude 4"},{type:"credit",role:"CLAUDE CODE",name:"The Ultimate Coding Assistant"},{type:"credit",role:"MCP PROTOCOL",name:"Model Context Protocol"},{type:"spacer"},{type:"section",title:" DEPENDENCIES "},{type:"credit",role:"RUNTIME",name:"Tauri Framework"},{type:"credit",role:"UI FRAMEWORK",name:"React + TypeScript"},{type:"credit",role:"STYLING",name:"Tailwind CSS + shadcn/ui"},{type:"credit",role:"ANIMATIONS",name:"Framer Motion"},{type:"credit",role:"BUILD TOOL",name:"Vite"},{type:"credit",role:"PACKAGE MANAGER",name:"Bun"},{type:"spacer"},{type:"section",title:" SPECIAL THANKS "},{type:"text",content:"To the open source community"},{type:"text",content:"To all the beta testers"},{type:"text",content:"To everyone who believed in this project"},{type:"spacer"},{type:"ascii",content:`
      .   .    .    
       .   .   . 
      . 
      .
              .      
    `},{type:"spacer"},{type:"text",content:"Remember: Sharing is caring!"},{type:"text",content:"Support the developers!"},{type:"spacer"},{type:"spacer"},{type:"spacer"}];return e.jsx(ke,{children:e.jsxs(J.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md",onClick:t}),e.jsx(J.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"relative z-10",children:e.jsxs(te,{className:"w-[600px] h-[500px] bg-background border-border shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-card border-b border-border",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("div",{className:"text-sm font-bold tracking-wider font-mono text-foreground",children:"CLAUDIA.NFO"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(A,{variant:"ghost",size:"sm",onClick:async c=>{c.stopPropagation(),await Mo("https://github.com/getAsterisk/claudia/issues/new")},className:"flex items-center gap-1 h-auto px-2 py-1",title:"File a bug",children:[e.jsx(Dc,{className:"h-3 w-3"}),e.jsx("span",{className:"text-xs",children:"File a bug"})]}),e.jsx(A,{variant:"ghost",size:"sm",onClick:c=>{c.stopPropagation(),l()},className:"h-6 w-6 p-0",children:a?e.jsx(Tg,{className:"h-4 w-4"}):e.jsx(Mg,{className:"h-4 w-4"})}),e.jsx(A,{variant:"ghost",size:"sm",onClick:c=>{c.stopPropagation(),t()},className:"h-6 w-6 p-0",children:e.jsx(ot,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"relative h-[calc(100%-40px)] bg-background overflow-hidden",children:[e.jsxs("div",{className:"absolute top-0 left-0 right-0 bg-background z-10 pb-4 text-center",children:[e.jsx("button",{className:"inline-block mt-4 hover:scale-110 transition-transform cursor-pointer",onClick:async c=>{c.stopPropagation(),await Mo("https://asterisk.so")},children:e.jsx("img",{src:Ay,alt:"Asterisk",className:"h-20 w-auto mx-auto filter brightness-0 invert opacity-90"})}),e.jsx("div",{className:"text-muted-foreground text-sm font-mono mt-2 tracking-wider",children:"A strategic project by Asterisk"})]}),e.jsx("div",{ref:n,className:"absolute inset-0 top-32 overflow-hidden",style:{fontFamily:"'Courier New', monospace"},children:e.jsx("div",{className:"px-8 pb-32",children:d.map((c,u)=>{switch(c.type){case"header":return e.jsx("div",{className:"text-foreground text-3xl font-bold text-center mb-2 tracking-widest",children:c.text},u);case"subheader":return e.jsx("div",{className:"text-muted-foreground text-lg text-center mb-8 tracking-wide",children:c.text},u);case"section":return e.jsx("div",{className:"text-foreground text-xl font-bold text-center my-6 tracking-wider",children:c.title},u);case"credit":return e.jsxs("div",{className:"flex justify-between items-center mb-2 text-foreground",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[c.role,":"]}),e.jsx("span",{className:"text-base tracking-wide",children:c.name})]},u);case"text":return e.jsx("div",{className:"text-muted-foreground text-center text-sm mb-2",children:c.content},u);case"ascii":return e.jsx("pre",{className:"text-foreground text-xs text-center my-6 leading-tight opacity-80",children:c.content},u);case"spacer":return e.jsx("div",{className:"h-8"},u);default:return null}})})}),e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-foreground/[0.02] to-transparent animate-scanlines"})})]})]})})]})})};function _y({open:t,onOpenChange:s,onSuccess:n,onError:a}){const[r,o]=h.useState(null),[i,l]=h.useState(!1),[d,c]=h.useState(!0),[u,m]=h.useState(!0);h.useEffect(()=>{t&&x()},[t]);const x=async()=>{try{m(!0);const g=await Y.listClaudeInstallations();c(g.length>0)}catch{c(!1)}finally{m(!1)}},p=async()=>{if(!r){a("Please select a Claude installation");return}l(!0);try{await Y.setClaudeBinaryPath(r.path),n(),s(!1)}catch(g){console.error("Failed to save Claude binary path:",g),a(g instanceof Error?g.message:"Failed to save Claude binary path")}finally{l(!1)}};return e.jsx(Je,{open:t,onOpenChange:s,children:e.jsxs(Ge,{className:"sm:max-w-[600px]",children:[e.jsxs(et,{children:[e.jsxs(Ye,{className:"flex items-center gap-2",children:[e.jsx(lf,{className:"w-5 h-5"}),"Select Claude Code Installation"]}),e.jsxs(xt,{className:"space-y-3 mt-4",children:[u?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(ve,{className:"h-6 w-6 animate-spin text-muted-foreground"}),e.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Searching for Claude installations..."})]}):d?e.jsx("p",{children:"Multiple Claude Code installations were found on your system. Please select which one you'd like to use."}):e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"Claude Code was not found in any of the common installation locations. Please install Claude Code to continue."}),e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-md",children:[e.jsx(De,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Searched locations:"})," PATH, /usr/local/bin, /opt/homebrew/bin, ~/.nvm/versions/node/*/bin, ~/.claude/local, ~/.local/bin"]})]})]}),!u&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-muted rounded-md",children:[e.jsx(Xe,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"Tip:"})," You can install Claude Code using"," ",e.jsx("code",{className:"px-1 py-0.5 bg-black/10 dark:bg-white/10 rounded",children:"npm install -g @claude"})]})]})]})]}),!u&&d&&e.jsx("div",{className:"py-4",children:e.jsx(Jc,{onSelect:g=>o(g),selectedPath:null})}),e.jsxs(yt,{className:"gap-3",children:[e.jsxs(A,{variant:"outline",onClick:()=>window.open("https://docs.claude.ai/claude/how-to-install","_blank"),className:"mr-auto",children:[e.jsx(Mr,{className:"w-4 h-4 mr-2"}),"Installation Guide"]}),e.jsx(A,{variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),e.jsx(A,{onClick:p,disabled:i||!r||!d,children:i?"Validating...":d?"Save Selection":"No Installations Found"})]})]})})}const Fy=({project:t,onBack:s,className:n})=>{const[a,r]=h.useState("project"),[o,i]=h.useState(null),[l,d]=h.useState(!0);h.useEffect(()=>{c()},[t]);const c=async()=>{try{const m=`${t.path}/.gitignore`,x=await Y.readClaudeMdFile(m);d(x.includes(".claude/settings.local.json"))}catch{d(!1)}},u=async()=>{try{const m=`${t.path}/.gitignore`;let x="";try{x=await Y.readClaudeMdFile(m)}catch{}x.includes(".claude/settings.local.json")||(x+=`
# Claude local settings (machine-specific)
.claude/settings.local.json
`,await Y.saveClaudeMdFile(m,x),d(!0),i({message:"Added to .gitignore",type:"success"}))}catch(m){console.error("Failed to update .gitignore:",m),i({message:"Failed to update .gitignore",type:"error"})}};return e.jsxs("div",{className:D("flex flex-col h-full",n),children:[e.jsxs("div",{className:"border-b px-6 py-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(A,{variant:"ghost",size:"sm",onClick:s,children:[e.jsx(pt,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ht,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("h2",{className:"text-xl font-semibold",children:"Hooks"})]})]})}),e.jsx("div",{className:"mt-4 flex items-center gap-4 text-sm text-muted-foreground",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ut,{className:"h-4 w-4"}),e.jsx("span",{className:"font-mono",children:t.path})]})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx("div",{className:"p-6",children:e.jsxs(ss,{value:a,onValueChange:r,children:[e.jsxs(qt,{className:"mb-6",children:[e.jsxs(Ae,{value:"project",className:"gap-2",children:[e.jsx(Qt,{className:"h-4 w-4"}),"Project Hooks"]}),e.jsxs(Ae,{value:"local",className:"gap-2",children:[e.jsx(Pr,{className:"h-4 w-4"}),"Local Hooks"]})]}),e.jsx(Ee,{value:"project",className:"space-y-6",children:e.jsx(te,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Project Hooks"}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["These hooks apply to all users working on this project. They are stored in",e.jsx("code",{className:"mx-1 px-2 py-1 bg-muted rounded text-xs",children:".claude/settings.json"}),"and should be committed to version control."]})]}),e.jsx(on,{projectPath:t.path,scope:"project"})]})})}),e.jsx(Ee,{value:"local",className:"space-y-6",children:e.jsx(te,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Local Hooks"}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:["These hooks only apply to your machine. They are stored in",e.jsx("code",{className:"mx-1 px-2 py-1 bg-muted rounded text-xs",children:".claude/settings.local.json"}),"and should NOT be committed to version control."]}),!l&&e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-yellow-500/10 rounded-md",children:[e.jsx(ks,{className:"h-5 w-5 text-yellow-600"}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-yellow-600",children:"Local settings file is not in .gitignore"})}),e.jsx(A,{size:"sm",variant:"outline",onClick:u,children:"Add to .gitignore"})]})]}),e.jsx(on,{projectPath:t.path,scope:"local"})]})})})]})})}),e.jsx(Lt,{children:o&&e.jsx(Dt,{message:o.message,type:o.type,onDismiss:()=>i(null)})})]})};function Ry(){const[t,s]=h.useState("welcome"),[n,a]=h.useState([]),[r,o]=h.useState(null),[i,l]=h.useState([]),[d,c]=h.useState(null),[u,m]=h.useState(null),[x,p]=h.useState(!0),[g,y]=h.useState(null),[j,b]=h.useState(!1),[k,v]=h.useState(!1),[M,f]=h.useState(null),[w,S]=h.useState(null),[E,P]=h.useState(!1),[_,U]=h.useState(null),[K,Q]=h.useState("welcome");h.useEffect(()=>{t==="projects"?W():t==="welcome"&&p(!1)},[t]),h.useEffect(()=>{const $=re=>{const{session:F}=re.detail;m(F),V("claude-code-session")},Z=()=>{v(!0)};return window.addEventListener("claude-session-selected",$),window.addEventListener("claude-not-found",Z),()=>{window.removeEventListener("claude-session-selected",$),window.removeEventListener("claude-not-found",Z)}},[]);const W=async()=>{try{p(!0),y(null);const $=await Y.listProjects();a($)}catch($){console.error("Failed to load projects:",$),y("Failed to load projects. Please ensure ~/.claude directory exists.")}finally{p(!1)}},se=async $=>{try{p(!0),y(null);const Z=await Y.getProjectSessions($.id);l(Z),o($)}catch(Z){console.error("Failed to load sessions:",Z),y("Failed to load sessions for this project.")}finally{p(!1)}},L=async()=>{V("claude-code-session"),m(null)},R=()=>{o(null),l([])},O=$=>{c($),V("claude-file-editor")},ee=()=>{c(null),V("projects")},V=$=>{t==="claude-code-session"&&E&&w&&!window.confirm(`Claude is still responding. If you navigate away, Claude will continue running in the background.

You can return to this session from the Projects view.

Do you want to continue?`)||s($)},ue=$=>{U($),V("project-settings")},pe=$=>{const re={id:$.replace(/[^a-zA-Z0-9]/g,"-"),path:$,sessions:[],created_at:Date.now()/1e3};U(re),Q(t),V("project-settings")},Ne=()=>{switch(t){case"welcome":return e.jsx("div",{className:"flex items-center justify-center p-4",style:{height:"100%"},children:e.jsxs("div",{className:"w-full max-w-4xl",children:[e.jsx(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-12 text-center",children:e.jsxs("h1",{className:"text-4xl font-bold tracking-tight",children:[e.jsx("span",{className:"rotating-symbol"}),"Welcome to Claudia"]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[e.jsx(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1},children:e.jsx(te,{className:"h-64 cursor-pointer transition-all duration-200 hover:scale-105 hover:shadow-lg border border-border/50 shimmer-hover trailing-border",onClick:()=>V("cc-agents"),children:e.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8",children:[e.jsx(ts,{className:"h-16 w-16 mb-4 text-primary"}),e.jsx("h2",{className:"text-xl font-semibold",children:"CC Agents"})]})})}),e.jsx(J.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:e.jsx(te,{className:"h-64 cursor-pointer transition-all duration-200 hover:scale-105 hover:shadow-lg border border-border/50 shimmer-hover trailing-border",onClick:()=>V("projects"),children:e.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-8",children:[e.jsx(pf,{className:"h-16 w-16 mb-4 text-primary"}),e.jsx("h2",{className:"text-xl font-semibold",children:"CC Projects"})]})})})]})]})});case"cc-agents":return e.jsx(xy,{onBack:()=>V("welcome")});case"editor":return e.jsx("div",{className:"flex-1 overflow-hidden",children:e.jsx(a0,{onBack:()=>V("welcome")})});case"settings":return e.jsx("div",{className:"flex-1 flex flex-col",style:{minHeight:0},children:e.jsx(p0,{onBack:()=>V("welcome")})});case"projects":return e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs(J.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-6",children:[e.jsx(A,{variant:"ghost",size:"sm",onClick:()=>V("welcome"),className:"mb-4",children:" Back to Home"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"CC Projects"}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Browse your Claude Code sessions"})]})]}),g&&e.jsx(J.div,{initial:{opacity:0},animate:{opacity:1},className:"mb-4 rounded-lg border border-destructive/50 bg-destructive/10 p-3 text-xs text-destructive max-w-2xl",children:g}),x&&e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx(ve,{className:"h-6 w-6 animate-spin text-muted-foreground"})}),!x&&e.jsx(ke,{mode:"wait",children:r?e.jsx(J.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:e.jsx(t0,{sessions:i,projectPath:r.path,onBack:R,onEditClaudeFile:O})},"sessions"):e.jsxs(J.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:[e.jsx(J.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-4",children:e.jsxs(A,{onClick:L,size:"default",className:"w-full max-w-md",children:[e.jsx(rt,{className:"mr-2 h-4 w-4"}),"New Claude Code session"]})}),e.jsx(s0,{}),n.length>0?e.jsx(Qg,{projects:n,onProjectClick:se,onProjectSettings:ue,loading:x,className:"animate-fade-in"}):e.jsx("div",{className:"py-8 text-center",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"No projects found in ~/.claude/projects"})})]},"projects")})]})});case"claude-file-editor":return d?e.jsx(r0,{file:d,onBack:ee}):null;case"claude-code-session":return e.jsx(by,{session:u||void 0,onBack:()=>{m(null),V("projects")},onStreamingChange:($,Z)=>{P($),S(Z)},onProjectSettings:pe});case"usage-dashboard":return e.jsx(ky,{onBack:()=>V("welcome")});case"mcp":return e.jsx(Ty,{onBack:()=>V("welcome")});case"project-settings":if(_)return e.jsx(Fy,{project:_,onBack:()=>{U(null),V(K||"projects")}});break;default:return null}};return e.jsx(Lg,{children:e.jsxs("div",{className:"h-screen bg-background flex flex-col",children:[e.jsx(n0,{onClaudeClick:()=>V("editor"),onSettingsClick:()=>V("settings"),onUsageClick:()=>V("usage-dashboard"),onMCPClick:()=>V("mcp"),onInfoClick:()=>b(!0)}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:Ne()}),j&&e.jsx(Py,{onClose:()=>b(!1)}),e.jsx(_y,{open:k,onOpenChange:v,onSuccess:()=>{f({message:"Claude binary path saved successfully",type:"success"}),window.location.reload()},onError:$=>f({message:$,type:"error"})}),e.jsx(Lt,{children:M&&e.jsx(Dt,{message:M.message,type:M.type,onDismiss:()=>f(null)})})]})})}Bd.createRoot(document.getElementById("root")).render(e.jsx(Nt.StrictMode,{children:e.jsx(Ps,{children:e.jsx(Ry,{})})}));
